(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{42763:function(e,n,i){"use strict";i.d(n,{G:function(){return l}});var r=i(5632),t=i.n(r),s=i(2784),o=i(98875),l=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=(0,o.ye)(e),r=(0,o.yZ)().hasInitialized?!i:null;return(0,s.useEffect)(function(){!0===r&&t().replace(n)},[r,n]),r}},8980:function(e,n,i){"use strict";i.d(n,{m:function(){return j}});var r=i(20406),t=i(95235),s=i(28526),o=i.n(s),l=i(65616),a=i(48484),c=i(37914),d=i(28139),u=i(4038);function h(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function x(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?h(Object(i),!0).forEach(function(n){(0,t.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var p=function(e){var n="",i=!1;if("transloadit"in e){var r=e.failed,t=e.transloadit;i=!!r.length,n=t[0].results[":original"][0].url}else{if(!("results"in e))return{sourceUrl:n,success:!1};n=e.results[":original"][0].url}return i?{sourceUrl:n,success:!1}:{sourceUrl:n,success:!0}},j=function(e,n){var i,t=new l.ZP(x(x({},d.N$),{},{restrictions:x(x({},d.N$.restrictions),{},{allowedFileTypes:d.Ge})}));return t.use(a.ZP,{assemblyOptions:(i=(0,r.Z)(o().mark(function n(){var i,r,t,s;return o().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=c.v.TRANSLOADIT_FILE_TEMPLATE_ID,n.next=3,(0,u.xQ)(i);case 3:return t=(r=n.sent).signature,s=r.expires,n.abrupt("return",{params:{auth:{key:c.v.TRANSLOADIT_AUTH_KEY,expires:s},template_id:i},fields:{orgId:e},signature:t});case 7:case"end":return n.stop()}},n)})),function(){return i.apply(this,arguments)}),waitForEncoding:!0}),new Promise(function(e,i){t.on("complete",function(n){var r=p(n),t=r.success,s=r.sourceUrl;t?e(s):i("Could not get sourceUrl from upload result")}),t.on("transloadit:complete",function(n){var r=p(n),t=r.success,s=r.sourceUrl;t?e(s):i("Could not get sourceUrl from result")}),t.on("error",function(e){i(e)}),t.on("restriction-failed",function(e,n){console.error("[uploadFontFile] restriction failed on file",e,"error",n),i(n)}),t.addFile({name:n.name,type:n.type,data:n}),d.N$.autoProceed||t.upload()})}},35541:function(e,n,i){"use strict";i.d(n,{E:function(){return l}});var r=i(2784),t=i(28139),s=i(52322),o={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},l=function(e){var n=e.handleFilesCallback,i=e.multiple,l=void 0!==i&&i,a=e.accept,c=void 0===a?t.pK.join(","):a,d=(0,r.useRef)(null);return{inputElement:(0,r.useMemo)(function(){return(0,s.jsx)("input",{ref:d,className:"gamma-FileInput-input",style:o,type:"file",name:"gamma-file-input",multiple:l,accept:c,onChange:function(e){var i=e.target;i&&i.files&&(n(Array.from(i.files)),i.value=null)}})},[c,n,l]),onClick:(0,r.useCallback)(function(){var e;null===(e=d.current)||void 0===e||e.click()},[])}}},34831:function(e,n,i){"use strict";i.d(n,{g:function(){return A}});var r=i(95235),t=i(92488),s=i(8783),o=i(55452),l=i(9088),a=i(30893),c=i(45650),d=i(94301),u=i(40771),h=i(82904),x=i(36895),p=i(4036),j=i(95258),f=i(53738),m=i(49929),g=i(82863),v=i(37914),b=i(98875),C=i(27144),y=i(60945),w=i(65261),O=i(28170),k=i(20078),S=i(16726),I=i(52322);function D(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function T(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?D(Object(i),!0).forEach(function(n){(0,r.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var A=function(e){var n=(0,b.ye)("docImport"),i=(0,b.ye)("pptImport");return n||i?(0,I.jsx)(g.rg,{clientId:v.v.GOOGLE_DRIVE_IMPORT_CLIENT_ID,children:(0,I.jsx)(P,T({},e))}):null},P=function(e){var n=e.handleImport,i=e.isDisabled,r=e.buttonProps,g=e.helpTip,v=(0,b.ye)("docImport"),D=(0,b.ye)("pptImport"),A=(0,S.S)({onUploadComplete:n}),P=A.initiateDocUpload,E=A.hiddenInputElement,_=A.isUploading,F=(0,k.H)({onImportComplete:n}),N=F.initiateGoogleImport,z=F.isImporting;return(0,I.jsxs)(l.v,{children:[(0,I.jsx)(a.j,T(T({as:c.z,onFocus:function(e){return e.preventDefault()},"data-testid":"import-doc-button",isDisabled:i,leftIcon:(0,I.jsx)(m.G,{icon:s.Vm}),rightIcon:(0,I.jsx)(m.G,{icon:t.gc}),sx:{span:{flexGrow:0}},isLoading:_||z},r),{},{children:(0,I.jsx)(o.cC,{id:"l3s5ri"})})),(0,I.jsx)(d.h,{children:(0,I.jsxs)(u.q,{maxW:"350px",zIndex:"tooltip",children:[v&&(0,I.jsx)(h.s,{icon:(0,I.jsx)(x.E,{h:"1.5em",w:"1.5em",src:C.Z.src}),onClick:N,children:(0,I.jsx)(o.cC,{id:"cuyHFX"})}),v&&D&&(0,I.jsxs)(h.s,{icon:(0,I.jsx)(x.E,{h:"1.5em",w:"1.5em",src:y.Z.src}),onClick:N,children:[(0,I.jsx)(o.cC,{id:"W/x3L4"}),(0,I.jsx)(p.C,{colorScheme:"green",ml:2,children:(0,I.jsx)(o.cC,{id:"YBt9YP"})})]}),D&&(0,I.jsx)(h.s,{icon:(0,I.jsx)(x.E,{h:"1.5em",w:"1.5em",src:w.Z.src}),onClick:P,children:(0,I.jsx)(o.cC,{id:"KMcdT7"})}),D&&(0,I.jsxs)(h.s,{icon:(0,I.jsx)(x.E,{h:"1.5em",w:"1.5em",src:O.Z.src}),onClick:P,children:[(0,I.jsx)(o.cC,{id:"r5rK8L"}),(0,I.jsx)(p.C,{colorScheme:"green",ml:2,children:(0,I.jsx)(o.cC,{id:"YBt9YP"})})]}),g&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(j.R,{}),(0,I.jsx)(f.xu,{px:4,py:0,children:g})]}),E]})})]})}},10464:function(e,n,i){"use strict";i.d(n,{x:function(){return l}});var r=i(72338),t=i(4707),s=i(74993),o=i(86297),l=function(e,n){var i,l,a=(0,t.e)(),c=(0,r.J1)(a),d=(0,s.T)(e,c,n,!1).slice,u=(null===(i=d.toJSON())||void 0===i?void 0:i.content)||[];if(u.every(function(e){return"card"===e.type}))l=(0,o.vL)(void 0,u);else{var h=u.filter(function(e){return c.nodes[e.type].isBlock})||[];l=(0,o.vL)(void 0,[{type:"card",content:h}])}return console.debug("Parsing imported doc",{doc:l,slice:d,splitContent:u,html:e}),l}},20078:function(e,n,i){"use strict";i.d(n,{H:function(){return g}});var r=i(81333),t=i(20406),s=i(28526),o=i.n(s),l=i(55452),a=i(55479),c=i(82863),d=i(2784),u=i(37914),h=i(98875),x=i(10710),p=i(34860),j=i(16726),f=i(52322),m="https://www.googleapis.com/auth/drive.file",g=function(e){var n=(0,d.useState)(!1),i=n[0],s=n[1],g=(0,d.useState)(),v=g[0],b=g[1],C=(0,a.p)(),y=(0,x.SE)().user,w=(0,d.useState)(!1),O=w[0],k=w[1],S=(0,j.S)({onUploadComplete:e.onImportComplete}).handleDocUpload,I=(0,d.useCallback)(function(e,n,i,r){var s,a,c="https://www.googleapis.com/drive/v3/files/".concat(n,"?fields=exportLinks");k(!0);var d=C({id:"load-doc-toast-".concat(n),position:"top",duration:null,status:"loading",variant:"subtle",title:(0,f.jsx)(l.cC,{id:"hdsaJo"}),description:(0,f.jsx)(l.cC,{id:"5VLwXq"}),isClosable:!1});fetch(c,{headers:{Authorization:"Bearer ".concat(e)}}).then((s=(0,t.Z)(o().mark(function e(n){var i,r,t;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==n.status)){e.next=6;break}return e.next=3,n.json();case 3:return t=null==(r=e.sent)?void 0:null===(i=r.error)||void 0===i?void 0:i.message,e.abrupt("return",Promise.reject(t?"Google Drive error ".concat(n.status,": ").concat(t):"Google Drive error ".concat(n.status)));case 6:return e.abrupt("return",n.json());case 7:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})).then((a=(0,t.Z)(o().mark(function n(r){var t,s;return o().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=r.exportLinks[i],n.next=3,fetch(t,{headers:{Authorization:"Bearer ".concat(e)}});case 3:return s=n.sent,n.abrupt("return",s.blob());case 5:case"end":return n.stop()}},n)})),function(e){return a.apply(this,arguments)})).then(function(e){S([new File([e],"".concat(r,".pptx"),{type:i})]),k(!1),C.close(d)}).catch(function(e){console.error("Error importing doc ".concat(n," from google"),e),k(!1),C.update(d,{status:"error",title:(0,f.jsx)(l.cC,{id:"SlfejT"}),description:e.message||e||(0,f.jsx)(l.cC,{id:"lIW942"}),duration:5e3,isClosable:!0})})},[C,S]),D=(0,d.useCallback)(function(n,i,r,t){var s="https://www.googleapis.com/drive/v3/files/".concat(i,"/export?mimeType=").concat(r);k(!0);var o=C({id:"load-doc-toast-".concat(i),position:"top",duration:null,status:"loading",variant:"subtle",title:(0,f.jsx)(l.cC,{id:"hdsaJo"}),description:(0,f.jsx)(l.cC,{id:"gmwDJx"}),isClosable:!1});fetch(s,{headers:{Authorization:"Bearer ".concat(n)}}).then(function(e){return e.text()}).then(function(n){e.onImportComplete({html:n,filename:t,source:"GoogleDocs"}),C.update(o,{status:"success",title:(0,f.jsx)(l.cC,{id:"oMgC5V"}),duration:5e3,isClosable:!0}),k(!1)}).catch(function(e){console.error("Error importing doc ".concat(i," from google"),e),k(!1)})},[e,C]),T=(0,d.useCallback)(function(e,n){if("picked"===n.action){var i=(0,r.Z)(n.docs,1)[0];"application/vnd.google-apps.document"===i.mimeType?D(e,i.id,"text/html",i.name):"application/vnd.google-apps.presentation"===i.mimeType&&I(e,i.id,"application/vnd.openxmlformats-officedocument.presentationml.presentation",i.name)}},[D,I]),A=(0,d.useCallback)(function(e){b(e);var n=window.google,i=h.VH.get("pptImport"),r=["application/vnd.google-apps.document",i&&"application/vnd.google-apps.presentation"].filter(function(e){return!!e}),t=new n.picker.DocsView(n.picker.ViewId.DOCS).setMimeTypes(r.join(",")),s=new n.picker.PickerBuilder().addView(t).addView(n.picker.ViewId.FOLDERS).setOAuthToken(e).setAppId(u.v.GOOGLE_PROJECT_ID).setDeveloperKey(u.v.GOOGLE_API_KEY).setCallback(function(n){T(e,n)});i&&s.addView(n.picker.ViewId.DOCUMENTS).addView(n.picker.ViewId.PRESENTATIONS),s.build().setVisible(!0),Array.from(document.getElementsByClassName("picker-dialog")).forEach(function(e){e.style.zIndex="2000"})},[T]),P=(0,d.useCallback)(function(e){console.error("Google auth failed:",e),C({title:(0,f.jsx)(l.cC,{id:"FL/pCd",values:{error:e}}),status:"error",duration:3e3,position:"top",isClosable:!1})},[C]),E=(0,c.Nq)({scope:m,hint:null==y?void 0:y.email,prompt:"",onSuccess:function(e){(0,c.FX)(e,m)?A(e.access_token):P("Could not get requested scopes")},onError:P}),_=(0,d.useCallback)(function(){window.gapi.load("picker",function(){s(!0)})},[]);return(0,p.Gq)("https://apis.google.com/js/api.js",{onload:_}),{initiateGoogleImport:(0,d.useCallback)(function(){i&&(v?A(v):E())},[v,E,i,A]),isImporting:O}}},16726:function(e,n,i){"use strict";i.d(n,{S:function(){return j}});var r=i(12741),t=i(20406),s=i(28526),o=i.n(s),l=i(55452),a=i(55479),c=i(2784),d=i(37914),u=i(4038),h=i(10710),x=i(35541),p=i(52322),j=function(e){var n,i=(0,a.p)(),s=(0,h.SE)().currentWorkspace,j=(0,c.useState)(!1),f=j[0],m=j[1],g=(0,c.useCallback)((n=(0,t.Z)(o().mark(function n(r){var a,c,h,x;return o().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:null===(a=e.onUploadStarted)||void 0===a||a.call(e),m(!0),c=r[0],h=u.eb.includes(c.type),x=i({id:"load-doc-toast-".concat(c.name),position:"top",duration:null,status:"loading",variant:"subtle",title:(0,p.jsx)(l.cC,{id:"hdsaJo"}),description:(0,p.jsx)(l.cC,{id:"HOoZAi"}),isClosable:!1}),(0,u.cT)(c,null==s?void 0:s.id,{onUploadComplete:function(){var n=(0,t.Z)(o().mark(function n(r){var t,s,a,c;return o().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=r.src,s=r.name,n.next=3,fetch(t).then(function(e){return e.text()});case 3:a=n.sent,c=s.replace(/[.]html$/,""),e.onUploadComplete({html:a,filename:c,source:h?"PptxUpload":"DocxUpload"}),i.update(x,{status:"success",title:(0,p.jsx)(l.cC,{id:"oMgC5V"}),duration:5e3,isClosable:!0}),m(!1);case 8:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}(),onUploadFailed:function(n){var r;i.update(x,{status:"error",title:(0,p.jsx)(l.cC,{id:"SlfejT"}),description:(0,p.jsx)(l.cC,{id:"lIW942"}),duration:5e3,isClosable:!0}),null===(r=e.onUploadFailed)||void 0===r||r.call(e,n),m(!1)}},void 0,"importDoc",d.v.TRANSLOADIT_DOC_IMPORT_TEMPLATE_ID);case 6:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}),[null==s?void 0:s.id,e,i]),v=(0,x.E)({handleFilesCallback:g,multiple:!1,accept:[].concat((0,r.Z)(u.u0),(0,r.Z)(u.eb)).join(",")});return{initiateDocUpload:v.onClick,hiddenInputElement:v.inputElement,isUploading:f,handleDocUpload:g}}},23718:function(e,n,i){"use strict";i.d(n,{X:function(){return c}});var r=i(81333),t=i(5632),s=i(2784),o=i(57973),l=i(51823),a=i(49392),c=function(e){var n=(0,o.X)(a.H.lastHomeUrl,"/"),i=(0,r.Z)(n,2),c=(i[0],i[1]),d=(0,t.useRouter)();(0,s.useEffect)(function(){var n=function(n){e&&(0,l.y6)(n)&&c(n)};return d.events.on("routeChangeStart",n),d.events.on("hashChangeStart",n),function(){d.events.off("routeChangeStart",n),d.events.off("hashChangeStart",n)}},[d.events,c,e])};i(47270)},55114:function(e,n,i){"use strict";i.d(n,{a:function(){return I}});var r=i(81333),t=i(55452),s=i(87254),o=i(53738),l=i(71354),a=i(2046),c=i(70287),d=i(49248),u=i(78361),h=i(31186),x=i(94659),p=i(27777),j=i(45650),f=i(55966),m=i(2784),g=i(23313),v=i(75085),b=i(10710),C=i(52322),y=[{id:"consulting",label:function(){return s.ag._({id:"m5xed+"})}},{id:"creator",label:function(){return s.ag._({id:"UE2beD"})}},{id:"customer_service",label:function(){return s.ag._({id:"FfYIy2"})}},{id:"data",label:function(){return s.ag._({id:"HKH+W+"})}},{id:"design",label:function(){return s.ag._({id:"f8fH8W"})}},{id:"education",label:function(){return s.ag._({id:"aqxYLv"})}},{id:"engineering",label:function(){return s.ag._({id:"SUXBxp"})}},{id:"finance",label:function(){return s.ag._({id:"8V6XO3"})}},{id:"human_resources",label:function(){return s.ag._({id:"aDLrMs"})}},{id:"leadership",label:function(){return s.ag._({id:"HyFz7F"})}},{id:"legal",label:function(){return s.ag._({id:"vifyyw"})}},{id:"marketing",label:function(){return s.ag._({id:"vo2a+a"})}},{id:"operations",label:function(){return s.ag._({id:"B1MDds"})}},{id:"product",label:function(){return s.ag._({id:"K47k8R"})}},{id:"recruiting",label:function(){return s.ag._({id:"bn0SqF"})}},{id:"sales",label:function(){return s.ag._({id:"mUv9U4"})}},{id:"other",label:function(){return s.ag._({id:"/IX/7x"})}}],w={"get-started":{saveButtonText:function(){return s.ag._({id:"ZDIydz"})},formControlMaxW:["100%","80%","50%"],categoryQuestion:function(){return s.ag._({id:"kJizcc"})}},modal:{saveButtonText:function(){return s.ag._({id:"hQRttt"})},formControlMaxW:["100%","60%"],categoryQuestion:function(){return s.ag._({id:"06/kLN"})}},setup:{saveButtonText:function(){return s.ag._({id:"xGVfLh"})},formControlMaxW:["100%"],categoryQuestion:function(){return s.ag._({id:"kJizcc"})}}},O=[{id:"work",label:function(){return s.ag._({id:"rgBHdd"})}},{id:"education",label:function(){return s.ag._({id:"RKJfzm"})}},{id:"personal",label:function(){return s.ag._({id:"jo0oU2"})}}],k=[{id:"primary",label:function(){return s.ag._({id:"LldObG"})}},{id:"secondary",label:function(){return s.ag._({id:"AtXGMV"})}},{id:"university",label:function(){return s.ag._({id:"DEb9mB"})}},{id:"other",label:function(){return s.ag._({id:"/IX/7x"})}}],S=[{id:"student",label:function(){return s.ag._({id:"a0qEkS"})}},{id:"teacher",label:function(){return s.ag._({id:"lypRAW"})}},{id:"administrator",label:function(){return s.ag._({id:"Faptqt"})}},{id:"other",label:function(){return s.ag._({id:"/IX/7x"})}}],I=function(e){var n=e.onSuccess,i=e.onError,I=e.context,D=(0,b.SE)(),T=D.user,A=D.refetch,P=(0,m.useState)(!1),E=P[0],_=P[1],F=(0,m.useState)(void 0),N=F[0],z=F[1],L=(0,m.useState)(void 0),R=L[0],M=L[1],U=(0,m.useState)(void 0),W=U[0],B=U[1],G=(0,g.kDo)(),Z=(0,r.Z)(G,2),H=Z[0],V=Z[1],K=V.loading,q=V.error,X=(0,m.useState)(void 0),Y=X[0],Q=X[1],J=(0,m.useState)("student"),$=J[0],ee=J[1],en="education"===W||"education"===N?Y&&$:W,ei=N&&!W,er=(0,m.useCallback)(function(){var e="education"===W||"education"===N?"".concat(W,"_").concat($,"_").concat(Y):W;H({variables:{input:{id:null==T?void 0:T.id,referrer:R,jobFunction:e}}}).then(function(){return _(!0),null==A?void 0:A()}).then(function(){n&&n()}).catch(function(e){console.error('[GetStarted.UserInfo] Error updating user info "'.concat(null==T?void 0:T.id,'"'),e.message),_(!1),i&&i()})},[W,Y,$,i,n,R,A,H,null==T?void 0:T.id,N]),et=w[void 0===I?"get-started":I],es=et.formControlMaxW,eo=et.saveButtonText,el=et.categoryQuestion;return(0,C.jsx)(o.xu,{w:"100%",children:(0,C.jsxs)(l.K,{pt:6,alignItems:"center",spacing:6,alignSelf:"center",mb:10,children:[(0,C.jsxs)(a.NI,{maxW:es,as:"fieldset",isRequired:!0,children:[(0,C.jsx)(c.l,{children:el()}),(0,C.jsx)(d.E,{onChange:function(e){z(e),"education"===e?B("education"):B(void 0)},value:N,children:(0,C.jsx)(l.K,{direction:"column",spacing:2,children:O.map(function(e){var n=e.id,i=e.label;return(0,C.jsx)(u.Y,{value:n,children:i()},n)})})})]}),N&&(0,C.jsxs)(C.Fragment,{children:["education"!==N&&(0,C.jsxs)(a.NI,{maxW:es,isRequired:!0,children:[(0,C.jsx)(c.l,{children:(0,C.jsx)(t.cC,{id:"SYYw/x"})}),(0,C.jsx)(h.P,{placeholder:s.ag._({id:"rjLlrw"}),isRequired:!0,onChange:function(e){var n=e.target.value;"work"===N&&"education"===n&&ee("teacher"),B(n)},children:y.map(function(e,n){var i=e.label,r=e.id;return(0,C.jsx)("option",{value:r,children:i()},"".concat(r,"-").concat(n))})})]}),("education"===N||"education"===W)&&(0,C.jsxs)(a.NI,{maxW:es,isRequired:!0,children:[(0,C.jsx)(c.l,{children:(0,C.jsx)(t.cC,{id:"B+ClFT"})}),(0,C.jsxs)(x.g,{spacing:2,children:[(0,C.jsx)(h.P,{placeholder:s.ag._({id:"rjLlrw"}),isRequired:!0,value:$,onChange:function(e){ee(function(){return e.target.value})},children:S.map(function(e,n){var i=e.label,r=e.id;return(0,C.jsx)("option",{value:r,children:i()},"".concat(r,"-").concat(n))})}),(0,C.jsx)(h.P,{placeholder:s.ag._({id:"rNbKca"}),isRequired:!0,onChange:function(e){Q(function(){return e.target.value})},children:k.map(function(e,n){var i=e.label,r=e.id;return(0,C.jsx)("option",{value:r,children:i()},"".concat(r,"-").concat(n))})})]}),(0,C.jsx)(a.Q6,{fontSize:"xs",children:(0,C.jsx)(t.cC,{id:"9sEdx4"})})]}),(0,C.jsxs)(a.NI,{maxW:es,children:[(0,C.jsx)(c.l,{children:(0,C.jsx)(t.cC,{id:"bxuHg8"})}),(0,C.jsx)(p.I,{size:"lg",type:"text",value:R,onChange:function(e){M(e.target.value)}}),(0,C.jsx)(a.Q6,{fontSize:"xs",children:R&&(null==R?void 0:R.length)>4?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(t.cC,{id:"RNrV8M",values:{GRANT_PROPER_NOUN:v.XI}})," ",(0,C.jsx)("span",{role:"img","aria-label":s.ag._({id:"8K1shM"}),children:"\uD83D\uDE4F"})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(t.cC,{id:"Bhgibl",values:{GRANT_PROPER_NOUN:v.XI}})," ",(0,C.jsx)("span",{role:"img","aria-label":s.ag._({id:"bh5RqM"}),children:"\uD83D\uDE0A"})]})})]})]}),(0,C.jsx)(l.K,{alignItems:"center",spacing:4,pt:4,children:(0,C.jsx)(f.kH,{label:(0,C.jsx)(t.cC,{id:"5G+MQW"}),isDisabled:!ei,placement:"top",children:(0,C.jsx)(o.xu,{children:(0,C.jsx)(j.z,{variant:"solid",size:"lg",isDisabled:E||!!q||!en,isLoading:K||E,onClick:er,children:eo()})})})})]})})}},85121:function(e,n,i){"use strict";i.d(n,{My:function(){return c},rK:function(){return h},r_:function(){return d},up:function(){return u}});var r,t=i(95235),s=i(55452),o=i(87254),l=i(23313),a=i(52322),c=1,d=function(){return o.ag._({id:"cyLJM2"})},u=function(){return o.ag._({id:"6h5uMS"})},h=(r={},(0,t.Z)(r,l.r3E.Admin,{title:(0,a.jsx)(s.cC,{id:"U3pytU"}),description:(0,a.jsx)(s.cC,{id:"U4MLdj"})}),(0,t.Z)(r,l.r3E.Member,{title:(0,a.jsx)(s.cC,{id:"OvoEq7"}),description:(0,a.jsx)(s.cC,{id:"nslZjr"})}),r)},49348:function(e,n,i){"use strict";i.r(n),i.d(n,{HomePage:function(){return oy},default:function(){return ow}});var r,t=i(28654),s=i(2784),o=i(89962),l=i(23718),a=i(10710),c=i(11919),d=i(56133),u=i(97729),h=i.n(u),x=i(5632),p=i.n(x),j=i(28846),f=i(52797),m=i(11197),g=i(75085),v=i(15087),b=i(32333),C=i(49626),y=i(55452),w=i(75944),O=i(8283),k=i(71354),S=i(4036),I=i(50390),D=i(36895),T=i(91012),A=i(45650),P=i(53738),E=i(27440),_=i(49929),F=i(23313),N=i(42763),z=i(27901),L=i(1672),R=i(13537),M=i(94370),U=i(47557),W=i(87254),B=i(38717),G=i(71170),Z=i(54336),H=i(93319),V=i(9088),K=i(30893),q=i(67887),X=i(94301),Y=i(40771),Q=i(82904),J=i(95258),$=i(39097),ee=i.n($),en=i(14990),ei=i(34717),er=i(8388),et=i(42879),es=i(52322),eo=function(e){var n,i,r=e.site,t=(0,w.q)(),s=t.isOpen,o=t.onOpen,l=(0,et.ri)(r.id,r.name),d=(0,a.SE)().user,u=r&&(0,et.AR)({site:r,path:"/"}),h=r&&(0,et.mb)(r.id);return(0,es.jsxs)(B.f,{as:G.P,bg:"linen.50",borderRadius:"5px",shadow:"md",_focusWithin:{shadow:"outline",_hover:{shadow:"outline"}},cursor:"pointer",_hover:{shadow:"lg",bgColor:"gray.100"},transition:"box-shadow .2s ease",role:"group",className:"highlight-mask",children:[(null==r?void 0:r.routes.length)>2&&(0,es.jsx)(P.xu,{pos:"absolute",top:-2,left:2,right:2,bottom:"calc(66%)",bg:"whiteAlpha.600",zIndex:0,borderRadius:"md"}),(null==r?void 0:r.routes.length)>1&&(0,es.jsx)(P.xu,{pos:"absolute",top:-1,left:1,right:1,bottom:"calc(66%)",bg:"whiteAlpha.900",zIndex:0,borderRadius:"md"}),(0,es.jsxs)(c.k,{direction:"column",wordBreak:"break-word",alignContent:"space-between",height:"100%",bg:"white",_hover:{bgColor:"gray.100"},borderBottomRadius:"md",children:[(0,es.jsx)(B.A,{href:l,as:ee(),borderRadius:"md",children:(0,es.jsx)(Z.o,{ratio:40/21,bgColor:"gray.100",children:(0,es.jsxs)(c.k,{borderBottomWidth:"1px",borderBottomColor:"gray.100",pos:"relative",overflow:"hidden",borderTopRadius:"md",shadow:(null==r?void 0:r.routes.length)>1?"0px -4px 9px -8px rgba(0,0,0,0.4);":"none",children:[(0,es.jsx)(D.E,{src:null==r?void 0:r.previewUrl,fit:"cover",fallbackSrc:ei.Z.src}),(null==r?void 0:r.routes.length)>1&&(0,es.jsx)(S.C,{pos:"absolute",bottom:2,right:2,colorScheme:"blackAlpha",bg:"gray.100",color:"gray.600",children:(0,es.jsxs)(O.U,{spacing:1,children:[(0,es.jsx)(_.G,{fixedWidth:!0,icon:U.s2}),(0,es.jsx)(T.x,{children:null==r?void 0:r.routes.length})]})})]})})}),(0,es.jsxs)(c.k,{p:3,position:"relative",direction:"column",justifyContent:"space-between",h:"100%",alignItems:"flex-start",children:[(0,es.jsx)(B.A,{href:l,as:ee(),children:(0,es.jsxs)(k.K,{spacing:0,mb:2,children:[(0,es.jsx)(T.x,{noOfLines:2,children:r.name}),(0,es.jsxs)(O.U,{children:[(null==r?void 0:r.faviconUrl)&&(0,es.jsx)(D.E,{maxW:"16px",maxH:"16px",src:null==r?void 0:r.faviconUrl}),(0,es.jsx)(T.x,{noOfLines:1,color:"gray.500",fontSize:"xs",children:null==r?void 0:null===(n=r.domains)||void 0===n?void 0:null===(i=n[0])||void 0===i?void 0:i.name})]})]})}),(0,es.jsx)(c.k,{direction:"column",w:"100%",children:(0,es.jsxs)(c.k,{mt:2,align:"flex-start",w:"100%",justify:"space-between",children:[(null==r?void 0:r.createdBy)&&(0,es.jsx)(en.l,{createdByYou:r.createdBy.id===(null==d?void 0:d.id),createdByName:r.createdBy.displayName||W.ag._({id:"rtir7c"}),createdByProfileImageUrl:r.createdBy.profileImageUrl,timestampDescription:(0,es.jsx)(y.cC,{id:"oJFw5Q",values:{0:(0,er.Dw)(r.createdTime)}})}),(0,es.jsx)(H.L,{}),(0,es.jsxs)(V.v,{isLazy:!0,closeOnSelect:!1,children:[(0,es.jsx)(K.j,{"data-dashboard-site-menu":!0,as:q.h,size:"xs",variant:"ghost",borderRadius:"full",onClick:o,icon:(0,es.jsx)(_.G,{fixedWidth:!0,icon:M.cN}),color:"gray.400",_hover:{color:"gray.800",bg:"gray.200"},children:(0,es.jsx)(y.cC,{id:"7L01XJ"})}),s&&r&&(0,es.jsx)(X.h,{children:(0,es.jsxs)(Y.q,{maxW:"sm",zIndex:"overlay",children:[u&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(Q.s,{href:u,as:ee(),target:"_blank",icon:(0,es.jsx)(_.G,{fixedWidth:!0,icon:R.ZE}),children:(0,es.jsx)(y.cC,{id:"OHFiKG"})}),(0,es.jsx)(J.R,{})]}),h&&(0,es.jsx)(Q.s,{as:ee(),href:h,icon:(0,es.jsx)(_.G,{fixedWidth:!0,icon:L.gr}),children:(0,es.jsx)(y.cC,{id:"Tz0i8g"})})]})})]})]})})]})]})]})},el=i(95235),ea=i(27037),ec=i(64256),ed=i(32834),eu=i(8649),eh=i(94993),ex=i(18504),ep=i(59777),ej=i(45170),ef=i(36471),em=i(60697),eg=i(97948),ev=i(82642),eb=i(40110),eC=i(420),ey=i(94659),ew=i(55966),eO=i(43997),ek=i(24021),eS=i(68019),eI=i(41033),eD=i(98875),eT=i(21735),eA=i(85422),eP=i(85545),eE=i(84103),e_=i(41173),eF=i(80540),eN=function(e){var n=e.onOpenCallback,i=e.onCloseCallback,r=(0,eD.ye)("upsellUXEnabled_Pro"),t=(0,e_.zc)().openUpsellModal;return r?(0,es.jsxs)(k.K,{borderTopWidth:"1px",bottom:0,bg:"white",pt:6,pb:2,borderTopColor:"blackAlpha.200",px:2,children:[(0,es.jsxs)(O.U,{children:[(0,es.jsx)(eF.ER,{variant:"solid"}),(0,es.jsx)(T.x,{fontSize:"sm",children:(0,es.jsx)(y.cC,{id:"mpbrVv",values:{GAMMA_PRO_PROPER_NOUN:g.x8}})})]}),(0,es.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:(0,es.jsx)(y.cC,{id:"gGlaFH",values:{GAMMA_PROPER_NOUN:g.N6}})}),(0,es.jsx)(T.x,{fontSize:"sm",mt:2,fontWeight:"bold",children:(0,es.jsx)(eE.r,{color:"trueblue.600",href:"#",onClick:function(){t({onOpenCallback:n,onCloseCallback:i,segmentEvent:b.AA.GAMMA_PRO_UPSELL_CALLOUT_SIDEBAR})},children:(0,es.jsxs)(O.U,{flex:1,children:[(0,es.jsx)(T.x,{children:(0,es.jsx)(y.cC,{id:"Xaz7bJ"})}),(0,es.jsx)(H.L,{})]})})})]}):null},ez=i(74586),eL=i(46358),eR=i(16092),eM=i(86105),eU=i(49067),eW=i(93812),eB=i(92488),eG=i(1842),eZ=i.n(eG),eH=i(39351),eV=i(81927),eK=i(12221),eq=i(63849),eX=i(2575),eY=i(37914),eQ=i(13720),eJ=i(81333),e$=i(67835),e0=i(72360),e1=i(55479),e2=i(20010),e5=i(56915),e3=i(48273),e4=i(92619),e6=i(64827),e8=i(2167),e7=i(30302),e9=i(80353),ne=i(76648),nn=function(){return(0,es.jsxs)(O.U,{px:2,py:2,border:"2px solid var(--chakra-colors-red-500)",borderRadius:"md",children:[(0,es.jsx)(e$.i,{w:4,h:4,color:"red.500"}),(0,es.jsx)(T.x,{fontSize:"sm",color:"red.500",children:(0,es.jsx)(y.cC,{id:"Ofm9ns"})})]})},ni=function(e){var n=e.user,i=e.workspace,r=e.canDeleteAccount;return(0,es.jsxs)(e0.b,{status:n||null!=i&&i.memberCount&&i.memberCount<=1?"error":"warning",display:"flex",flexDirection:"column",alignItems:"normal",mt:2,children:[(0,es.jsxs)(c.k,{pb:3,flexDirection:["column","column","row","row"],align:"flex-start",gap:2,children:[(0,es.jsxs)(c.k,{flex:1,children:[(0,es.jsx)(eK.q,{src:null==n?void 0:n.profileImageUrl,size:"sm",name:(null==n?void 0:n.displayName)||(null==i?void 0:i.name)}),(0,es.jsxs)(k.K,{spacing:0,ml:2,flex:"1",children:[(0,es.jsx)(T.x,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:(null==n?void 0:n.displayName)||(null==i?void 0:i.name)}),n&&(0,es.jsx)(T.x,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:n.email}),i&&(0,es.jsx)(T.x,{fontSize:"xs",color:"gray.600",children:(0,es.jsx)(y.cC,{id:"LaQ44M",values:{0:i.memberCount||0}})})]})]}),(0,es.jsx)(c.k,{flexShrink:1,children:(n||i&&(null==i?void 0:i.memberCount)===1)&&(0,es.jsx)(nn,{})})]}),(0,es.jsx)(eb.i,{borderColor:"blackAlpha.200"}),(0,es.jsxs)(T.x,{pt:2,fontSize:"sm",color:n||null!=i&&i.memberCount&&i.memberCount<=1?"red.500":"yellow.700",children:[r&&n&&(0,es.jsxs)(es.Fragment,{children:["⚠️"," ",(0,es.jsx)(y.cC,{id:"j95nHI",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq}})]}),r&&(null==i?void 0:i.memberCount)&&(i.memberCount>1?(0,es.jsxs)(es.Fragment,{children:["⚠️ ",(0,es.jsx)(y.cC,{id:"QnF/9z"})]}):(0,es.jsxs)(es.Fragment,{children:["⚠️"," ",(0,es.jsx)(y.cC,{id:"PU+L+E",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq}})]})),!r&&(0,es.jsxs)(es.Fragment,{children:["⚠️"," ",(0,es.jsx)(y.cC,{id:"eFx5qm"})]})]})]})},nr=function(e){var n,i,r=e.isOpen,t=e.onClose,o=e.user,l=(0,s.useState)(!1),a=l[0],c=l[1],d=(0,s.useState)(!1),u=d[0],h=d[1],x=(0,F.NUx)().data,p=(0,e1.p)(),j=(0,F.I1z)(),f=(0,eJ.Z)(j,1)[0],m=(null==x?void 0:null===(n=x.user)||void 0===n?void 0:null===(i=n.workspaceMemberships)||void 0===i?void 0:i.filter(function(e){return!1===e.disabled}))||[],v=m.filter(function(e){var n,i;return"admin"===e.role&&(null===(n=e.workspace)||void 0===n?void 0:n.adminCount)===1&&(null===(i=e.workspace)||void 0===i?void 0:i.memberCount)&&e.workspace.memberCount>1}),b=m.map(function(e){return e.workspace}),C=0===v.length,w=(0,s.useCallback)(function(){h(!0),f().then(function(e){e.data&&(window.location.href="".concat(eY.v.API_HOST,"/logout?redirectTo=/user-deleted"))}).catch(function(){h(!1),p({title:"Delete account failed. Try again or reach out to Gamma support.",status:"error",duration:3e3,position:"top",isClosable:!0})})},[p,f]);return(0,es.jsxs)(e2.u_,{isOpen:r,onClose:t,size:"lg",closeOnOverlayClick:!1,children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{p:2,children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"pj33Dr",values:{GAMMA_PROPER_NOUN:g.N6}})}),(0,es.jsx)(e6.o,{}),(0,es.jsxs)(e8.f,{children:[C&&(0,es.jsxs)(k.K,{spacing:3,children:[(0,es.jsx)(T.x,{children:(0,es.jsx)(y.cC,{id:"gICMDu"})}),(0,es.jsxs)(P.xu,{children:[(0,es.jsx)(T.x,{colorScheme:"gray",fontSize:"sm",children:(0,es.jsx)(y.cC,{id:"sG4820"})}),(0,es.jsx)(ni,{user:o,canDeleteAccount:C})]}),b&&b.length>0&&(0,es.jsxs)(P.xu,{children:[(0,es.jsx)(T.x,{colorScheme:"gray",fontSize:"sm",children:(0,es.jsx)(y.cC,{id:"dFEw4P"})}),null==b?void 0:b.map(function(e){return(0,es.jsx)(ni,{workspace:e,canDeleteAccount:C},null==e?void 0:e.id)})]}),(0,es.jsxs)(P.xu,{children:[(0,es.jsx)(T.x,{colorScheme:"gray",fontSize:"sm",children:(0,es.jsx)(y.cC,{id:"R3XcoA"})}),(0,es.jsxs)(O.U,{bg:"gray.100",mt:2,p:3,pl:2,spacing:2,borderRadius:"sm",children:[(0,es.jsx)(e7.X,{size:"lg",spacing:"1rem",p:3,defaultChecked:a,onChange:function(e){return c(e.target.checked)}}),(0,es.jsx)(T.x,{fontSize:"sm",children:(0,es.jsx)(y.cC,{id:"4YT8Pd"})})]})]})]}),!C&&(0,es.jsx)(k.K,{children:(0,es.jsxs)(P.xu,{children:[(0,es.jsx)(T.x,{colorScheme:"gray",fontSize:"sm",children:(0,es.jsx)(y.cC,{id:"nhUDfL"})}),null==b?void 0:b.map(function(e){return(0,es.jsx)(ni,{workspace:e,canDeleteAccount:C},null==e?void 0:e.id)})]})})]}),C&&(0,es.jsx)(e9.m,{children:(0,es.jsxs)(ne.h,{children:[(0,es.jsx)(A.z,{variant:"ghost",colorScheme:"gray",onClick:t,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{isDisabled:!a,variant:"ghost",colorScheme:"red",onClick:w,isLoading:u,loadingText:W.ag._({id:"O71YIC"}),children:(0,es.jsx)(y.cC,{id:"dfBVKc"})})]})})]})]})},nt=i(19265),ns=i(12662),no=i(60239),nl=i(2804),na=i(49747),nc=i(60807),nd=i(2046),nu=i(70287),nh=i(27777),nx=i(62849),np=i(40315),nj=i(96214),nf=i(18445),nm=i(28139),ng={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},nv=function(e){var n=e.uppy,i=e.multiple,r=void 0!==i&&i,t=e.accept,o=void 0===t?nm.pK.join(","):t,l=(0,s.useRef)(null),a=(0,s.useMemo)(function(){return(0,es.jsx)("input",{ref:l,className:"gamma-uppy-FileInput-input",style:ng,type:"file",name:"gamma-file-input",multiple:r,accept:o,onChange:function(e){var i=e.target;i&&i.files&&(Array.from(i.files).forEach(function(e){try{n.addFile({source:"file input",name:e.name,type:e.type,data:e})}catch(e){e.isRestriction?console.warn("[useFileInput] Restriction error:",e):console.error(e)}}),i.value=null)}})},[]),c=(0,s.useCallback)(function(){var e;null===(e=l.current)||void 0===e||e.click()},[]);return(0,s.useEffect)(function(){var e=l.current;e&&(n.on("file-removed",function(){e.value=null}),n.on("complete",function(){e.value=null}),n.on("transloadit:complete",function(){e.value=null}))},[]),{inputElement:a,onClick:c}},nb=i(31889);function nC(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function ny(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?nC(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nC(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var nw={cropped:"",original:""},nO=function(e){var n=e.isOpen,i=e.onClose,r=e.onAccountDeleteModalOpen,t=e.user,o=e.orgId,l=e.refetchUser,d=(0,e1.p)(),u=(0,F.kDo)(),h=(0,eJ.Z)(u,2),x=h[0],p=h[1],j=p.loading,f=p.error,m=(0,a.SE)().setSettings,g=(0,nj.l)(),v=(0,s.useMemo)(function(){return g},[]),b=(0,s.useState)(v),C=b[0],w=b[1];(0,nf.m)(C);var S=(0,s.useState)(t.firstName||""),I=S[0],E=S[1],N=(0,s.useState)(t.lastName||""),z=N[0],L=N[1],R=(0,s.useState)(t.profileImageUrl||""),M=R[0],U=R[1],W=(0,s.useState)(nw),B=W[0],G=W[1],Z=(0,s.useState)("original"),H=Z[0],q=Z[1],X=B.cropped&&"cropped"===H?B.cropped:B.original&&"original"===H?B.original:M,$=(0,s.useState)("idle"),ee=$[0],en=$[1],ei=(0,s.useMemo)(function(){return nm.ND.createUppyInstance(o,{onUploadStart:function(e){G(nw),en("uploading"),q("original"),(0,nb.Ns)(e.file.type||"")||U(e.tempUrl)},onOriginalFileUpload:function(e){console.debug("[AccountSettingsModal] onOriginalFileUpload",e),U(e.src),G(function(n){return ny(ny({},n),{},{original:e.src})})},onUploadComplete:function(e){console.debug("[AccountSettingsModal] onUploadComplete",e),U(function(n){return n||e.src}),G(function(){return{original:e.src,cropped:e.croppedFace||""}}),en("idle"),ei.cancelAll()},onUploadFailed:function(){en("error"),ei.cancelAll()}},"profile")},[]),er=nv({uppy:ei}),et=er.onClick,eo=er.inputElement,el=(0,s.useCallback)(function(){r&&(r(),i())},[r,i]),ea=(0,s.useCallback)(function(){ei.cancelAll(),en("idle"),E(t.firstName||""),L(t.lastName||""),U(t.profileImageUrl||""),q("original"),G(nw),w(v)},[t,v,ei]),ec=C!==v,ed=I!==t.firstName||z!==t.lastName||M!==t.profileImageUrl,eu=(0,s.useMemo)(function(){return ed||ec},[ec,ed]),eh=(0,s.useCallback)(function(){if(!eu){i();return}var e=[];ec&&m&&np.p_.includes(C)&&e.push(m({set:{locale:C}})),ed&&e.push(x({variables:{input:{id:t.id,firstName:I,lastName:z,profileImageUrl:M}}})),Promise.all(e).then(function(){null==l||l(),i(),d({title:(0,es.jsx)(y.cC,{id:"wAvGr+"}),position:"top",status:"success",isClosable:!0,duration:3e3})}).catch(function(e){console.error('[AccountSettingsModal.onSaveClick] Error updating user info "'.concat(null==t?void 0:t.id,'"'),e.message)})},[I,eu,ec,ed,z,C,i,M,l,m,d,x,null==t?void 0:t.id]),ex=I.length<1&&z.length<1||!!(null==f?void 0:f.message)||"error"===ee;return(0,es.jsxs)(e2.u_,{isOpen:n,onClose:i,size:"lg",closeOnOverlayClick:!1,children:[eo,(0,es.jsxs)(P.xu,{w:0,h:0,children:[(0,es.jsx)(D.E,{src:B.original}),(0,es.jsx)(D.E,{src:B.cropped})]}),(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"T3FM0r"})}),(0,es.jsx)(e6.o,{}),(0,es.jsx)(eb.i,{mb:4}),(0,es.jsxs)(e8.f,{display:"flex",flexDirection:"column",alignItems:"center",children:[(0,es.jsxs)(k.K,{direction:"column",alignItems:"center",children:[(0,es.jsxs)(V.v,{placement:"bottom-start",offset:[100,0],children:[(0,es.jsx)(ew.kH,{label:(0,es.jsx)(y.cC,{id:"etzA4s"}),openDelay:750,placement:"top",children:(0,es.jsx)(K.j,{position:"relative",disabled:"uploading"===ee,userSelect:"none",cursor:"pointer",role:"group",_hover:{opacity:.9},children:(0,es.jsxs)(eK.q,{src:X,name:"".concat(I," ").concat(z).trim(),size:"2xl",_groupHover:{shadow:"lg"},ignoreFallback:!0,children:["uploading"===ee&&(0,es.jsx)(P.Cd,{position:"absolute",size:"full",justifyContent:"center",alignItems:"center",bg:"gray.300",opacity:.5,children:(0,es.jsx)(eC.$,{size:"xl",thickness:"2px"})}),(0,es.jsx)(P.Cd,{position:"absolute",bottom:0,right:0,borderRadius:"full",color:"gray.800",textAlign:"center",bg:"gray.200",size:9,_groupHover:{shadow:"lg",transform:"scale(1.02)"},children:(0,es.jsx)(_.G,{icon:M?nl._j:no.Tz,width:16,height:16,size:"xs"})})]})})}),(0,es.jsxs)(Y.q,{fontSize:"sm",children:[(0,es.jsx)(Q.s,{onClick:function(){"uploading"!==ee&&et()},children:(0,es.jsxs)(O.U,{children:[(0,es.jsx)(_.G,{icon:nt.A$}),(0,es.jsx)(T.x,{children:(0,es.jsx)(y.cC,{id:"wPTug2"})})]})}),M&&(0,es.jsx)(J.R,{}),M&&(0,es.jsx)(Q.s,{onClick:function(){U(""),G(nw)},children:(0,es.jsxs)(O.U,{color:"var(--chakra-colors-red-500)",children:[(0,es.jsx)(_.G,{icon:ns.faTrashCan,color:"var(--chakra-colors-red-500)"}),(0,es.jsx)(T.x,{children:(0,es.jsx)(y.cC,{id:"k8od7T"})})]})})]})]}),(0,es.jsx)(na.U,{in:!!M&&!!B.cropped&&M!==t.profileImageUrl&&"idle"===ee,animateOpacity:!0,children:(0,es.jsx)(e7.X,{size:"sm",fontSize:"12px",color:"gray.500",isChecked:"cropped"===H,onChange:function(e){q(e.target.checked?"cropped":"original"),U(e.target.checked?B.cropped:B.original)},mb:3,children:(0,es.jsx)(y.cC,{id:"+J8/VC"})})}),(0,es.jsx)(nc.J1,{children:"error"===ee&&"Error uploading profile image."}),(0,es.jsxs)(k.K,{spacing:0,alignItems:"center",children:[(0,es.jsx)(T.x,{fontSize:"xl",fontWeight:"bold",children:t.displayName}),(0,es.jsx)(T.x,{color:"gray.500",children:t.email})]})]}),(0,es.jsxs)(k.K,{direction:"column",width:"100%",my:6,px:4,spacing:6,children:[(0,es.jsxs)(nd.NI,{isInvalid:ex,children:[(0,es.jsx)(nu.l,{children:(0,es.jsx)(y.cC,{id:"V1EGGU"})}),(0,es.jsx)(nh.I,{w:"100%",value:I,onChange:function(e){return E(e.target.value)}})]}),(0,es.jsxs)(nd.NI,{isInvalid:ex,children:[(0,es.jsx)(nu.l,{children:(0,es.jsx)(y.cC,{id:"1ZaQUH"})}),(0,es.jsx)(nh.I,{w:"100%",value:z,onChange:function(e){return L(e.target.value)}}),(0,es.jsx)(nc.J1,{children:null!=f&&f.message?null==f?void 0:f.message:(0,es.jsx)(y.cC,{id:"yQeiGC"})})]}),(0,es.jsxs)(nd.NI,{children:[(0,es.jsx)(nu.l,{children:(0,es.jsx)(y.cC,{id:"vXIe7J"})}),(0,es.jsx)(nx.p,{selectedLocale:np.w$[C],onLocaleSelect:w})]})]})]}),(0,es.jsx)(e9.m,{children:(0,es.jsxs)(c.k,{justifyContent:"space-between",flex:1,alignItems:"flex-end",children:[(0,es.jsx)(c.k,{children:(0,es.jsx)(A.z,{variant:"ghost",color:"gray.400",colorScheme:"gray",size:"sm",onClick:el,children:(0,es.jsx)(y.cC,{id:"ktknoE"})})}),(0,es.jsxs)(c.k,{flexWrap:"wrap",justifyContent:"flex-end",gap:2,children:[eu&&(0,es.jsx)(A.z,{variant:"ghost",colorScheme:"gray",onClick:ea,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{variant:eu?"solid":"plain",onClick:eh,isDisabled:ex||"uploading"===ee,isLoading:j,children:eu?(0,es.jsx)(y.cC,{id:"y3aU20"}):(0,es.jsx)(y.cC,{id:"DPfwMq"})})]})]})})]})]})};function nk(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function nS(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?nk(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nk(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var nI=function(){return(0,es.jsxs)(O.U,{w:"100%",px:2,pb:1,children:[(0,es.jsx)(eH.s,{size:"32px"}),(0,es.jsx)(eV.O,{width:"60%",height:"20px"})]})},nD=function(e){var n,i=e.workspace,r=e.memberCount,t=e.isMultiline,s=void 0===t||t;return(0,es.jsxs)(O.U,{mr:4,children:[(0,es.jsx)(eK.q,{name:null===(n=i.name)||void 0===n?void 0:n.replace(/\s/g,""),size:"sm",bgColor:"orchid.300",color:"white"}),(0,es.jsxs)(k.K,nS(nS({textAlign:"left",align:"flex-start",justify:"flex-start",spacing:0},s?{}:{noOfLines:1}),{},{children:[(0,es.jsx)(T.x,nS(nS({fontSize:"sm",fontWeight:"600",wordBreak:"break-word",m:0,p:0},s?{}:{overflow:"hidden",textOverflow:"ellipsis"}),{},{minWidth:"0px",children:i.name})),(0,es.jsx)(eF.Y7,{workspace:i}),!eZ()(r)&&(0,es.jsx)(T.x,{fontSize:"xs",color:"gray.500",textAlign:"left",children:(0,es.jsx)(y.cC,{id:"F6GBat",values:{memberCount:r}})})]}))]})},nT=function(e){var n=e.onOpen,i=(0,a.SE)(),r=i.user,t=i.currentWorkspace,s=i.refetch,o=i.setCurrentWorkspaceId,l=(0,F.$gs)().isConnected,d=(0,w.q)({id:"user-settings-modal"}),u=d.isOpen,h=d.onOpen,x=d.onClose,p=(0,w.q)({id:"account-delete-modal"}),j=p.isOpen,f=p.onOpen,m=p.onClose,g=(0,eQ.i)({md:"400px"});if(!r)return(0,es.jsx)(es.Fragment,{});var v=null==r?void 0:r.organizations;return v&&t?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)(V.v,{autoSelect:!1,children:[(0,es.jsx)(ew.kH,{label:l?"":"You're offline","aria-label":l?"Workspace options":"You're offline",children:(0,es.jsx)(P.xu,{children:(0,es.jsx)(K.j,{as:A.z,isDisabled:!l,variant:"ghost",rightIcon:l?(0,es.jsx)(_.G,{icon:eB.gc,"aria-label":"Caret icon"}):(0,es.jsx)(_.G,{icon:eW.bK}),w:"100%",colorScheme:"blackAlpha",color:"gray.800",cursor:"pointer",_hover:{color:"trueblue.600"},p:2,pr:4,children:(0,es.jsx)(P.xu,{width:"100%",children:t&&(0,es.jsx)(nD,{workspace:t,memberCount:null,isMultiline:!1})})})})}),(0,es.jsxs)(Y.q,{minW:g,zIndex:"overlay",shadow:"lg",maxW:"min(500px, 100vw)",children:[(0,es.jsxs)(Q.s,{px:2,cursor:"pointer",onClick:h,children:[(0,es.jsx)(eK.q,{src:r.profileImageUrl,size:"sm",name:r.displayName}),(0,es.jsxs)(k.K,{spacing:0,ml:2,children:[(0,es.jsx)(T.x,{fontSize:"sm",children:r.displayName}),(0,es.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:r.email})]}),(0,es.jsx)(H.L,{}),(0,es.jsx)(_.G,{size:"sm",icon:eM.gr,color:"var(--chakra-colors-gray-500)"})]}),(0,es.jsx)(J.R,{}),v&&v.length>0&&(0,es.jsx)(eq._,{title:W.ag._({id:"pmt7u4"}),type:"radio",defaultValue:null==t?void 0:t.id,onChange:function(e){o(e)},children:v.filter(function(e){return!eZ()(e)&&!eZ()(e.id)&&!eZ()(e.name)}).map(function(e){return(0,es.jsx)(eX.i,{value:e.id,icon:1===v.length?null:void 0,isFocusable:1!==v.length,children:(0,es.jsxs)(O.U,{children:[(0,es.jsx)(c.k,{flex:1,w:"100%",children:(0,es.jsx)(nD,{workspace:e,memberCount:null,isMultiline:!0})}),e.id===(null==t?void 0:t.id)&&(0,es.jsx)(c.k,{children:(0,es.jsx)(A.z,{size:"sm",variant:"outline",onClick:n,children:(0,es.jsx)(y.cC,{id:"0dbeO4"})})})]})},e.id)})}),(0,es.jsx)(J.R,{}),(0,es.jsx)(Q.s,{color:"red.500",icon:(0,es.jsx)(_.G,{icon:eU.jL,fixedWidth:!0}),onClick:function(){window.location.href="".concat(eY.v.API_HOST,"/logout")},children:(0,es.jsx)(y.cC,{id:"fcWrnU"})})]})]}),u&&(0,es.jsx)(nO,{orgId:t.id,user:r,refetchUser:s,isOpen:u,onClose:x,onAccountDeleteModalOpen:f}),j&&(0,es.jsx)(nr,{user:r,isOpen:j,onClose:m})]}):(0,es.jsx)(es.Fragment,{})},nA=i(48854),nP=i(89190),nE=i(73848),n_=i(24798),nF=i(84520),nN=i(95085),nz=i(49922),nL=i(54875),nR=i(29705),nM=i(99704),nU=i(82483),nW=function(e){var n,i,r,t,s=e.memberCount,o=(0,a.SE)(),l=o.user,c=o.currentWorkspace,d=(0,nU.zc)(),u=d.subscription,h=d.product,x=null==u?void 0:null===(n=u.products)||void 0===n?void 0:n[0];if(!x||!h)return null;var p=(null==u?void 0:null===(i=u.createdByUser)||void 0===i?void 0:i.id)===(null==l?void 0:l.id),j=p?(0,nM._8)(null==l?void 0:l.email):null,f=s||x.units,m=null!=x&&x.units&&s?s-x.units:void 0,v="".concat(null==u?void 0:null===(r=u.createdByUser)||void 0===r?void 0:r.displayName," (\n  ").concat(null==u?void 0:null===(t=u.createdByUser)||void 0===t?void 0:t.email,")");return(0,es.jsxs)(k.K,{direction:"row",spacing:2,alignItems:"baseline",children:[(0,es.jsx)(eF.Y7,{workspace:c}),(0,es.jsx)(T.x,{fontSize:"sm",children:(0,es.jsx)(y.cC,{id:"qU2Hdh",values:{0:Number(f),1:x.name,2:x.name,GAMMA_PROPER_NOUN:g.N6}})}),m&&m>0&&p&&(0,es.jsx)(ew.kH,{label:(0,es.jsx)(y.cC,{id:"J8+D9M",values:{addedSeats:m}}),placement:"top",children:(0,es.jsx)(P.xu,{color:"yellow.500",children:(0,es.jsx)(_.G,{icon:nL.Vm})})}),(0,es.jsx)(ew.kH,{placement:"top",shouldWrapChildren:!0,label:p?(0,es.jsx)(y.cC,{id:"HrQ7yf"}):(0,es.jsx)(y.cC,{id:"H49TQ5",values:{creatorNameAndEmail:v}}),children:(0,es.jsx)(A.z,{target:"_blank",href:p?j:null,as:eE.r,colorScheme:p?"trueblue":"gray",variant:"link",size:"sm",rightIcon:(0,es.jsx)(nR.h,{ml:-1}),isDisabled:!p,children:(0,es.jsx)(y.cC,{id:"3jHA5d"})})})]})},nB=i(81188),nG=i(79821),nZ=i(85121),nH=function(e){var n=e.workspace,i=e.canManageWorkspace,r=(0,e1.p)(),t=(0,a.SE)().refetch,o=(0,s.useState)((null==n?void 0:n.name)||""),l=o[0],c=o[1],d=(0,s.useState)(!1),u=d[0],h=d[1],x=(0,F.Mqp)(),p=(0,eJ.Z)(x,2),j=p[0],f=p[1],m=f.loading,g=f.called,v=f.error,b=f.reset,C=(0,s.useCallback)(function(){h(!1),c((null==n?void 0:n.name)||"")},[null==n?void 0:n.name]),w=(0,s.useCallback)(function(){j({variables:{input:{name:l,id:null==n?void 0:n.id}},fetchPolicy:"no-cache"}).then(function(){null==t||t(),r({status:"success",title:"Success!",description:"Workspace updated successfully.",position:"top",duration:5e3}),setTimeout(function(){h(!1),b()},1e3)}).catch(function(e){console.error('[WorkspaceSettingsModal] Error updating workspace "'.concat(null==n?void 0:n.id,'"'),e.message)})},[l,null==n?void 0:n.id,t,b,r,j]),O=""===l||l.length<nZ.My||l.length>50||!!(null==v?void 0:v.message);(0,s.useEffect)(function(){l!==n.name&&h(!0)},[l,n.name]);var S=(0,nZ.up)();return n?(0,es.jsx)(P.xu,{children:(0,es.jsxs)(nd.NI,{isInvalid:O,children:[(0,es.jsx)(nu.l,{children:(0,es.jsx)(y.cC,{id:"CozWO1"})}),(0,es.jsxs)(k.K,{w:"100%",direction:["column","row"],children:[(0,es.jsx)(ew.kH,{placement:"top-start",label:(0,es.jsx)(y.cC,{id:"M1LZmX",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:S}}),isDisabled:i,children:(0,es.jsx)(P.xu,{flex:1,children:(0,es.jsx)(nh.I,{w:["100%","50%"],placeholder:W.ag._({id:"CozWO1"}),value:l,disabled:!i,onChange:function(e){return c(e.target.value.slice(0,50))}})})}),(0,es.jsx)(nG.R,{in:u,unmountOnExit:!0,children:(0,es.jsx)(P.xu,{children:(0,es.jsxs)(ne.h,{w:"100%",children:[(0,es.jsx)(A.z,{variant:"solid",isLoading:m,isDisabled:O||g,onClick:w,children:(0,es.jsx)(y.cC,{id:"EkH9pt"})}),(0,es.jsx)(A.z,{onClick:C,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})})]})})})]}),(0,es.jsx)(nd.Q6,{children:(0,es.jsx)(y.cC,{id:"ODB/Vo"})}),(0,es.jsx)(nc.J1,{children:null!=v&&v.message?null==v?void 0:v.message:(0,es.jsx)(y.cC,{id:"soNtuq",values:{WORKSPACE_NAME_MIN_LENGTH:nZ.My}})})]})}):null},nV=i(12741),nK=i(20406),nq=i(84636),nX=i.n(nq),nY=i(28526),nQ=i.n(nY),nJ=i(46949),n$=i(21891),n0=i(35316),n1=i(90113),n2=i(7985),n5=i(98841),n3=i(86379),n4=i(15241),n6=i(29677),n8=i(74642),n7=i(73851),n9=i(36258),ie=i(19875),ii=i(35319),ir=i(27912),it=i(21010),is=i(93148),io=i(85761),il=function(e){var n=e.productPrice,i=e.newMemberCount,r=e.totalPrice,t=e.perSeatPrice;return{pricePerInterval:(null==n?void 0:n.frequencyUnit)===it.C_B.Month?(0,es.jsx)(y.cC,{id:"0RWTxv",values:{totalPrice:r}}):(null==n?void 0:n.frequencyUnit)===it.C_B.Year?(0,es.jsx)(y.cC,{id:"QACZwO",values:{totalPrice:r}}):"---",priceBlurb:(null==n?void 0:n.frequencyUnit)===it.C_B.Month?(0,es.jsx)(y.cC,{id:"bZFzjo",values:{newMemberCount:i,perSeatPrice:t}}):(null==n?void 0:n.frequencyUnit)===it.C_B.Year?(0,es.jsx)(y.cC,{id:"FWS732",values:{newMemberCount:i,perSeatPrice:t}}):"---",subscriptionCostFrequencyDisplay:(null==n?void 0:n.frequencyUnit)===it.C_B.Month?(0,es.jsx)(y.cC,{id:"0lMZC2"}):(null==n?void 0:n.frequencyUnit)===it.C_B.Year?(0,es.jsx)(y.cC,{id:"cA02Qf"}):"---"}},ia=function(){var e=!!(0,nU.zc)().product,n=(0,s.useState)(new n6.B),i=n[0],r=n[1],t=(0,w.q)({id:"confirm-add-paid-user"}),o=t.isOpen,l=t.onOpen,a=t.onClose;return{isConfirmAddPaidMemberModalOpen:o,onConfirmAddPaidMemberClose:(0,s.useCallback)(function(){i.reject(),a()},[a,i]),onConfirmAddPaidMemberClick:(0,s.useCallback)(function(){i.resolve(!0),a()},[a,i]),showConfirmPaidUserModal:(0,s.useCallback)(function(){if(!e)return Promise.resolve();var n=new n6.B;return r(n),l(),n.promise},[e,l])}},ic=function(e){var n=e.isOpen,i=e.newMemberCount,r=e.onClose,t=e.onConfirmClick,o=e.onCancelClick,l=(0,nU.zc)().subscription,a=(0,s.useCallback)(function(){return(0,io.$F)(l,i)},[l,i]),c=(0,is.A)(a,[i,l]),d=c.proratedTotalPrice,u=c.totalPrice,h=c.productPrice,x=c.proratedDays,p=il({productPrice:h,newMemberCount:i,totalPrice:u,perSeatPrice:c.perSeatPrice}),j=p.pricePerInterval,f=p.priceBlurb,m=p.subscriptionCostFrequencyDisplay;return n&&l?(0,es.jsxs)(e2.u_,{isOpen:n,onClose:r,trapFocus:!1,size:"xl",children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"B9zUUN",values:{newMemberCount:i}})}),(0,es.jsx)(e6.o,{}),(0,es.jsx)(e8.f,{children:(0,es.jsxs)(k.K,{spacing:4,children:[(0,es.jsx)(T.x,{as:"span",fontWeight:"600",children:f}),(0,es.jsxs)(n8.i,{variant:"simple",colorScheme:"blackAlpha",children:[(0,es.jsx)(n7.h,{children:(0,es.jsxs)(n9.Tr,{children:[(0,es.jsx)(ie.Th,{width:"30%",children:(0,es.jsx)(y.cC,{id:"vimlM2"})}),(0,es.jsx)(ie.Th,{isNumeric:!0,children:m}),(0,es.jsxs)(ie.Th,{isNumeric:!0,width:"40%",children:[(0,es.jsx)(y.cC,{id:"ogu/zU"}),(0,es.jsx)("span",{children:"*"})]})]})}),(0,es.jsx)(ii.p,{children:(0,es.jsxs)(n9.Tr,{children:[(0,es.jsx)(ir.Td,{children:i}),(0,es.jsx)(ir.Td,{isNumeric:!0,children:(0,es.jsx)(y.cC,{id:"mkb1xp",values:{pricePerInterval:j}})}),(0,es.jsx)(ir.Td,{isNumeric:!0,children:(0,es.jsxs)(k.K,{spacing:0,children:[(0,es.jsx)(T.x,{fontWeight:"bold",children:d}),(0,es.jsxs)(T.x,{fontSize:"sm",color:"gray.500",children:[(0,es.jsx)(y.cC,{id:"o30QTA",values:{proratedDays:x}}),(0,es.jsx)("span",{children:"*"})]})]})})]})})]}),(0,es.jsx)(T.x,{color:"gray.600",fontSize:"sm",pt:2,children:(0,es.jsx)(y.cC,{id:"2p6xA4"})}),(0,es.jsxs)(T.x,{color:"gray.600",fontSize:"sm",fontStyle:"italic",pt:4,children:[(0,es.jsx)("span",{children:"*"}),(0,es.jsx)(y.cC,{id:"AGM7Il"})]})]})}),(0,es.jsx)(e9.m,{children:(0,es.jsxs)(ne.h,{children:[(0,es.jsx)(A.z,{variant:"ghost",colorScheme:"gray",onClick:o,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{variant:"solid",onClick:t,children:(0,es.jsx)(y.cC,{id:"Aa0YLq",values:{newMemberCount:i}})})]})})]})]}):null},id=(0,n5.E)(P.xu),iu=function(e){var n=e.workspace,i=e.canManageWorkspace,r=e.setDoneFn,t=(0,e1.p)(),o=(0,s.useRef)(),l=(0,s.useRef)(null),a=(0,s.useState)([]),d=a[0],u=a[1],h=(0,s.useState)(new n6.B),x=h[0],p=h[1],j=(0,s.useState)(""),f=j[0],m=j[1],g=(0,F.f4M)(),v=(0,eJ.Z)(g,2),b=v[0],C=v[1].loading,O=(0,w.q)({id:"confirm-unsent-invitations"}),k=O.isOpen,S=O.onOpen,I=O.onClose,D=ia(),E=D.isConfirmAddPaidMemberModalOpen,_=D.onConfirmAddPaidMemberClick,N=D.onConfirmAddPaidMemberClose,z=D.showConfirmPaidUserModal,L=d.concat({email:f}).filter(function(e){return!("email"in e)||(0,n2.G)(e.email||"")}),R=!!d.length,M=!!L.length;(0,s.useEffect)(function(){r(function(){return function(){return M?S():x.resolve(),x.promise}})},[M,x,S,r]);var U=C||!i,B=(0,s.useCallback)((0,nK.Z)(nQ().mark(function e(){var i;return nQ().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==d.length){e.next=2;break}return e.abrupt("return");case 2:return i=[].concat((0,nV.Z)(d),[{email:f.trim()}]).filter(function(e){return"email"in e&&(0,n2.G)(e.email||"")}),e.abrupt("return",b({variables:{workspaceId:n.id,invitees:i},refetchQueries:["GetWorkspace"]}).then(function(){t({title:(0,es.jsx)(y.cC,{id:"Ka86rB",values:{0:i.length}}),description:(0,es.jsx)(T.x,{children:i.map(function(e){return(0,es.jsx)(T.x,{children:e.email},e.email)})}),status:"success",position:"top",isClosable:!0,duration:9e3})}));case 4:case"end":return e.stop()}},e)})),[f,b,n.id,d,t]),G=(0,s.useCallback)((0,nK.Z)(nQ().mark(function e(){return nQ().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",z().then(B).then(function(){var e;u([]),m(""),null===(e=o.current)||void 0===e||e.resetItems(!0),x.resolve(),p(new n6.B)}).catch(function(e){console.warn(e)}));case 1:case"end":return e.stop()}},e)})),[z,B,x]),Z=(0,s.useCallback)(function(e){u(function(n){return n.filter(function(n){return n.email!==e})})},[]),H=(0,s.useCallback)(function(e){u(function(n){return nX()([].concat((0,nV.Z)(n),(0,nV.Z)(e)),"email")})},[]),V=(0,nZ.up)(),K=(0,nZ.r_)();return(0,es.jsxs)(P.xu,{my:4,mb:6,children:[(0,es.jsx)(T.x,{mb:2,fontSize:"sm",color:"gray.500",children:(0,es.jsx)(y.cC,{id:"/Yxzaj"})}),(0,es.jsxs)(c.k,{direction:"row",w:"100%",alignItems:"flex-start",children:[(0,es.jsx)(n$.B,{w:"100%",justifyContent:"center",flex:1,children:(0,es.jsxs)(n1.AutoComplete,{ref:o,values:d,maxSelections:100,maxSuggestions:20,creatable:!0,multiple:!0,freeSolo:!0,suggestWhenEmpty:!1,openOnFocus:!0,filter:function(e,n){return!d.find(function(e){return e.email===n})},onSelectOption:function(e){H([{email:e.item.value}]),m("")},onTagRemoved:function(e){u(function(n){return(0,nV.Z)(n).filter(function(n){return n.email!==e})})},children:[(0,es.jsxs)(n0.Z,{pointerEvents:"none",color:"gray.300",h:"100%",flexDirection:"column",children:[(0,es.jsx)(c.k,{flex:1}),(0,es.jsx)(c.k,{h:10,py:4,alignItems:"center",children:(0,es.jsx)(nJ.W,{w:10})})]}),(0,es.jsx)(ew.kH,{placement:"top-start",label:(0,es.jsx)(y.cC,{id:"8LvjQl",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:V,WORKSPACE_ADMIN_DISPLAY_NAME:K}}),isDisabled:i,children:(0,es.jsx)(P.xu,{children:(0,es.jsx)(n1.AutoCompleteInput,{ref:l,"data-testid":"autocomplete-collaborators-input",cursor:U?"not-allowed":void 0,disabled:U,w:"100%",pl:5,wrapStyles:{px:2},fontSize:"md",placeholder:W.ag._({id:"+1O5zr"}),transition:"width 1s ease-in-out",value:f,onKeyDown:function(e){var n=e.key;if("Enter"===n&&0===f.length){e.preventDefault();return}if("Backspace"===n&&0===f.length&&d.length>0){var i,r=d.slice(-1).pop();r&&(null===(i=o.current)||void 0===i||i.removeItem(r.email))}},onPaste:function(e){e.preventDefault(),e.stopPropagation();var n=e.clipboardData.getData("Text").trim().split(/[,|;\s]+/);H((0,nV.Z)(n.map(function(e){return{email:e}}))),m("")},onChange:function(e){m(e.target.value)},children:d.map(function(e,n){return(0,es.jsx)(n4.L,{idx:n,selectedCollaborator:e,handleRemoveClick:function(){Z(e.email)}},e.email)})})})})]})}),(0,es.jsx)(id,{overflowX:"hidden",transition:"slow",animate:{maxWidth:R?"240px":"0px"},children:(0,es.jsx)(P.xu,{ml:2,children:(0,es.jsx)(A.z,{variant:"solid",onClick:G,isDisabled:!M,isLoading:!1,"data-testid":"add-selected-items",children:(0,es.jsx)(y.cC,{id:"MFKlMB"})})})})]}),(0,es.jsx)(n3.C,{invitationCount:L.length,isOpen:k,onClose:function(){I(),x.reject(),p(new n6.B)},onDiscardClick:function(){I(),x.resolve(),p(new n6.B)},onSendInvitationsClick:function(){I(),G()}}),(0,es.jsx)(ic,{isOpen:E,newMemberCount:L.length,onConfirmClick:_,onClose:N,onCancelClick:N})]})},ih=i(48322),ix=i(97442),ip=function(){var e=(0,nU.zc)().subscription,n=(0,io.OJ)(e),i=null==n?void 0:n.frequencyUnit;return(0,es.jsxs)(T.x,{children:[(0,es.jsx)(T.x,{as:"span",fontWeight:"600",children:i===F.C_B.Month?(0,es.jsx)(y.cC,{id:"cs6BKJ",values:{0:(0,io.Hk)(n)},components:{0:(0,es.jsx)(T.x,{as:"span",textDecoration:"underline"})}}):i===F.C_B.Year?(0,es.jsx)(y.cC,{id:"xArlW8",values:{0:(0,io.Hk)(n)},components:{0:(0,es.jsx)(T.x,{as:"span",textDecoration:"underline"})}}):"---"}),(0,es.jsx)(T.x,{children:(0,es.jsx)(y.cC,{id:"gfz9Jx"})})]})},ij=i(51823),im=function(e){var n=e.workspace,i=(0,ij.Dg)(n),r=(0,nU.zc)().product;return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)(T.x,{my:2,fontSize:"sm",color:"gray.500",children:[(0,es.jsx)(y.cC,{id:"eR6rch"})," ",(0,es.jsx)(y.cC,{id:"X4Z7y1"})]}),(0,es.jsx)(c.k,{mb:4,children:(0,es.jsx)(ix.I,{url:i})}),(0,es.jsxs)(e0.b,{mt:2,status:"warning",fontSize:"sm",borderRadius:4,children:[(0,es.jsx)(ih.z,{}),(0,es.jsxs)(k.K,{children:[(0,es.jsxs)(T.x,{children:[(0,es.jsx)("strong",{children:(0,es.jsx)(y.cC,{id:"XeiZmu"})})," ",(0,es.jsx)(y.cC,{id:"PF+S+V",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq}})]}),r&&(0,es.jsx)(ip,{})]})]})]})},ig=i(99185),iv=i(12337),ib=i(5918),iC=i(77525),iy=function(e,n){return"".concat(null!=e?e:""," ").concat(n?"(".concat(n,")"):"")},iw=i(82269),iO=i(35837),ik=["user"];function iS(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function iI(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?iS(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):iS(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var iD=function(e,n,i){var r=iy(n.displayName,n.email),t=(0,nZ.r_)();return"remove"===e?{title:(0,es.jsx)(y.cC,{id:"HlXuQk",values:{0:n.displayName||""}}),description:(0,es.jsx)(y.cC,{id:"MYcnTw",values:{nameWithEmail:r}}),confirmButtonLabel:(0,es.jsx)(y.cC,{id:"gNjH/6"})}:"leave"===e?{title:(0,es.jsx)(y.cC,{id:"6iUevl"}),description:(0,es.jsx)(y.cC,{id:"nM44Cu",values:{0:i.name}}),confirmButtonLabel:(0,es.jsx)(y.cC,{id:"hGWoeF"})}:{title:(0,es.jsx)(y.cC,{id:"kxbLa+",values:{WORKSPACE_ADMIN_DISPLAY_NAME:t}}),description:(0,es.jsx)(y.cC,{id:"gJfQ74",values:{WORKSPACE_ADMIN_DISPLAY_NAME:t}}),confirmButtonLabel:(0,es.jsx)(y.cC,{id:"m4YerB"})}},iT=function(e){var n=e.isOpen,i=e.onClose,r=e.onConfirmClick,t=e.onCancelClick,s=e.userToConfirm,o=e.workspace,l=e.action;if(!n)return null;var a=iD(l,s,o),c=a.title,d=a.description,u=a.confirmButtonLabel;return(0,es.jsxs)(e2.u_,{returnFocusOnClose:!1,onClose:i,isOpen:!0,isCentered:!0,size:"lg",children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:c}),(0,es.jsx)(e6.o,{}),(0,es.jsxs)(e8.f,{children:[(0,es.jsx)(T.x,{children:d}),"remove"===l&&(0,es.jsx)(iA,{user:s,mt:3})]}),(0,es.jsx)(e9.m,{children:(0,es.jsxs)(ne.h,{variant:"ghost",children:[(0,es.jsx)(A.z,{onClick:t,colorScheme:"gray",children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{colorScheme:"red",onClick:r,children:u})]})})]})]})},iA=function(e){var n=e.user,i=(0,iw.Z)(e,ik);return(0,es.jsxs)(ey.g,iI(iI({spacing:3},i),{},{children:[(0,es.jsx)(e0.b,{status:"warning",children:(0,es.jsxs)(O.U,{children:[(0,es.jsx)(eK.q,{src:null==n?void 0:n.profileImageUrl,size:"sm",name:null==n?void 0:n.displayName}),(0,es.jsxs)(k.K,{spacing:0,ml:2,flex:"1",children:[(0,es.jsx)(T.x,{fontSize:"sm",flex:"1",wordBreak:"break-word",children:null==n?void 0:n.displayName}),n.email&&(0,es.jsx)(T.x,{fontSize:"xs",color:"gray.600",flex:"1",wordBreak:"break-word",children:n.email})]})]})}),(0,es.jsxs)(e0.b,{children:[(0,es.jsx)(ih.z,{}),(0,es.jsxs)(iO.GS,{spacing:3,children:[(0,es.jsx)(iO.HC,{children:(0,es.jsx)(y.cC,{id:"J1E9I7",values:{0:n.displayName||"",GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq}})}),(0,es.jsx)(iO.HC,{children:(0,es.jsx)(y.cC,{id:"1i/P7t",values:{0:n.displayName||"",GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq}})})]})]})]}))},iP=i(26673),iE=i(56241),i_=function(e){var n=e.selected,i=e.options,r=e.onSelect,t=e.isMenuDisabled,s=e.disabledOptions,o=void 0===s?[]:s,l=e.deleteLabel,a=void 0===l?(0,es.jsx)(y.cC,{id:"HBvein"}):l,c=e.onDeleteClick,d=e.disabledDeleteReason,u=n===F.r3E.Admin?(0,es.jsx)(y.cC,{id:"U3pytU"}):(0,es.jsx)(y.cC,{id:"OvoEq7"});return(0,es.jsxs)(V.v,{closeOnSelect:!0,children:[(0,es.jsx)(K.j,{as:A.z,isDisabled:t,variant:"ghost",size:"sm",rightIcon:(0,es.jsx)(_.G,{icon:iP.pt}),children:u}),(0,es.jsx)(Y.q,{maxW:"320px",zIndex:"dropdown",children:(0,es.jsxs)(eq._,{defaultValue:n,value:n,type:"radio",onChange:function(e){Array.isArray(e)||r(e)},children:[i.map(function(e){var n=o.find(function(n){return n.disabledOption===e});return(0,es.jsx)(eX.i,{value:e,isDisabled:!!n,pt:3,children:(0,es.jsx)(iE.u,{"aria-label":null==n?void 0:n.reason,label:null==n?void 0:n.reason,isDisabled:!n,placement:"right",shouldWrapChildren:!0,children:(0,es.jsxs)(P.xu,{lineHeight:"base",children:[(0,es.jsx)(T.x,{fontSize:"md",children:nZ.rK[e].title}),(0,es.jsx)(T.x,{fontSize:"sm",color:"gray.500",children:nZ.rK[e].description})]})})},e)}),(0,es.jsx)(J.R,{}),(0,es.jsx)(iE.u,{"aria-label":d,label:d,isDisabled:!d,placement:"right",shouldWrapChildren:!0,children:(0,es.jsx)(Q.s,{onClick:c,color:"red.500",fontSize:"md",lineHeight:"base",isDisabled:!!d,children:a})})]})})]})},iF=function(e,n){return(n||[]).find(function(n){var i;return(null===(i=n.workspace)||void 0===i?void 0:i.id)===e})},iN=function(e){var n,i=e.workspace,r=e.dateFormatterFn,t=e.canManageWorkspace,o=e.workspaceAdminCount,l=(0,s.useState)(F.tvj.DisplayName),d=l[0],u=l[1],h=(0,s.useState)(F.SrV.Asc),x=h[0],p=h[1],j=(0,s.useState)(!1),f=j[0],m=j[1],g={id:null==i?void 0:i.id,first:50,sortBy:{field:d,direction:x}},v=(0,F.iR3)({variables:g,skip:!(null!=i&&i.id)}),b=v.data,C=v.loading,O=v.fetchMore,S=(0,F.Eiz)(),I=(0,eJ.Z)(S,2),D=I[0],T=I[1].loading,E=(0,F.ert)(),N=(0,eJ.Z)(E,2),z=N[0],L=N[1].loading,R=(0,s.useState)(null),M=R[0],U=R[1],W=null==b?void 0:null===(n=b.workspaceMembers)||void 0===n?void 0:n.pageInfo,B=!C&&(null==W?void 0:W.hasNextPage)&&(null==W?void 0:W.endCursor),G=null==b?void 0:b.workspaceMembers.edges.map(function(e){return e.node}),Z=(0,a.SE)(),H=Z.user,V=Z.refetch,K=i.id,q=(0,e1.p)(),X=(0,s.useState)(null),Y=X[0],Q=X[1],J=(0,s.useState)(null),$=J[0],ee=J[1],en=(0,s.useState)(new n6.B),ei=en[0],er=en[1],et=(0,w.q)(),eo=et.isOpen,el=et.onOpen,ea=et.onClose,ec=(0,s.useMemo)(function(){return null!=o?o:(null==G?void 0:G.reduce(function(e,n){var i=iF(K,n.workspaceMemberships);return i&&i.role===F.r3E.Admin&&e++,e},0))||0},[G,K,o]),ed=(0,s.useCallback)((0,nK.Z)(nQ().mark(function e(){return nQ().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return el(),e.abrupt("return",ei.promise);case 2:case"end":return e.stop()}},e)})),[ei,el]),eu=(0,s.useCallback)(function(){Q(null),ee(null)},[]),eh=(0,s.useCallback)(function(e,n){U(e.id),D({variables:{workspaceId:i.id,userId:e.id,role:n},refetchQueries:["GetWorkspace"]}).then(function(){null==V||V(),q({description:n===F.r3E.Admin?(0,es.jsx)(y.cC,{id:"IFCQlQ",values:{0:e.displayName,1:e.email}}):(0,es.jsx)(y.cC,{id:"gWgob7",values:{0:e.displayName,1:e.email}}),status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(function(){q({description:(0,es.jsx)(y.cC,{id:"CF7q4i",values:{0:e.displayName,1:e.email}}),status:"error",position:"top",duration:5e3,isClosable:!0})}).finally(function(){U(null)})},[V,q,D,i.id]),ex=(0,s.useCallback)(function(e){var n;return n=(0,nK.Z)(nQ().mark(function n(i){return nQ().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(!e||!t)){n.next=2;break}return n.abrupt("return");case 2:if(!((null==H?void 0:H.id)===e.id&&i===F.r3E.Member)){n.next=10;break}if(!(ec<=1)){n.next=5;break}return n.abrupt("return");case 5:Q(e),ee("giveUpAdminAccess"),ed().then(function(){eh(e,i)}).catch(function(){console.debug("[handleMemberRoleChange] User cancelled action")}).finally(function(){return eu()}),n.next=11;break;case 10:eh(e,i);case 11:case"end":return n.stop()}},n)})),function(e){return n.apply(this,arguments)}},[ec,t,eh,ed,eu,null==H?void 0:H.id]),ep=(0,s.useCallback)(function(e){return function(){if(e.id!==(null==H?void 0:H.id)){var n=iy(e.displayName,e.email);Q(e),ee("remove"),ed().then(function(){U(e.id),z({variables:{workspaceId:K,userId:e.id},refetchQueries:["GetWorkspace","GetWorkspaceMembers"]}).then(function(){null==V||V(),q({description:(0,es.jsx)(y.cC,{id:"jkCRxy",values:{emailWithName:n}}),status:"success",position:"top",duration:5e3,isClosable:!0})}).catch(function(){q({description:(0,es.jsx)(y.cC,{id:"eETcUn",values:{emailWithName:n}}),status:"error",position:"top",duration:5e3,isClosable:!0})})}).finally(function(){U(null),eu()})}}},[z,ed,K,null==H?void 0:H.id,V,eu,q]);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(iC.x,{children:(0,es.jsxs)(n8.i,{variant:"simple",colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",children:[(0,es.jsx)(n7.h,{children:(0,es.jsxs)(n9.Tr,{children:[(0,es.jsx)(ie.Th,{children:(0,es.jsx)(A.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:function(){u(F.tvj.DisplayName),p(function(e){return e===F.SrV.Asc?F.SrV.Desc:F.SrV.Asc})},rightIcon:(0,es.jsx)(P.xu,{color:d===F.tvj.DisplayName?"gray.700":"gray.300",children:(0,es.jsx)(_.G,{icon:d===F.tvj.DisplayName?"asc"===x?ib.eW:iv.l1:ig.Cm})}),children:(0,es.jsx)(y.cC,{id:"6YtxFj"})})}),(0,es.jsx)(ie.Th,{children:(0,es.jsx)(A.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:function(){u(F.tvj.CreatedTime),p(function(e){return e===F.SrV.Asc?F.SrV.Desc:F.SrV.Asc})},rightIcon:(0,es.jsx)(P.xu,{color:d===F.tvj.CreatedTime?"gray.700":"gray.300",children:(0,es.jsx)(_.G,{icon:d===F.tvj.CreatedTime?"asc"===x?ib.eW:iv.l1:ig.Cm})}),children:(0,es.jsx)(y.cC,{id:"SnjWqV"})})}),(0,es.jsx)(ie.Th,{children:(0,es.jsx)(y.cC,{id:"GDvlUT"})})]})}),(0,es.jsxs)(ii.p,{children:[C&&(0,es.jsx)(n9.Tr,{p:0,children:(0,es.jsx)(ir.Td,{colSpan:2,p:0,children:(0,es.jsxs)(k.K,{spacing:2,children:[(0,es.jsx)(eV.O,{h:8}),(0,es.jsx)(eV.O,{h:8}),(0,es.jsx)(eV.O,{h:8})]})})}),G&&G.map(function(e,n){var s=n===G.length-1,o=iF(i.id,e.workspaceMemberships),l=r(null==o?void 0:o.createdTime),a=null==o?void 0:o.role,c=a===F.r3E.Admin,d=a?nZ.rK[a].title:"",u=M===e.id,h=e.id===(null==H?void 0:H.id);return(0,es.jsxs)(n9.Tr,{children:[(0,es.jsx)(ir.Td,{borderBottom:s?"0 none":void 0,children:(0,es.jsx)(iz,{user:e,isSelf:h})}),(0,es.jsx)(ir.Td,{borderBottom:s?"0 none":void 0,whiteSpace:"nowrap",children:l}),(0,es.jsx)(ir.Td,{borderBottom:s?"0 none":void 0,w:32,children:u?(0,es.jsx)(P.xu,{textAlign:"center",children:(0,es.jsx)(eC.$,{size:"xs"})}):t&&a?(0,es.jsx)(i_,{selected:a,isMenuDisabled:T||L,options:[F.r3E.Admin,F.r3E.Member],onSelect:ex(e),disabledOptions:c&&ec<=1?[{disabledOption:F.r3E.Member,reason:"A workspace must have at least one admin"}]:[],disabledDeleteReason:h?"You cannot remove yourself":void 0,onDeleteClick:ep(e)}):d})]},e.id)})]})]})}),B&&(0,es.jsx)(c.k,{w:"100%",justify:"center",align:"center",mt:3,children:(0,es.jsx)(A.z,{isLoading:f,size:"sm",onClick:function(){m(!0),O({variables:{after:null==W?void 0:W.endCursor}}).finally(function(){m(!1)})},children:(0,es.jsx)(y.cC,{id:"yQ2kGp"})})}),Y&&$&&(0,es.jsx)(iT,{isOpen:eo,onClose:function(){ea(),ei.reject(),er(new n6.B)},onCancelClick:function(){ea(),ei.reject(),er(new n6.B)},onConfirmClick:(0,nK.Z)(nQ().mark(function e(){return nQ().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ea(),ei.resolve(),er(new n6.B);case 3:case"end":return e.stop()}},e)})),userToConfirm:Y,action:$,workspace:i})]})},iz=function(e){var n=e.user,i=e.isSelf,r=n.displayName,t=n.profileImageUrl,s=n.email;return(0,es.jsxs)(O.U,{children:[(0,es.jsx)(eK.q,{size:"sm",name:r,src:t}),(0,es.jsxs)(k.K,{spacing:0,children:[(0,es.jsxs)(T.x,{children:[r,i?(0,es.jsxs)(es.Fragment,{children:[" ",(0,es.jsx)(y.cC,{id:"4Q6lF1"})]}):""]}),(0,es.jsx)(O.U,{mt:1,children:(0,es.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:s})})]})]})},iL=i(829),iR=i.n(iL),iM=function(e){var n=e.invitations,i=e.dateFormatterFn,r=e.canManageWorkspace,t=(0,s.useState)("email"),o=t[0],l=t[1],a=(0,s.useState)("asc"),c=a[0],d=a[1],u=(0,F.PZh)(),h=(0,eJ.Z)(u,1)[0],x=(0,e1.p)(),p=(0,nZ.up)(),j=(0,s.useCallback)(function(e){h({variables:{id:e}}).then(function(){x({title:W.ag._({id:"DGxAzK"}),status:"success",duration:3e3,isClosable:!0,position:"bottom"})}).catch(function(e){console.error(e),x({title:W.ag._({id:"s51CLN",values:{0:e.message}}),status:"error",isClosable:!0,position:"bottom"})})},[h,x]),f="asc"===c?iR()(n,o):iR()(n,o).reverse();return 0===f.length?(0,es.jsx)(P.xu,{p:4,background:"gray.50",children:(0,es.jsx)(T.x,{my:8,textAlign:"center",children:(0,es.jsx)(y.cC,{id:"blyObO"})})}):(0,es.jsx)(iC.x,{children:(0,es.jsxs)(n8.i,{variant:"simple",colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",children:[(0,es.jsx)(n7.h,{children:(0,es.jsxs)(n9.Tr,{children:[(0,es.jsx)(ie.Th,{children:(0,es.jsx)(A.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:function(){l("email"),d(function(e){return"asc"===e?"desc":"asc"})},rightIcon:(0,es.jsx)(P.xu,{color:"email"===o?"gray.700":"gray.300",children:(0,es.jsx)(_.G,{icon:"email"===o?"asc"===c?ib.eW:iv.l1:ig.Cm})}),children:(0,es.jsx)(y.cC,{id:"O3oNi5"})})}),(0,es.jsxs)(ie.Th,{children:[" ",(0,es.jsx)(A.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:function(){l("createdTime"),d(function(e){return"asc"===e?"desc":"asc"})},rightIcon:(0,es.jsx)(P.xu,{color:"email"===o?"gray.700":"gray.300",children:(0,es.jsx)(_.G,{icon:"createdTime"===o?"asc"===c?ib.eW:iv.l1:ig.Cm})}),children:(0,es.jsx)(y.cC,{id:"B82OLR"})})]}),(0,es.jsx)(ie.Th,{children:(0,es.jsx)(y.cC,{id:"GXsAby"})})]})}),(0,es.jsx)(ii.p,{children:f&&(null==f?void 0:f.length)>0&&f.map(function(e,n){return(0,es.jsxs)(n9.Tr,{children:[(0,es.jsx)(ir.Td,{children:e.email}),(0,es.jsx)(ir.Td,{children:i(e.createdTime)}),(0,es.jsx)(ir.Td,{children:(0,es.jsx)(ew.kH,{placement:"top",label:(0,es.jsx)(y.cC,{id:"wcx9n8",values:{WORKSPACE_ADMIN_DISPLAY_NAME_PLURAL:p}}),shouldWrapChildren:!0,isDisabled:r,children:(0,es.jsx)(A.z,{w:20,variant:"plain",color:"plain",size:"sm",isDisabled:!r,onClick:function(){j(e.id)},children:(0,es.jsx)(y.cC,{id:"GXsAby"})})})})]},e.id)})})]})})},iU=function(e){var n,i,r,t=e.isOpen,o=e.onClose,l=(0,a.SE)().currentWorkspace,c=(0,a.d3)(),d=(0,F.WaV)({variables:{id:null==l?void 0:l.id},skip:!(null!=l&&l.id)}).data,u=(0,s.useState)(function(){return function(){return Promise.resolve()}}),h=u[0],x=u[1],p=(null==d?void 0:null===(n=d.workspace)||void 0===n?void 0:n.invitations)||[],j=(0,s.useCallback)(function(){h().then(o).catch(function(){console.warn("[workspaceSettingsModal] InviteByEmail rejected to close modal")})},[h,o]);return l?(0,es.jsxs)(e2.u_,{isOpen:t,onClose:j,size:"3xl",children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"Knd6gz"})}),(0,es.jsx)(e6.o,{}),(0,es.jsx)(eb.i,{mb:4}),(0,es.jsxs)(e8.f,{children:[(0,es.jsx)(nz.m,{segmentEvent:b.AA.GAMMA_PRO_UPSELL_CALLOUT_WORKSPACE_SETTINGS,onOpenCallback:j}),(0,es.jsx)(nH,{workspace:l,canManageWorkspace:c}),(0,es.jsx)(P.xu,{mt:12,children:(0,es.jsxs)(k.K,{spacing:8,children:[(0,es.jsxs)(P.xu,{children:[(0,es.jsx)(I.X,{size:"md",fontWeight:"600",mb:4,children:(0,es.jsx)(y.cC,{id:"KKJitJ"})}),(0,es.jsx)(iu,{workspace:l,canManageWorkspace:c,setDoneFn:x}),c&&(0,es.jsx)(im,{workspace:l})]}),(0,es.jsx)(P.xu,{children:(0,es.jsxs)(nP.m,{variant:"soft-rounded",size:"sm",children:[(0,es.jsxs)(nE.t,{mb:4,children:[(0,es.jsxs)(n_.O,{children:[(0,es.jsx)(P.xu,{mr:2,children:(0,es.jsx)(_.G,{icon:nA.iO})}),(0,es.jsx)(y.cC,{id:"Ob6KWB"})]}),(0,es.jsxs)(n_.O,{children:[(0,es.jsx)(P.xu,{mr:2,children:(0,es.jsx)(_.G,{icon:ea.FU})}),(0,es.jsx)(y.cC,{id:"ZR1dJ4"})]})]}),(0,es.jsxs)(nF.n,{children:[(0,es.jsx)(nN.x,{p:0,mt:0,children:(0,es.jsx)(iN,{workspace:l,dateFormatterFn:nB.P9,canManageWorkspace:c,workspaceAdminCount:null==d?void 0:null===(i=d.workspace)||void 0===i?void 0:i.adminCount})}),(0,es.jsx)(nN.x,{p:0,mt:0,children:(0,es.jsx)(iM,{invitations:p,dateFormatterFn:nB.P9,canManageWorkspace:c})})]})]})})]})})]}),(0,es.jsx)(eb.i,{mt:6}),(0,es.jsx)(e9.m,{children:(0,es.jsxs)(k.K,{w:"100%",direction:"row",align:"center",justifyContent:"space-between",children:[(0,es.jsx)(nW,{memberCount:null==d?void 0:null===(r=d.workspace)||void 0===r?void 0:r.memberCount}),(0,es.jsx)(H.L,{}),(0,es.jsx)(ne.h,{children:(0,es.jsx)(A.z,{variant:"solid",onClick:j,children:(0,es.jsx)(y.cC,{id:"DPfwMq"})})})]})})]})]}):null},iW=i(73629);function iB(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function iG(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?iB(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):iB(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var iZ=function(e){var n=e.openModal,i=(0,a.SE)().currentWorkspace,r=(0,e1.p)();(0,s.useEffect)(function(){var e=(0,ij.SJ)()[a.f2],t=null==i?void 0:i.id;e&&t&&(e===t?n():r({title:(0,es.jsx)(y.cC,{id:"EhVOPs"}),position:"top",id:"workspace-not-found",status:"error",isClosable:!0,duration:3e3}),(0,iW.lO)({query:iG(iG({},(0,ij.SJ)()),{},(0,el.Z)({},a.f2,void 0)),emitChange:!1}))},[r,n,i])},iH=i(9734),iV=["children","dataTestId","isSelected","isDropActive","href","target"];function iK(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function iq(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?iK(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):iK(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var iX=s.forwardRef(function(e,n){var i=e.children,r=e.dataTestId,t=e.isSelected,s=e.isDropActive,o=e.href,l=e.target,a=(0,iw.Z)(e,iV);return(0,es.jsx)(A.z,iq(iq({ref:n,textDecoration:"none",variant:"ghost",w:"100%",size:"sm",colorScheme:"gray",as:eE.r,borderRadius:"md",justifyContent:"flex-start","data-testid":r,_hover:{bgColor:t?"trueblue.50":"gray.100",textDecoration:"none"},color:t||s?"trueblue.500":"gray.600",bgColor:t||s?"trueblue.50":void 0,_active:{color:"trueblue.500",bgColor:"trueblue.200",textDecoration:"none"},py:1.5,mb:1,paddingInlineStart:2,fontWeight:t?"bold":"regular",href:o,target:l},a),{},{children:i}))});iX.displayName="SidebarButton";var iY=i(55104),iQ=i(20103),iJ=i(18748),i$=i(52622),i0=i(34396),i1=i(92779);function i2(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function i5(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?i2(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):i2(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var i3=function(e){var n,i=e.onClose,r=e.onSubmit,t=e.doc,o=(0,a.py)("manage",t||void 0),l=(0,F.$gs)().isConnected,c=(0,s.useState)(F.y3$.Manage),d=c[0],u=c[1];return t?(0,es.jsxs)(e2.u_,{closeOnOverlayClick:!1,isOpen:!0,onClose:i,size:"lg",children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{"data-testid":"workspace-permissions-prompt",children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"JzTAyU",values:{0:t.title}})}),(0,es.jsx)(e6.o,{}),(0,es.jsxs)(e8.f,{children:[(0,es.jsx)(T.x,{mb:6,children:(0,es.jsx)(y.cC,{id:"wKPcxh"})}),(0,es.jsx)(iJ.o$,{testId:"workspace",title:(0,es.jsx)(y.cC,{id:"wtxjAY"}),subtitle:W.ag._({id:"aC87LX",values:{0:null==t?void 0:null===(n=t.organization)||void 0===n?void 0:n.name}}),isDisabled:!o||!l,img:(0,es.jsx)(P.Cd,{color:"gray.800",textAlign:"center",bg:"gray.200",size:"32px",children:(0,es.jsx)(_.G,{size:"1x",icon:i$.P8})}),disabledText:iJ.Nj[d].title(),permissionsControl:(0,es.jsx)(iJ.t9,{selected:d,options:[F.y3$.Manage,F.y3$.Edit,F.y3$.Comment,F.y3$.View],onClick:function(e){u(e)}})})]}),(0,es.jsx)(e9.m,{children:(0,es.jsxs)(ne.h,{children:[(0,es.jsx)(A.z,{variant:"ghost",onClick:i,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{variant:"solid","data-testid":"workspace-permissions-submit",onClick:function(){r(d),i()},children:(0,es.jsx)(y.cC,{id:"DPfwMq"})})]})})]})]}):(0,es.jsx)(es.Fragment,{})},i4=function(){var e=(0,w.q)({id:"workspacePermissionPromptDisclosure"}),n=e.onOpen,i=e.isOpen,r=e.onClose,t=(0,F.rIg)(),o=(0,eJ.Z)(t,1)[0],l=(0,a.SE)().currentWorkspace,c=(0,e1.p)(),d=(0,i0.Z)().addDocChannel,u=(0,s.useState)(null),h=u[0],x=u[1],p=(0,s.useState)(null),j=p[0],f=p[1],m=(0,a.we)(),v=(0,s.useCallback)(function(e,n){var i=(e.channels||[]).find(function(e){return e.id===n.id}),r=(0,i1.Gi)(e,l),t=m.cannot("manage",e)&&eZ()(e.orgAccess);return r?(c({description:W.ag._({id:"doMS3L",values:{GAMMA_ARTIFACT_PROPER_NOUN:g.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):t?(c({description:W.ag._({id:"81ZRAa",values:{GAMMA_ARTIFACT_PROPER_NOUN:g.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1):!i||(c({description:W.ag._({id:"FRsVHP",values:{GAMMA_ARTIFACT_PROPER_NOUN:g.Yc}}),status:"warning",duration:5e3,isClosable:!0,position:"top"}),!1)},[m,c,l]),b=(0,s.useCallback)(function(e){if(h&&j){var n=h.id;o({variables:{id:n,orgAccess:e},optimisticResponse:{updateDoc:i5(i5({},{id:n,orgAccess:e}),{},{__typename:"Doc"})}}).then(function(){d({doc:h,channel:j,existingChannels:null==h?void 0:h.channels})}).catch(function(e){console.error("[useAddDocToChannel.updatedocOrgAccess] Error setting doc orgAccess for doc id",n),c({title:W.ag._({id:"SlfejT"}),description:W.ag._({id:"x9Wysy",values:{0:e.message}}),status:"error"})})}},[d,h,j,c,o]),C=(0,s.useCallback)(function(e,i){v(e,i)&&(e.orgAccess?d({doc:e,channel:i,existingChannels:(null==e?void 0:e.channels)||[]}):(x(e),f(i),n()))},[d,n,v]);return{isOpen:i,onClose:(0,s.useCallback)(function(){f(null),x(null),r()},[r]),doc:h,handleAddDocToChannel:C,updateWorkspacePermissionThenAddToChannel:b}},i6=i(81068),i8="ChannelDocDragItemType",i7=i(76035),i9=i(27302),re=i(46034);function rn(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function ri(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?rn(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rn(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var rr=function(){var e=(0,e1.p)(),n=(0,F.ozD)(),i=(0,eJ.Z)(n,1)[0],r=(0,F.Oau)(),t=(0,eJ.Z)(r,1)[0],o=(0,F.dbz)(),l=(0,eJ.Z)(o,2),a=l[0],c=l[1],d=c.loading,u=c.error,h=(0,s.useCallback)(function(n){var r=n.channel;return i({variables:{channelId:r.id}}).then(function(){e({title:(0,es.jsx)(y.cC,{id:"GCUxja",values:{0:null==r?void 0:r.name}}),description:(0,es.jsx)(y.cC,{id:"SQY08b",values:{0:null==r?void 0:r.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"})})},[i,e]);return{joinChannel:(0,s.useCallback)(function(n){var i=n.channel,r=n.workspaceId,s=i.name;return t({variables:{channelId:i.id},update:function(e,n){var i=n.data;null!=i&&i.joinChannel&&e.writeQuery({query:F.kTw,variables:{workspaceId:r},data:{channels:[i.joinChannel]}})},optimisticResponse:{joinChannel:ri({},i)}}).then(function(){e({title:(0,es.jsx)(y.cC,{id:"WpOdvg",values:{name:s}}),description:(0,es.jsx)(y.cC,{id:"/IOSvX",values:{name:s}}),status:"success",duration:3e3,isClosable:!0,position:"top"})}).catch(function(n){e({title:(0,es.jsx)(y.cC,{id:"bLRa0l",values:{name:s}}),description:n.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[t,e]),leaveChannel:h,createChannel:(0,s.useCallback)(function(n){var i=n.input;return a({variables:{input:i},update:function(e,n){var r=n.data;null!=r&&r.createChannel&&e.writeQuery({query:F.kTw,variables:{workspaceId:i.workspaceId},data:{channels:[r.createChannel]}})},optimisticResponse:{createChannel:ri(ri({id:"temp-id",slug:"temp-slug"},i),{},{createdTime:new Date().toISOString(),updatedTime:new Date().toISOString(),__typename:"Channel"})}}).then(function(n){var i,r=null==n?void 0:null===(i=n.data)||void 0===i?void 0:i.createChannel;null!=r&&r.name&&e({title:(0,es.jsx)(y.cC,{id:"EbT81q",values:{0:r.name}}),status:"success",duration:3e3,isClosable:!0,position:"top"}),null!=r&&r.id&&null!=r&&r.slug?p().push((0,ij.j)({id:r.id,slug:r.slug})):console.error('[CreateChannelModal] Error generating channel URL. ID: "'.concat(null==r?void 0:r.id,'". Slug: "').concat(null==r?void 0:r.slug,'"'))}).catch(function(n){e({title:(0,es.jsx)(y.cC,{id:"YeikaQ"}),description:n.message,status:"error",duration:3e3,isClosable:!0,position:"top"})})},[a,e]),createChannelLoading:d,createChannelError:u}},rt=i(38421),rs=i.n(rt),ro=function(e){var n=e.channelName,i=e.onCreateClick;return(0,es.jsx)(i9.M,{minH:"sm",children:(0,es.jsxs)(c.k,{direction:"column",justify:"center",align:"center",w:["100%","80%"],children:[(0,es.jsx)(P.xu,{w:"80%",maxW:"250px",mb:6,alignContent:"center",children:(0,es.jsx)(rs(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,es.jsx)(I.X,{size:"md",mb:2,textAlign:"center",children:(0,es.jsx)(y.cC,{id:"NmfOr+"})}),(0,es.jsx)(T.x,{fontSize:"lg",color:"gray.400",textAlign:"center",children:(0,es.jsx)(y.cC,{id:"cZOpR0",values:{channelName:n},components:{0:(0,es.jsx)(eE.r,{onClick:i,color:"trueblue.500"})}})})]})})};function rl(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function ra(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?rl(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rl(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var rc=function(e){var n=e.channels,i=e.workspaceId,r=rr(),t=r.leaveChannel,o=r.joinChannel,l=(0,s.useCallback)(function(e,n){e?o({channel:n,workspaceId:i}):t({channel:n})},[o,t,i]);return(0,es.jsxs)(k.K,{spacing:0,children:[0===n.length&&(0,es.jsxs)(c.k,{direction:"column",justify:"center",align:"center",w:"100%",my:6,children:[(0,es.jsx)(P.xu,{w:"80%",maxW:"200px",mb:6,alignContent:"center",children:(0,es.jsx)(D.E,{src:re.Z.src,width:"725px",alt:"Sal, the Gamma mascot, painting in space"})}),(0,es.jsx)(I.X,{size:"md",mb:2,textAlign:"center",children:(0,es.jsx)(y.cC,{id:"PN1FMY"})}),(0,es.jsx)(T.x,{fontSize:"lg",color:"gray.400",textAlign:"center",children:(0,es.jsx)(y.cC,{id:"gdEwT8",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq},components:{0:(0,es.jsx)("br",{})}})})]}),n.length>0&&n.map(function(e){var n=e.members,i=e.isMember,r=e.memberCount,t=e.name;return(0,es.jsxs)(O.U,{spacing:4,px:4,py:2,_hover:{bg:"gray.100"},borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",children:[(0,es.jsx)(P.xu,{p:2,color:i?"":"gray.400",children:(0,es.jsx)(_.G,{icon:i?i7.faCircleCheck:eR.Ty})}),(0,es.jsxs)(O.U,{flex:1,children:[(0,es.jsxs)(k.K,{spacing:0,children:[(0,es.jsx)(T.x,{children:t}),(0,es.jsx)(T.x,{fontSize:"sm",color:"gray.400",children:e.isMember?(0,es.jsx)(y.cC,{id:"tWPlLK",values:{0:r||0}}):(0,es.jsx)(y.cC,{id:"pkIIls",values:{0:r||0}})})]}),(0,es.jsx)(H.L,{}),(0,es.jsx)(ew.NL,{size:"xs",overflowTooltipLabel:W.ag._({id:"25VyZX"}),avatars:n||[],max:3})]}),(0,es.jsx)(A.z,{w:20,variant:i?"ghost":"plain",color:i?"gray.600":"plain",size:"sm",onClick:function(){l(!i,e)},children:i?(0,es.jsx)(y.cC,{id:"Mv8CyJ"}):(0,es.jsx)(y.cC,{id:"0wdd7X"})})]},e.id)})]})},rd=function(e){var n,i=e.isOpen,r=e.onClose,t=e.workspaceId,o=(0,s.useState)(""),l=o[0],a=o[1],c=(0,s.useState)(!1),d=c[0],u=c[1],h=(0,s.useState)(!1),x=h[0],p=h[1],j=(0,s.useRef)(null),f=rr(),m=f.createChannel,g=f.createChannelLoading,v=f.createChannelError,b=(0,s.useState)(null),C=b[0],w=b[1],S=(0,s.useState)(!1),I=S[0],D=S[1],P=(0,F.Un3)({variables:{workspaceId:t,first:20,sortBy:{field:F.Bhs.MemberCount,direction:F.SrV.Desc},query:l},skip:!t,nextFetchPolicy:"cache-only"}),E=P.data,_=P.loading,N=P.called,z=P.fetchMore,L=(0,s.useCallback)(function(e){var n=e.target.value;w(null),n?a(n):a("")},[]),R=!!(l&&(null==E?void 0:E.workspaceChannels.edges.length)===0),M=function(){t&&m({input:{name:l,workspaceId:t}}).then(function(){r()}).catch(function(e){w(e.message)})};(0,s.useEffect)(function(){_||u(R)},[_,R]),(0,s.useEffect)(function(){!N||_||x||p(!0)},[N,_,x]);var U=d&&R,B=(null==E?void 0:E.workspaceChannels.edges.map(function(e){return e.node}))||[],G=!l,Z=null==E?void 0:null===(n=E.workspaceChannels)||void 0===n?void 0:n.pageInfo,H=x&&(null==Z?void 0:Z.hasNextPage)&&(null==Z?void 0:Z.endCursor);return(0,es.jsxs)(e2.u_,{isOpen:i,onClose:r,lockFocusAcrossFrames:!1,returnFocusOnClose:!1,size:"2xl",initialFocusRef:j,children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{pb:0,children:(0,es.jsx)(y.cC,{id:"Mxy55o"})}),(0,es.jsxs)(T.x,{px:6,color:"gray.500",mb:2,children:[(0,es.jsx)(y.cC,{id:"/eBcp2"}),"."]}),(0,es.jsx)(e6.o,{}),(0,es.jsx)(e8.f,{children:(0,es.jsxs)(k.K,{spacing:5,children:[(0,es.jsxs)(O.U,{align:"flex-start",children:[(0,es.jsxs)(nd.NI,{isInvalid:!!v&&l.length>0,children:[(0,es.jsxs)(n$.B,{size:"md",children:[(0,es.jsx)(n0.Z,{pointerEvents:"none",color:"gray.300",children:(0,es.jsx)(nJ.W,{})}),(0,es.jsx)(nh.I,{value:l,onChange:L,placeholder:W.ag._({id:"iwm5Y3"}),_placeholder:{opacity:1},ref:j}),_&&(0,es.jsx)(n0.x,{pointerEvents:"none",color:"gray.500",transitionProperty:"common",transitionDuration:"normal",children:(0,es.jsx)(eC.$,{size:"sm"})})]}),C&&(0,es.jsx)(nc.J1,{children:C})]}),(0,es.jsx)(A.z,{w:"300px",variant:"plain",onClick:M,isDisabled:0===l.length,isLoading:g,children:(0,es.jsx)(y.cC,{id:"Oo7YVo"})})]}),(0,es.jsxs)(ew.NZ,{children:[G&&(0,es.jsx)(y.cC,{id:"LOzhoI"}),l&&(0,es.jsx)(y.cC,{id:"mjEyky",values:{0:B.length}})]}),U&&(0,es.jsx)(ro,{channelName:l,onCreateClick:M}),!x&&(0,es.jsxs)(k.K,{children:[(0,es.jsx)(eV.O,{height:"55px"}),(0,es.jsx)(eV.O,{height:"55px"}),(0,es.jsx)(eV.O,{height:"55px"}),(0,es.jsx)(eV.O,{height:"55px"}),(0,es.jsx)(eV.O,{height:"55px"})]}),x&&t&&!U&&(0,es.jsx)(rc,{channels:B,workspaceId:t}),H&&(0,es.jsx)(i9.M,{p:6,children:(0,es.jsx)(A.z,{isLoading:I,onClick:function(){D(!0),z({variables:ra(ra({},0===l.length?{first:50}:{}),{},{after:null==Z?void 0:Z.endCursor})}).finally(function(){D(!1)})},size:"sm",children:(0,es.jsx)(y.cC,{id:"yQ2kGp"})})})]})}),(0,es.jsx)(e9.m,{children:(0,es.jsx)(A.z,{variant:"solid",onClick:r,children:(0,es.jsx)(y.cC,{id:"DPfwMq"})})})]})]})},ru=i(97084),rh=i(35617),rx=i(86273),rp=i(55580),rj=i(49294),rf=function(e){var n=e.channel,i=e.workspaceId,r=e.onClose,t=(0,F.HOP)(),o=(0,eJ.Z)(t,1)[0],l=(0,e1.p)(),a=(0,s.useCallback)(function(){if(!i||!(null!=n&&n.id)){console.error('[onDeleteChannelClick] Cannot delete channel. OrgId: "'.concat(i,'" channelId: "').concat(null==n?void 0:n.id,'"'));return}o({variables:{channelId:n.id,workspaceId:i}}).then(function(){l({title:(0,es.jsx)(y.cC,{id:"j4JrT0"}),status:"success",duration:3e3,position:"top"})})},[n,l,o,i]);return(0,es.jsxs)(e2.u_,{closeOnOverlayClick:!1,isOpen:!0,onClose:r,size:"lg",children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsxs)(e4.x,{children:["Delete ",n.name,"?"]}),(0,es.jsx)(e6.o,{}),(0,es.jsxs)(e8.f,{children:[(0,es.jsx)(T.x,{mb:2,children:(0,es.jsx)(y.cC,{id:"IkJ0gO"})}),(0,es.jsx)(T.x,{mb:2,children:(0,es.jsx)(y.cC,{id:"r5GL8F",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq}})}),(0,es.jsx)(T.x,{color:"red.500",children:(0,es.jsx)(y.cC,{id:"2xOCJW"})})]}),(0,es.jsx)(e9.m,{children:(0,es.jsxs)(ne.h,{children:[(0,es.jsx)(A.z,{variant:"ghost",onClick:r,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{variant:"ghost",colorScheme:"red",onClick:function(){a(),r()},children:(0,es.jsx)(y.cC,{id:"NbFtQm"})})]})})]})]})},rm=function(e){var n=e.channel,i=e.workspaceId,r=e.onClose,t=(0,e1.p)(),o=(0,s.useState)(function(){return null==n?void 0:n.name}),l=o[0],a=o[1],d=(0,F.tWW)(),u=(0,eJ.Z)(d,2),h=u[0],x=u[1].loading,j=(0,s.useState)(null),f=j[0],m=j[1],g=(0,s.useCallback)(function(e){a(e.target.value)},[]),v=(0,s.useRef)(null),b=!!f,C=(0,s.useCallback)(function(){if(!i||!(null!=n&&n.id)){console.error('[onRenameChannel] Cannot rename channel. OrgId: "'.concat(i,'" channelId: "').concat(null==n?void 0:n.id,'"'));return}h({variables:{input:{id:null==n?void 0:n.id,workspaceId:i,name:l}}}).then(function(e){var i,s=e.data;p().replace((0,ij.j)({id:null==n?void 0:n.id,slug:null==s?void 0:s.updateChannel.slug})),t({title:(0,es.jsx)(y.cC,{id:"QJd4OZ",values:{0:null==s?void 0:null===(i=s.updateChannel)||void 0===i?void 0:i.name}}),status:"success",duration:3e3,position:"top",isClosable:!0}),r()}).catch(function(e){m(e.message)})},[i,null==n?void 0:n.id,h,l,t,r]);return(0,es.jsxs)(e2.u_,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:v,onClose:r,children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"NZgZhv"})}),(0,es.jsx)(e6.o,{}),(0,es.jsx)(e8.f,{children:(0,es.jsx)(c.k,{mt:4,w:"100%",direction:"column",children:(0,es.jsxs)(nd.NI,{isInvalid:b,children:[(0,es.jsx)(nh.I,{value:l,ref:v,onChange:g,onKeyDown:function(e){"Enter"===e.key&&C()}}),b&&(0,es.jsx)(nc.J1,{children:f})]})})}),(0,es.jsx)(e9.m,{children:(0,es.jsxs)(ne.h,{children:[(0,es.jsx)(A.z,{variant:"ghost",onClick:r,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{isLoading:x,variant:"solid",onClick:C,children:(0,es.jsx)(y.cC,{id:"2wxgft"})})]})})]})]})},rg=function(e){var n=e.channel,i=e.workspaceId,r=(0,w.q)({id:"deleteChannelModalDisclosure"}),t=r.isOpen,s=r.onOpen,o=r.onClose,l=(0,w.q)({id:"renameChannelModalDisclosure"}),a=l.isOpen,c=l.onOpen,d=l.onClose,u=(0,x.useRouter)().push,h=rr().leaveChannel,p=(0,e1.p)(),j=(0,rj.V)((0,ij.j)({id:null==n?void 0:n.id,slug:null==n?void 0:n.slug},!1)).onCopy;return(0,es.jsxs)(V.v,{closeOnSelect:!1,isLazy:!0,children:[(0,es.jsx)(K.j,{as:q.h,variant:"ghost",fontWeight:"600",color:"gray.700",icon:(0,es.jsx)(_.G,{icon:rp.faEllipsis})}),(0,es.jsxs)(Y.q,{zIndex:"popover",children:[(0,es.jsx)(Q.s,{icon:(0,es.jsx)(_.G,{fixedWidth:!0,icon:rx.aJ}),onClick:c,children:(0,es.jsx)(y.cC,{id:"NZgZhv"})}),(0,es.jsx)(J.R,{}),(0,es.jsx)(Q.s,{onClick:function(){j(),p({title:(0,es.jsx)(y.cC,{id:"h5GS+N"}),status:"success",duration:3e3,position:"top"})},icon:(0,es.jsx)(_.G,{fixedWidth:!0,icon:rh.faShareFromSquare}),children:(0,es.jsx)(y.cC,{id:"alYpud"})}),(0,es.jsx)(Q.s,{icon:(0,es.jsx)(_.G,{fixedWidth:!0,icon:ru.WQ}),onClick:function(){h({channel:n}).then(function(){u("/")})},children:(0,es.jsx)(y.cC,{id:"jC8TAY"})}),(0,es.jsx)(J.R,{}),(0,es.jsx)(Q.s,{color:"red.500",onClick:s,icon:(0,es.jsx)(_.G,{fixedWidth:!0,icon:ef.$}),children:(0,es.jsx)(y.cC,{id:"NbFtQm"})})]}),a&&(0,es.jsx)(rm,{channel:n,workspaceId:i,onClose:d}),t&&(0,es.jsx)(rf,{channel:n,workspaceId:i,onClose:o})]})},rv=["tabKey","isSelected","isDropActive","href","target","children"];function rb(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function rC(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?rb(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rb(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var ry=s.forwardRef(function(e,n){var i=e.tabKey,r=e.isSelected,t=e.isDropActive,s=e.href,o=e.target,l=e.children,a=(0,iw.Z)(e,rv);return(0,es.jsx)(ee(),{href:s,passHref:!0,legacyBehavior:!0,children:(0,es.jsx)(iX,rC(rC({ref:n,isSelected:r,isDropActive:void 0!==t&&t,dataTestId:"sidebar-".concat(i,"-tab").concat(r?"--selected":""),target:o},a),{},{children:l}))})});ry.displayName="SidebarItem";var rw=function(e){var n=e.icon,i=e.title,r=e.faClassName,t=e.w,s=e.badge;return(0,es.jsxs)(O.U,{justify:"flex-start",w:"100%",pr:s?3:void 0,children:[n&&(0,es.jsx)(_.G,{icon:n,fixedWidth:!0,className:r||void 0,size:"1x"}),(0,es.jsx)(T.x,{textOverflow:"ellipsis",overflowX:"hidden",ml:2,w:t,children:i}),s&&(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(H.L,{}),s]})]})},rO=function(e){var n=e.isSelected;return e.hasActivity?iY.V1:n?eR.l7:eR.Ty},rk=function(e){var n=e.activity,i=e.user;if(!(null!=n&&n.activeUsers))return(0,es.jsx)(es.Fragment,{});var r=nX()(n.activeUsers,"id"),t=(0,i6.Yc)(r,null==i?void 0:i.id);return(0,es.jsx)(ew.NL,{overflowTooltipLabel:W.ag._({id:"25VyZX"}),position:"absolute",right:2,size:"xs",max:3,avatars:t.map(function(e){var n=e.displayName,i=e.profileImageUrl;return{name:n||"",id:e.id,profileImageUrl:i,color:"white",badge:{color:"green.500",size:"1em"}}}),onClick:function(e){e.preventDefault(),e.stopPropagation()}})},rS=function(e){var n,i,r=e.isPreview,t=e.channel,s=e.activeTab,o=e.currentChannelId,l=e.addDocToChannel,a=e.user,c=(0,eD.ye)("channelActivity"),d=(0,iQ.L)(function(){return{accept:i8,drop:function(e){l(e,t)},collect:function(e){return{isOver:e.isOver(),canDrop:e.canDrop()}}}}),u=(0,eJ.Z)(d,2),h=u[0],x=h.canDrop,p=h.isOver,j=u[1],f=s===rP.CHANNEL&&t.id===o,m=c&&!!((null==t?void 0:null===(n=t.activity)||void 0===n?void 0:n.activeUsers)&&(null==t?void 0:null===(i=t.activity)||void 0===i?void 0:i.activeUsers.length)>0),g=rO({isSelected:f,hasActivity:m});return(0,es.jsxs)(ry,{ref:j,"data-testid":"sidebar-item",tabKey:"".concat(rP.CHANNEL,"-").concat(t.id),isDropActive:p&&x,isSelected:f,href:(0,ij.j)({id:t.id,slug:t.slug}),opacity:r?"0.5":void 0,justifyContent:"space-between",w:"100%",children:[(0,es.jsx)(rw,{icon:g,title:t.name,faClassName:f&&m?"fa-beat-fade":void 0,w:"18ch"}),m&&(0,es.jsx)(rk,{activity:null==t?void 0:t.activity,user:a})]},t.id)},rI=function(e){var n=e.channelPreview,i=e.channels,r=e.activeTab,t=e.currentChannelId,s=e.isChannelsLoading,o=(0,a.SE)(),l=o.user,c=o.currentWorkspace,d=i4(),u=d.isOpen,h=d.onClose,x=d.doc,p=d.handleAddDocToChannel,j=d.updateWorkspacePermissionThenAddToChannel,f=(0,w.q)({id:"manageChannelsModalDisclosure"}),m=f.isOpen,v=f.onOpen,b=f.onClose;return s?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(eV.O,{h:"30px",w:"100%"}),(0,es.jsx)(eV.O,{h:"30px",w:"100%"}),(0,es.jsx)(eV.O,{h:"30px",w:"100%"})]}):(0,es.jsxs)(P.xu,{"data-testid":"sidebar-channels",w:"100%",children:[(0,es.jsxs)(O.U,{justify:"space-between",children:[(0,es.jsx)(ew.NZ,{textAlign:"left",mt:4,mb:3,paddingInlineStart:1,children:(0,es.jsx)(y.cC,{id:"HSh8u/"})}),(0,es.jsx)(ew.kH,{label:(0,es.jsx)(y.cC,{id:"Mxy55o"}),children:(0,es.jsx)(q.h,{"aria-label":W.ag._({id:"Mxy55o"}),size:"xs",isRound:!0,variant:"plain",icon:(0,es.jsx)(_.G,{icon:C.r8}),onClick:v})})]}),n&&(0,es.jsx)(rS,{isPreview:!0,channel:n,activeTab:r,currentChannelId:t,addDocToChannel:p,user:l},n.id),i.map(function(e){return(0,es.jsx)(rS,{channel:e,activeTab:r,currentChannelId:t,addDocToChannel:p,user:l},e.id)}),0===i.length&&(0,es.jsxs)(P.xu,{bgColor:"gray.50",textAlign:"center",p:4,mb:2,children:[(0,es.jsx)(T.x,{fontSize:"sm",children:(0,es.jsx)(y.cC,{id:"4G3U4C",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq}})}),(0,es.jsx)(T.x,{fontSize:"sm",mt:2,fontWeight:"bold",children:(0,es.jsx)(eE.r,{color:"trueblue.600",href:"#",onClick:v,children:(0,es.jsx)(y.cC,{id:"Mxy55o"})})})]}),(0,es.jsx)(rd,{isOpen:m,onClose:b,workspaceId:null==c?void 0:c.id}),u&&(0,es.jsx)(i3,{doc:x,onSubmit:j,onClose:h})]})},rD=i(8330),rT=function(e){var n=e.setIsSidebarVisible;return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)(k.K,{pt:2,children:[(0,es.jsx)(nI,{}),(0,es.jsx)(P.xu,{display:{sm:"lg",md:"none"},children:(0,es.jsx)(q.h,{"aria-label":"Close Sidebar",size:"sm",variant:"ghost",icon:(0,es.jsx)(_.G,{icon:rD.NB}),onClick:function(){return n(!1)}})}),(0,es.jsx)(eV.O,{w:"100%",height:"36px"})]}),(0,es.jsx)(eV.O,{w:"100%",height:"30px",mt:4}),(0,es.jsx)(eV.O,{w:"100%",height:"20px",mt:8}),(0,es.jsx)(eV.O,{w:"100%",height:"30px",mt:4}),(0,es.jsx)(eV.O,{w:"100%",height:"30px",mt:2}),(0,es.jsx)(eV.O,{w:"100%",height:"30px",mt:2}),(0,es.jsx)(H.L,{}),(0,es.jsx)(c.k,{justify:"center",align:"flex-end",children:(0,es.jsx)(P.xu,{w:"30px",children:ek.TR})})]})};function rA(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}var rP={SHARED_WITH_ME:"shared-with-me",ALL:"all",CHANNEL:"channel",TRASH:"trash",TEMPLATES:"templates",INSPIRATION:"inspiration",THEMES:"themes",FONTS:"fonts",SITES:"sites"},rE=function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?rA(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rA(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}({},rP),r_=(r={},(0,el.Z)(r,rP.SHARED_WITH_ME,{displayName:(0,es.jsx)(y.cC,{id:"lIbchQ"}),ariaLabel:W.ag._({id:"rt/fuz"}),icon:eg.XC,showCreateButton:!1}),(0,el.Z)(r,rP.ALL,{displayName:(0,es.jsx)(y.cC,{id:"W10xDz",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq}}),ariaLabel:W.ag._({id:"W10xDz",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq}}),icon:U.s2,showCreateButton:!0}),(0,el.Z)(r,rP.SITES,{displayName:(0,es.jsx)(y.cC,{id:"QHZRmq"}),ariaLabel:W.ag._({id:"QHZRmq"}),icon:em.g4,showCreateButton:!0}),(0,el.Z)(r,rP.CHANNEL,{displayName:(0,es.jsx)(y.cC,{id:"HSh8u/"}),ariaLabel:W.ag._({id:"HSh8u/"}),icon:eR.Ty,showCreateButton:!0}),(0,el.Z)(r,rP.TRASH,{displayName:(0,es.jsx)(y.cC,{id:"GQ3O42"}),ariaLabel:W.ag._({id:"GQ3O42"}),icon:ef.$,showCreateButton:!1}),(0,el.Z)(r,rP.TEMPLATES,{displayName:(0,es.jsx)(y.cC,{id:"iTylMl"}),ariaLabel:W.ag._({id:"iTylMl"}),icon:ej.BD,showCreateButton:!1}),(0,el.Z)(r,rP.INSPIRATION,{displayName:(0,es.jsx)(y.cC,{id:"K2fjhl"}),ariaLabel:W.ag._({id:"K2fjhl"}),icon:ep.cn,showCreateButton:!1}),(0,el.Z)(r,rP.THEMES,{displayName:(0,es.jsx)(y.cC,{id:"fJ3EbT"}),ariaLabel:W.ag._({id:"fJ3EbT"}),icon:ex.q2,showCreateButton:!1,description:(0,es.jsx)(y.cC,{id:"1kjnn4",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq},components:{0:(0,es.jsx)("b",{}),1:(0,es.jsx)("b",{})}})}),(0,el.Z)(r,rP.FONTS,{displayName:(0,es.jsx)(y.cC,{id:"E3KfxC"}),ariaLabel:W.ag._({id:"E3KfxC"}),icon:eh.gu,showCreateButton:!1,description:(0,es.jsx)(y.cC,{id:"sWZ6Li",components:{0:(0,es.jsx)("b",{})}})}),r),rF=function(e){var n=e.channelPreview,i=e.isSidebarVisible,r=e.setIsSidebarVisible,t=e.isReady,s=e.activeTab,o=e.currentChannelId,l=e.channels,d=e.isChannelsLoading,u=(0,eD.ye)("intercom"),h=(0,ez.fg)(),x=(0,e_.zc)().product,p=(0,eL.CG)(eI.Lj),j=(0,eO.I0)(),f=function(){(0,eA.pU)(),j((0,eP.YZ)({isOpen:!0}))},m=(0,a.d3)(),g=(0,w.q)({id:"workspace-settings-modal"}),b=g.isOpen,C=g.onOpen,O=g.onClose,S=(0,w.q)({id:"ai-credits-modal"}),I=S.isOpen,D=S.onOpen,T=S.onClose;return iZ({openModal:C}),(0,es.jsxs)(c.k,{direction:"column",zIndex:"overlay",h:"100vh",position:{base:"fixed",md:"sticky"},top:0,w:"300px",minW:"300px",bg:"white",shadow:{base:i?"xl":"none",md:"none"},transform:i?{base:"translate(0,0px)",md:"translate(0,0)"}:{base:"translate(-100%,0px)",md:"translate(0,0)"},transition:"transform .2s ease",children:[(0,es.jsx)(c.k,{overflowY:"auto",h:"100vh",p:6,py:2,direction:"column",alignContent:"space-between",children:t?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)(k.K,{children:[(0,es.jsx)(c.k,{alignItems:"flex-start",justify:"flex-end",children:(0,es.jsx)(P.xu,{display:{base:"block",md:"none"},children:(0,es.jsx)(q.h,{size:"sm","aria-label":W.ag._({id:"62Ciis"}),variant:"ghost",icon:(0,es.jsx)(ev.T,{w:3}),onClick:function(){return r(!1)},isRound:!0})})}),(0,es.jsx)(nT,{onOpen:C}),(0,es.jsx)(v.Pu,{})]}),(0,es.jsx)(rN,{channelPreview:n,activeTab:s,currentChannelId:o,channels:l,isChannelsLoading:d}),(0,es.jsx)(P.xu,{w:"100%",pt:1,pb:3,children:(0,es.jsx)(eb.i,{})}),m&&(0,es.jsx)(iX,{dataTestId:"invite-to-workspace",onClick:function(){C()},children:(0,es.jsx)(rw,{icon:eu.FK,title:(0,es.jsx)(y.cC,{id:"qVqqmP"})})}),!1===h&&(0,es.jsx)(iX,{dataTestId:"ai-user-credits",onClick:D,children:(0,es.jsx)(rw,{icon:ed.ow,title:null===p?(0,es.jsx)(eC.$,{size:"xs"}):(0,es.jsx)(y.cC,{id:"IniQ/K",values:{availableCredits:p}})})}),u&&(0,es.jsx)(ew.kH,{label:(0,es.jsx)(y.cC,{id:"+K37Nw"}),children:(0,es.jsx)(iX,{dataTestId:"contact-button",onClick:function(){f()},children:(0,es.jsx)(rw,{icon:ec.RR,title:(0,es.jsx)(y.cC,{id:"Bhgd0l"})})})}),!u&&(0,es.jsx)(iX,{dataTestId:"contact-button",href:"mailto:".concat(eT.p),children:(0,es.jsx)(rw,{icon:ea.FU,title:(0,es.jsx)(y.cC,{id:"A0C9La"})})}),(0,es.jsx)(H.L,{}),null===x?(0,es.jsx)(eN,{}):(0,es.jsx)(c.k,{justify:"center",align:"flex-end",width:"100%",my:6,children:(0,es.jsx)(P.xu,{fontSize:"12px",width:"30px",children:ek.TR})})]}):(0,es.jsx)(rT,{setIsSidebarVisible:r})}),(0,es.jsx)(iU,{isOpen:b,onClose:O}),(0,es.jsx)(eS.H,{isOpen:I,onClose:T,credits:p,onOpen:D})]})},rN=function(e){var n=e.channelPreview,i=e.activeTab,r=e.currentChannelId,t=e.channels,s=e.isChannelsLoading,o=(0,eD.ye)("customFonts"),l=(0,eD.ye)("sites");return(0,es.jsxs)(ey.g,{"data-testid":"sidebar-tablist",mt:4,mb:2,w:"100%",spacing:1,children:[(0,es.jsxs)(k.K,{spacing:0,w:"100%",children:[(0,es.jsx)(ry,{tabKey:rP.ALL,isSelected:i===rP.ALL,href:"/#".concat(rP.ALL),children:(0,es.jsx)(rw,{icon:r_[rP.ALL].icon,title:r_[rP.ALL].displayName})}),l&&!(0,iH.s2)()&&(0,es.jsx)(ry,{pr:-1,tabKey:rP.SITES,isSelected:i===rP.SITES,href:"/#".concat(rP.SITES),children:(0,es.jsx)(rw,{icon:r_[rP.SITES].icon,title:r_[rP.SITES].displayName,badge:(0,es.jsx)(S.C,{mr:6,colorScheme:"green",lineHeight:"normal",fontSize:"xxs",children:(0,es.jsx)(y.cC,{id:"YBt9YP"})})})})]}),(0,es.jsx)(rI,{channelPreview:n,isChannelsLoading:s,channels:t,currentChannelId:r,activeTab:i}),(0,es.jsx)(P.xu,{w:"100%",pt:1,pb:2,children:(0,es.jsx)(eb.i,{})}),!(0,iH.s2)()&&(0,es.jsx)(ry,{tabKey:rP.TEMPLATES,isSelected:i===rP.TEMPLATES,href:"/#".concat(rP.TEMPLATES),children:(0,es.jsx)(rw,{icon:r_[rP.TEMPLATES].icon,title:r_[rP.TEMPLATES].displayName})}),(0,es.jsx)(ry,{tabKey:rP.INSPIRATION,isSelected:i===rP.INSPIRATION,href:"/#".concat(rP.INSPIRATION),children:(0,es.jsx)(rw,{icon:r_[rP.INSPIRATION].icon,title:r_[rP.INSPIRATION].displayName})}),!(0,iH.s2)()&&(0,es.jsx)(ry,{tabKey:rP.THEMES,isSelected:i===rP.THEMES,href:"/#".concat(rP.THEMES),children:(0,es.jsx)(rw,{icon:r_[rP.THEMES].icon,title:r_[rP.THEMES].displayName})}),o&&!(0,iH.s2)()&&(0,es.jsx)(ry,{tabKey:rP.FONTS,isSelected:i===rP.FONTS,href:"/#".concat(rP.FONTS),children:(0,es.jsx)(rw,{icon:r_[rP.FONTS].icon,title:r_[rP.FONTS].displayName})}),(0,es.jsx)(ry,{tabKey:rP.TRASH,isSelected:i===rP.TRASH,href:"/#".concat(rP.TRASH),children:(0,es.jsx)(rw,{icon:r_[rP.TRASH].icon,title:r_[rP.TRASH].displayName})})]})},rz=i(56648),rL=function(e){var n=e.setIsSidebarVisible,i=e.isSidebarVisible,r=e.children,t=(0,a.SE)().currentWorkspace;return(0,es.jsxs)(P.xu,{w:"100%",mb:6,maxW:"100%",children:[(0,es.jsxs)(P.xu,{w:"100%",display:{sm:"block",md:"none"},mb:4,children:[(0,es.jsxs)(c.k,{align:"center",w:"100%",mb:2,justify:"space-between",children:[(0,es.jsx)(q.h,{"aria-label":"Open Sidebar",variant:"ghost",icon:(0,es.jsx)(_.G,{icon:rz.xi}),size:"sm",mr:2,ml:-2,onClick:function(){return n(!i)},isRound:!0}),(0,es.jsxs)(c.k,{flex:"1",w:"100%",justify:"space-between",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:[(0,es.jsx)(T.x,{fontSize:"lg",fontWeight:"600",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:null==t?void 0:t.name}),(0,es.jsx)(H.L,{}),(0,es.jsx)(ek.DY,{})]})]}),(0,es.jsx)(eb.i,{})]}),r]})},rR=function(e){var n=e.isSidebarVisible,i=e.setIsSidebarVisible;(0,N.G)("sites");var r=(0,a.SE)().currentWorkspace,t=(0,w.q)({id:"create-site-modal"}),s=t.isOpen,o=t.onOpen,l=t.onClose,d=(0,F.bBo)({variables:{workspaceId:null==r?void 0:r.id},skip:!(null!=r&&r.id)}),u=d.data,h=d.loading,x=d.error,p=r_[rE.SITES],j=p.displayName,f=p.ariaLabel,m=p.icon,g=null==u?void 0:u.sites;return!g||0!==g.length||h||x?(0,es.jsxs)(P.xu,{w:"100%","data-testid":"sites-view-container",children:[(0,es.jsx)(rL,{isSidebarVisible:n,setIsSidebarVisible:i,children:(0,es.jsxs)(k.K,{spacing:4,w:"fit-content",children:[(0,es.jsxs)(I.X,{fontSize:"lg",fontWeight:"600","data-testid":"sites-view-header",children:[m&&(0,es.jsx)(_.G,{icon:m,"aria-label":f})," ",(0,es.jsx)(T.x,{as:"span",ml:2,children:j})]}),(0,es.jsx)(A.z,{w:"auto","data-testid":"create-site-button",isDisabled:!1,variant:"solid",onClick:o,leftIcon:(0,es.jsx)(_.G,{icon:C.r8}),children:(0,es.jsx)(y.cC,{id:"h3eRam"})})]})}),(0,es.jsx)(k.K,{children:(0,es.jsx)(E.r,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,children:!h&&!x&&(null==g?void 0:g.map(function(e){return(0,es.jsx)(eo,{site:e},e.id)}))})}),(0,es.jsx)(z.M,{isOpen:s,onClose:l})]}):(0,es.jsxs)(O.U,{spacing:4,flex:1,h:"100%",maxW:"3xl",margin:"auto",children:[(0,es.jsxs)(k.K,{align:"flex-start",justify:"center",spacing:6,flex:1,children:[(0,es.jsx)(O.U,{children:(0,es.jsx)(S.C,{colorScheme:"green",children:"Beta"})}),(0,es.jsx)(I.X,{fontFamily:"p22-mackinac-pro",fontWeight:"700",children:(0,es.jsx)(y.cC,{id:"2xMidw"})}),(0,es.jsx)(c.k,{flex:1,display:{base:"flex",lg:"none"},children:(0,es.jsx)(D.E,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg"})}),(0,es.jsx)(T.x,{fontSize:"lg",children:(0,es.jsx)(y.cC,{id:"Vg3hxF"})}),(0,es.jsxs)(O.U,{children:[(0,es.jsx)(A.z,{onClick:o,children:(0,es.jsx)(y.cC,{id:"LgunCU"})}),(0,es.jsx)(A.z,{variant:"ghost",children:(0,es.jsx)(y.cC,{id:"zwWKhA"})})]})]}),(0,es.jsx)(c.k,{flex:1,display:{base:"none",lg:"flex"},children:(0,es.jsx)(D.E,{src:"https://cdn.gamma.app/zc87vhr30n8uf3n/9f0b4d71d10f4d388e50febe89bb1853/optimized/Sal-Chill-Cloud.svg"})}),(0,es.jsx)(z.M,{isOpen:s,onClose:l})]})},rM=i(46402),rU=i(63840),rW=s.memo(function(e){var n=e.user,i=e.currentWorkspace,r=e.currentChannelId,t=e.viewPreference,o=(0,eD.ye)("screenshotsEnabled"),l=(0,s.useRef)(null),a=(0,s.useRef)(null),d=(0,s.useState)(null),u=d[0],h=d[1],x=(0,rM.N)().getMonitor();(0,s.useEffect)(function(){return x.subscribeToOffsetChange(function(){if(x.getItem()&&l.current&&a.current){var e=x.getClientOffset();if(e){var n=e.x,i=e.y;l.current.style.transform="translate(".concat(n,"px, ").concat(i,"px)")}}})},[x]),(0,s.useEffect)(function(){return x.subscribeToStateChange(function(){var e,n=x.getItemType(),i=x.getItem();if(n!==i8||null===i){h(null),l.current.style.transform="translate(0px, 0px)";return}var r=document.querySelector((e=i.id,'[data-doc-grid-item-id="'.concat(e,'"]')));if(r){var t=r.getBoundingClientRect();a.current.style.width="".concat(t.width,"px"),a.current.style.height="".concat(t.height,"px")}h(i)})},[x]);var p=(0,s.useMemo)(function(){if(!u)return null;var e,s,l,a,d,h=(0,i1.nZ)({doc:u,user:n,currentWorkspace:i,channelToExclude:r}),x={src:o?null===(e=u.titleCard)||void 0===e?void 0:e.previewUrl:ei.Z.src,fallbackSrc:ei.Z.src};return"list"===t?(0,es.jsx)(n8.i,{width:"100%",children:(0,es.jsxs)(n9.Tr,{children:[(0,es.jsx)(ir.Td,{}),(0,es.jsx)(ir.Td,{w:"50%",children:u.title||""}),(0,es.jsx)(ir.Td,{children:(0,es.jsx)(ew.MY,{tags:h,NextLink:ee()})}),(0,es.jsx)(ir.Td,{color:"gray.600"}),(0,es.jsx)(ir.Td,{children:(0,es.jsxs)(O.U,{children:[(0,es.jsx)(eK.q,{shadow:"md",borderWidth:"1px",size:"xs",src:null==u?void 0:null===(a=u.createdBy)||void 0===a?void 0:a.profileImageUrl}),(0,es.jsx)(T.x,{children:null==u?void 0:null===(d=u.createdBy)||void 0===d?void 0:d.displayName})]})})]})}):(0,es.jsx)(rU.F7,{id:"temp",title:u.title||"",thumbnailImageUrl:x,NextLink:c.k,createdTime:u.createdTime,href:"",editors:u.editors,tags:h,createdByName:(null===(s=u.createdBy)||void 0===s?void 0:s.displayName)||"",createdByProfileImageUrl:null===(l=u.createdBy)||void 0===l?void 0:l.profileImageUrl,createdByEmail:"",menuEnabled:!1})},[u,n,i,o,r,t]);return(0,es.jsx)(X.h,{children:(0,es.jsx)(c.k,{ref:l,display:u?"block":"none",position:"fixed",pointerEvents:"none",zIndex:"overlay",left:0,top:0,children:(0,es.jsx)(c.k,{ref:a,transform:"scale(".concat(u?.5:1,")"),transition:"transform .2s ease",transformOrigin:"0 0",children:p})})})});rW.displayName="DocGridItemCustomDragLayer";var rB=i(92843),rG=i(84153),rZ=(0,s.memo)(function(e){var n=e.user,i=e.currentWorkspace,r=e.doc,t=e.currentChannelId,o=e.sortBy,l=e.filterBy,a=e.canDuplicate,c=e.canEditDoc,d=e.canManageDoc,u=e.createdByYou,h=e.cardThumbnails,x=e.fetchThumbnails,p=e.handleDuplicateDoc,j=e.handleFavoriteDoc,f=e.handleTrash,m=e.handlePermanentDelete,g=e.handleRestoreDoc,v=e.handleShareClick,b=e.handleRenameClick,C=e.handleRemoveFromChannel,y=r.id,w=r.title,O=r.createdTime,k=r.archived,S=r.titleCard,I=r.docUser,D=r.createdBy,T=t2({sortBy:o,docUser:I,filterBy:l,doc:r}),A=(0,eD.ye)("screenshotsEnabled"),P=(0,i1.nZ)({doc:r,user:n,currentWorkspace:i,channelToExclude:t}),E={src:A?null==S?void 0:S.previewUrl:ei.Z.src,fallbackSrc:ei.Z.src},_=!!t,F=(0,rB.c)({type:i8,item:function(){return r},options:{dropEffect:"copy",doc:r},collect:function(e){return{isDragging:e.isDragging()}}},[d,r]),N=(0,eJ.Z)(F,3),z=(N[0],N[1]),L=N[2];(0,s.useEffect)(function(){L((0,rG.r)())},[L]);var R=(0,s.useCallback)(function(){A&&x(r.id)},[r.id,x,A]);return(0,es.jsx)(rU.F7,{ref:z,id:y,title:w||"",thumbnailImageUrl:E,NextLink:ee(),href:(0,ij.Gn)({docId:y}),createdByYou:u,createdTime:O,timestampDescription:T,createdByName:(null==D?void 0:D.displayName)||"",createdByProfileImageUrl:null==D?void 0:D.profileImageUrl,createdByEmail:(null==D?void 0:D.email)||"",isDuplicateEnabled:a,isShareEnabled:c,isRenameEnabled:c,isTrashAndRestoreEnabled:d,isTrashed:k,isFavorited:!!(null!=I&&I.favorited),isRemoveFromChannelEnabled:_,onDuplicate:function(){return p(r)},onFavorite:j(new Date,r),onUnfavorite:j(null,r),onTrash:function(){return f(r.id)},onPermanentDelete:m?function(){return m(r)}:void 0,onRestore:function(){return g(r.id)},onShareClick:function(){return v(r.id)},onRename:function(){return b(r)},onRemoveFromChannel:function(){return C(r,t)},tags:P,menuEnabled:!0,cardThumbnails:A?h:[],onMouseEnter:R},y)});rZ.displayName="DocGridItemWrapper";var rH=i(78762),rV=i(56581),rK=function(e){var n,i=e.sortBy,r=e.sortDirection,t=e.setSortBy,s=e.setSortDirection,o=e.size,l=void 0===o?"sm":o,a=e.dateDisplayOption,c=e.setDateDisplayOption,d=e.options,u=e.showSortOrderToggle;return(0,es.jsxs)(ne.h,{variant:"ghost",colorScheme:"blackAlpha",size:l,ml:-3,children:[(0,es.jsxs)(V.v,{closeOnSelect:!1,children:[(0,es.jsx)(K.j,{as:A.z,variant:"ghost",size:l,rightIcon:(0,es.jsx)(_.G,{icon:iP.pt,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.500",children:(null===(n=d.find(function(e){return e.key===a}))||void 0===n?void 0:n.label)||"Date"}),(0,es.jsx)(X.h,{children:(0,es.jsx)(Y.q,{minWidth:"240px",children:(0,es.jsx)(eq._,{fontSize:"sm",defaultValue:"alpha",title:W.ag._({id:"IEY4J0"}),type:"radio",children:d.map(function(e){var n=a===e.key;return(0,es.jsx)(Q.s,{icon:n?(0,es.jsx)(rV.n,{}):(0,es.jsx)(P.xu,{w:3}),value:e.key,onClick:function(){c(e.key),t(e.key),s(F.SrV.Desc)},children:e.label},e.key)})})})})]}),u&&(0,es.jsx)(ew.kH,{label:(0,es.jsx)(y.cC,{id:"TZml21"}),children:(0,es.jsx)(q.h,{color:"title"!==i?"gray.700":"gray.300","aria-label":"sort",onClick:function(){i!==F.IX5.Title?s(r===F.SrV.Asc?F.SrV.Desc:F.SrV.Asc):s(F.SrV.Desc),t(a)},icon:(0,es.jsx)(_.G,{icon:rH.RX})})})]})},rq=[{key:F.IX5.EditedTime,label:(0,es.jsx)(y.cC,{id:"acZeX2"})},{key:F.IX5.CreatedTime,label:(0,es.jsx)(y.cC,{id:"u46WEi"})}],rX=[{key:F.IX5.LastViewed,label:(0,es.jsx)(y.cC,{id:"UOgIR2"})},{key:F.IX5.LastEdited,label:(0,es.jsx)(y.cC,{id:"acZeX2"})},{key:F.IX5.Favorited,label:(0,es.jsx)(y.cC,{id:"2TANrw"})}],rY=rE.ALL,rQ=F.IX5.EditedTime,rJ=[F.IX5.LastViewed,F.IX5.LastEdited,F.IX5.Favorited],r$=function(e){return"recent"===e||"favorites"===e},r0=function(e){return{all:{ready:!0,filter:{}},recent:{ready:!0,filter:{sortBy:{field:F.IX5.LastViewed,direction:F.SrV.Desc}}},private:{ready:!0,filter:{isPrivate:!0}},createdByYou:{ready:!!e,filter:{createdBy:null==e?void 0:e.id}},favorites:{ready:!0,filter:{sortBy:{field:F.IX5.Favorited,direction:F.SrV.Desc}}}}},r1=i(67453),r2=i(85982),r5=i(73871),r3=i(31807),r4=function(e){var n,i,r=e.doc,t=e.dateDisplayOption,s=null==r?void 0:r.updatedTime;t===F.IX5.LastViewed&&(s=null==r?void 0:null===(n=r.docUser)||void 0===n?void 0:n.lastViewed),t===F.IX5.Favorited&&(s=null==r?void 0:null===(i=r.docUser)||void 0===i?void 0:i.favorited),t===F.IX5.CreatedTime&&(s=null==r?void 0:r.createdTime);try{return"".concat((0,r5.Z)(new Date,(0,r3.Z)(s))," ago")}catch(e){return"--"}},r6=function(e){var n,i,r,t=e.doc,o=e.handleShareClick,l=e.dateDisplayOption,a=e.tags,c=e.handleFavoriteDoc,d=e.user,u=e.menu,h=e.canManageDoc,x=(0,ij.Gn)({docId:t.id}),p=r4({doc:t,dateDisplayOption:l}),j=(0,rB.c)({type:i8,item:function(){return t},options:{dropEffect:"copy",doc:t},collect:function(e){return{isDragging:e.isDragging()}}},[h,t]),f=(0,eJ.Z)(j,3),m=(f[0],f[1]),g=f[2];return(0,s.useEffect)(function(){g((0,rG.r)())},[g]),(0,es.jsxs)(n9.Tr,{ref:m,_hover:{bg:"blackAlpha.50"},role:"group","data-doc-list-item-id":t.id,children:[(0,es.jsx)(ir.Td,{children:c&&(0,es.jsx)(rU._6,{isFavorited:!!(null==t?void 0:null===(n=t.docUser)||void 0===n?void 0:n.favorited),onFavorite:c(new Date,t),onUnfavorite:c(null,t)})}),(0,es.jsx)(ir.Td,{minW:"280px",children:(0,es.jsx)(ee(),{href:x,passHref:!0,legacyBehavior:!0,children:(0,es.jsx)(eE.r,{_hover:{color:"var(--chakra-colors-trueblue-500) !important"},children:t.title||""})})}),(0,es.jsx)(ir.Td,{zIndex:2,_groupHover:{opacity:1},children:(0,es.jsxs)(r2.E,{_groupHover:{opacity:1},children:[(0,es.jsx)(ew.MY,{tags:a,NextLink:ee(),overflowButtonLabel:W.ag._({id:"K0UBDD"})}),(0,i1.uG)(t,d)?(0,es.jsxs)(A.z,{size:"xs",variant:"ghost",colorScheme:"blackAlpha",fontWeight:"500",_hover:{color:"gray.800",bg:"blackAlpha.50"},opacity:0,_groupHover:{opacity:1},transitionProperty:"none",onClick:function(){return o(t.id)},children:[(0,es.jsx)(y.cC,{id:"Z8lGw6"}),"…"]}):null]})}),(0,es.jsx)(ir.Td,{color:"gray.600",pr:-2,children:(0,es.jsx)(T.x,{children:p})}),(0,es.jsx)(ir.Td,{alignContent:"center",pr:-2,children:(0,es.jsxs)(O.U,{children:[(0,es.jsx)(eK.q,{shadow:"md",borderWidth:"1px",size:"xs",src:null==t?void 0:null===(i=t.createdBy)||void 0===i?void 0:i.profileImageUrl}),(0,es.jsx)(T.x,{children:null==t?void 0:null===(r=t.createdBy)||void 0===r?void 0:r.displayName})]})}),(0,es.jsx)(ir.Td,{isNumeric:!0,children:!!u&&u})]},t.id)},r8=function(e,n){var i=r$(e),r=!i||"recent"===e&&n===F.IX5.LastViewed||"favorites"===e&&n===F.IX5.Favorited;return{displayOptions:i?rX:rq,showSortOrderToggle:r,enableTitleSort:!i}},r7=function(e){var n=e.user,i=e.currentWorkspace,r=e.userHasNoWorkspaces,t=e.docs,s=e.currentChannelId,o=e.dateDisplayOption,l=e.sortBy,c=e.sortDirection,d=e.setDateDisplayOption,u=e.setSortBy,h=e.setSortDirection,x=e.filterBy,p=e.handleDuplicateDoc,j=e.handleFavoriteDoc,f=e.handleTrash,m=e.handlePermanentDelete,g=e.handleRestoreDoc,v=e.handleShareClick,b=e.handleRenameClick,C=e.handleRemoveFromChannel,w=(0,a.we)(),O=r8(x,o),k=O.displayOptions,S=O.showSortOrderToggle,I=O.enableTitleSort;return(0,es.jsx)(iC.x,{pt:4,maxW:"100%",children:(0,es.jsxs)(n8.i,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:[(0,es.jsx)(n7.h,{children:(0,es.jsxs)(n9.Tr,{color:"gray.800",children:[(0,es.jsx)(ie.Th,{w:4}),(0,es.jsxs)(ie.Th,{justifyContent:"space-between",minW:"280px",children:[I&&(0,es.jsx)(A.z,{ml:-3,size:"sm",color:"gray.500",variant:"ghost",colorScheme:"blackAlpha","aria-label":"sort",onClick:function(){u(F.IX5.Title),h(c===F.SrV.Asc?F.SrV.Desc:F.SrV.Asc)},rightIcon:(0,es.jsx)(P.xu,{color:l===F.IX5.Title?"gray.700":"gray.300",children:(0,es.jsx)(_.G,{icon:l===F.IX5.Title?c===F.SrV.Asc?ib.eW:iv.l1:ig.Cm})}),children:(0,es.jsx)(y.cC,{id:"MHrjPM"})}),!I&&"Title"]}),(0,es.jsx)(ie.Th,{children:(0,es.jsx)(y.cC,{id:"HSh8u/"})}),(0,es.jsx)(ie.Th,{w:32,pr:-2,children:(0,es.jsx)(rK,{size:"sm",sortBy:l,sortDirection:c,setSortBy:u,setSortDirection:h,options:k,showSortOrderToggle:S,exclude:[F.IX5.Title],dateDisplayOption:o,setDateDisplayOption:d})}),(0,es.jsx)(ie.Th,{w:32,children:(0,es.jsx)(y.cC,{id:"UE2beD"})}),(0,es.jsx)(ie.Th,{})]})}),(0,es.jsx)(ii.p,{children:null==t?void 0:t.map(function(e){var t,l,a,c=w.can("view",e)&&!r,d=w.can("manage",e)&&!r,u=w.can("edit",e)&&!r,h=(0,i1.nZ)({doc:e,user:n,currentWorkspace:i,channelToExclude:s}),x=!!s;return(0,es.jsx)(r6,{canManageDoc:d,user:n,tags:h,doc:e,dateDisplayOption:o,handleFavoriteDoc:j,handleShareClick:v,menu:(0,es.jsx)(rU.Ot,{href:(0,ij.Gn)({docId:e.id}),title:(0,r1.$)(e.title),createdByName:(null==e?void 0:null===(t=e.createdBy)||void 0===t?void 0:t.displayName)||"",createdByEmail:(null==e?void 0:null===(l=e.createdBy)||void 0===l?void 0:l.email)||"",createdTime:e.createdTime,isDuplicateEnabled:c,isTrashAndRestoreEnabled:d,isRenameEnabled:u,isRemoveFromChannelEnabled:x,isShareEnabled:u,isTrashed:!!(null==e?void 0:e.archived),isFavorited:null===(a=e.docUser)||void 0===a?void 0:a.favorited,onDuplicate:function(){return p(e)},onFavorite:j(new Date,e),onUnfavorite:j(null,e),onTrash:function(){return f(e.id)},onPermanentDelete:m?function(){return m(e)}:void 0,onRestore:function(){return g(e.id)},onShareClick:function(){return v(e.id)},onRename:function(){return b(e)},onRemoveFromChannel:function(){return C(e,s)}})},e.id)})})]})})},r9=i(92931);function te(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function tn(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?te(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):te(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var ti=function(e){var n=e.refetchQueries,i=(0,a.SE)().user,r=(0,e1.p)(),t=(0,F.LT4)({refetchQueries:n}),o=(0,eJ.Z)(t,1)[0],l=(0,F.y2l)({refetchQueries:n}),c=(0,eJ.Z)(l,2),d=c[0],u=c[1].loading,h=(0,F.iX9)({refetchQueries:n}),x=(0,eJ.Z)(h,1)[0],p=(0,F.$4k)({refetchQueries:n}),j=(0,eJ.Z)(p,1)[0],f=(0,s.useCallback)(function(e,n){return function(){if(i&&n){var r={input:{docId:n.id,userId:null==i?void 0:i.id,favorited:e}};j({variables:r,update:function(e,i){var r=i.data;e.writeFragment({id:"Doc:".concat(n.id),fragment:F.VRt,data:{docUser:null==r?void 0:r.updateDocUser}})},optimisticResponse:{updateDocUser:tn(tn({},n.docUser),{},{favorited:r.input.favorited,__typename:"DocUser"})}})}}},[j,i]),m=(0,s.useCallback)(function(e){var n={id:e};x({variables:n,optimisticResponse:{unarchiveDoc:tn(tn({},n),{},{archived:!1,__typename:"Doc"})}}).then(function(){r({title:(0,es.jsx)(y.cC,{id:"nRyNMz"}),status:"success",duration:1e4,position:"top"})})},[x,r]),v=(0,s.useCallback)(function(e){var n={id:e};o({variables:n,optimisticResponse:{archiveDoc:tn(tn({},n),{},{archived:!0,__typename:"Doc"})}}).then(function(){r({title:(0,es.jsxs)(T.x,{children:[(0,es.jsx)(y.cC,{id:"i3Wq9L",values:{GAMMA_ARTIFACT_PROPER_NOUN:g.Yc}})," ",(0,es.jsx)(eE.r,{textDecoration:"underline",onClick:function(){return m(e)},children:(0,es.jsx)(y.cC,{id:"9uI/rE"})})]}),status:"success",duration:3e3,position:"top",isClosable:!0})})},[o,m,r]);return{favoriteDoc:f,restoreDoc:m,trashDoc:v,permanentlyDeleteDoc:(0,s.useCallback)(function(e){return d({variables:{id:e},update:function(n){n.evict({id:n.identify({__typename:"Doc",id:e})}),n.gc()},optimisticResponse:{deleteDoc:e}}).then(function(){r({title:(0,es.jsx)(y.cC,{id:"sOg7tZ",values:{GAMMA_ARTIFACT_PROPER_NOUN:g.Yc}}),position:"top",status:"success",duration:3e3})}).catch(function(){r({title:(0,es.jsx)(y.cC,{id:"SlfejT"}),description:(0,es.jsx)(y.cC,{id:"fWsBTs"}),status:"error",duration:3e3,position:"top",isClosable:!0})})},[d,r]),isPermanentlyDeletingDoc:u}},tr=function(e){var n=e.onClose,i=e.doc,r=ti({refetchQueries:["GetDocs","GetChannelDocActivity"]}),t=r.permanentlyDeleteDoc,o=r.isPermanentlyDeletingDoc,l=(0,s.useCallback)(function(){t&&t(i.id).then(n)},[i.id,n,t]);return(0,es.jsxs)(e2.u_,{onClose:n,isOpen:!0,children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"u85NBF"})}),(0,es.jsx)(e6.o,{isDisabled:o}),(0,es.jsx)(e8.f,{children:(0,es.jsxs)(k.K,{spacing:4,children:[(0,es.jsx)(T.x,{children:(0,es.jsx)(y.cC,{id:"dLUUOA",values:{0:i.title}})}),(0,es.jsx)(T.x,{color:"red.500",children:(0,es.jsx)(y.cC,{id:"2xOCJW"})})]})}),(0,es.jsx)(e9.m,{children:(0,es.jsxs)(ne.h,{children:[(0,es.jsx)(A.z,{variant:"ghost",onClick:n,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{variant:"ghost",colorScheme:"red",onClick:l,isLoading:o,children:(0,es.jsx)(y.cC,{id:"0Lbaux"})})]})})]})]})},tt=i(35330),ts=i(87063),to=i(64368);function tl(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function ta(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?tl(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):tl(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var tc=function(e){var n,i,r=e.activeTab,t=e.currentChannelId,o=e.channelPreview,l=e.filterBy,a=e.sortBy,c=e.sortDirection,d=e.user,u=e.currentWorkspace,h=(0,eD.ye)("channelActivity"),x={filter:{},ready:!0};t?x={filter:ta({channelId:t},r0(d)[l].filter),ready:!0}:r===rE.ALL?x=r0(d)[l]:r===rE.TRASH&&(x={filter:{archived:!0},ready:!0});var p=ta(ta({workspaceId:null==u?void 0:u.id,first:50,archived:!1},x.filter),{sortBy:{field:r===rE.TRASH?rJ.includes(a)?F.IX5.EditedTime:a:"recent"===l?F.IX5.LastViewed:"favorites"===l?F.IX5.Favorited:a,direction:c}}),j=!!(null==o?void 0:o.id),f=t||(null==o?void 0:o.id),m=(0,F.HHH)({variables:p,skip:!d||!x.ready||j,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",notifyOnNetworkStatusChange:!0}),g=m.data,v=m.networkStatus,b=m.fetchMore,C=(0,F.sCo)({variables:{first:50,channelId:null==o?void 0:o.id},skip:!j}).data,y=!h||!f,w=(0,F.nJh)({variables:{first:50,channelId:f},skip:y,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),O=w.data,k=w.subscribeToMore;(0,s.useEffect)(function(){if(k&&!y)return k({document:F.EMb,variables:{channelId:f},updateQuery:function(e,n){var i=n.subscriptionData;return i.data&&i.data.channelDocActivity?{channelDocActivity:{edges:i.data.channelDocActivity.slice(0,50).map(function(e){return{node:e}}),pageInfo:e.channelDocActivity.pageInfo,__typename:"DocActivityConnection"}}:e}})},[f,k,y]);var S=j?null==C?void 0:C.previewChannelDocs:null==g?void 0:g.docs,I=(null==O?void 0:null===(n=O.channelDocActivity)||void 0===n?void 0:n.edges)&&(null==O?void 0:null===(i=O.channelDocActivity)||void 0===i?void 0:i.edges.map(function(e){return e.node}).filter(function(e){return e.editors&&e.editors.length>0||e.presenters&&e.presenters.length>0}))||void 0,D=null==S?void 0:S.edges.map(function(e){return e.node}).filter(function(e){var n;return!t||(null==e?void 0:null===(n=e.channels)||void 0===n?void 0:n.find(function(e){return e.id===t}))}),T=null==g?void 0:g.docs.pageInfo,A=null==T?void 0:T.endCursor,P=(0,s.useCallback)(function(){return b({variables:{after:A}})},[b,A]),E=[to.I.loading,to.I.setVariables].includes(v),_=!E&&(null==T?void 0:T.hasNextPage)&&(null==T?void 0:T.endCursor);return console.debug("%c[useDocsData]","background-color:aqua",{sortBy:a,sortDirection:c,filterInfo:x,variables:p,networkStatus:v,docs:D}),{docs:D,loading:E,pageInfo:T,fetchMore:P,showPaginationControls:_,activeDocs:I}},td=i(93858),tu=i(49392),th=function(e){var n=e.currentChannelId,i=e.activeTab,r=(0,td._)(tu.H.viewPreferences,"grid"),t=(0,eJ.Z)(r,2),o=t[0],l=t[1],a=(0,s.useState)(F.IX5.EditedTime),c=a[0],d=a[1],u=(0,s.useState)(F.SrV.Desc),h=u[0],x=u[1],p=(0,s.useState)(function(){return n?"all":"recent"}),j=p[0],f=p[1],m=(0,s.useState)(rQ),g=m[0],v=m[1];return(0,s.useEffect)(function(){i===rE.ALL?f("recent"):f("all")},[n,i,f]),(0,s.useEffect)(function(){"createdByYou"===j?(v(F.IX5.CreatedTime),d(F.IX5.CreatedTime)):"recent"===j?v(F.IX5.LastViewed):"favorites"===j?v(F.IX5.Favorited):(d(F.IX5.EditedTime),v(F.IX5.EditedTime))},[j,d,v]),{viewPreference:o,setViewPreference:l,sortBy:c,setSortBy:d,sortDirection:h,filterBy:j,setFilterBy:f,setSortDirection:x,dateDisplayOption:g,setDateDisplayOption:v}},tx=function(){return(0,es.jsx)(i9.M,{minH:"sm",children:(0,es.jsxs)(c.k,{direction:"column",justify:"center",align:"center",children:[(0,es.jsx)(P.xu,{w:"80%",maxW:"250px",mb:6,alignContent:"center",children:(0,es.jsx)(rs(),{src:"/images/Sal-Fishing-2x.png",width:"640",height:"361",alt:"Sal, the Gamma mascot, fishing extraterrestrially"})}),(0,es.jsx)(I.X,{size:"md",mb:2,textAlign:"center",children:(0,es.jsx)(y.cC,{id:"ZxwTXP",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq}})}),(0,es.jsx)(T.x,{fontSize:"lg",color:"gray.400",textAlign:"center",children:(0,es.jsx)(y.cC,{id:"y1jRzK",values:{GAMMA_ARTIFACT_PROPER_NOUN_PLURAL:g.aq},components:{0:(0,es.jsx)(eE.r,{as:ee(),color:"trueblue.500",href:"/#".concat(rY)})}})})]})})},tp=[,,].fill(1),tj=[,,,,].fill(1),tf=function(e){var n=e.viewPreference;return"grid"===(void 0===n?"grid":n)?(0,es.jsx)(P.xu,{width:"100%","data-testid":"docs-view-skeleton",children:(0,es.jsx)(E.r,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,children:tp.map(function(e,n){return(0,es.jsx)(G.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:eV.O},n)})})}):(0,es.jsx)(P.xu,{width:"100%","data-testid":"docs-view-skeleton",children:(0,es.jsx)(iC.x,{pt:4,maxW:"100%",children:(0,es.jsx)(n8.i,{colorScheme:"blackAlpha",size:"sm",whiteSpace:"normal",variant:"simple",children:(0,es.jsx)(ii.p,{children:tj.map(function(e,n){return(0,es.jsx)(n9.Tr,{children:(0,es.jsx)(ir.Td,{as:eV.O,height:"36px",mb:2})},n)})})})})})},tm=i(34961),tg=i(22697),tv=i(14366),tb=i(53110),tC=i(68871);function ty(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function tw(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ty(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ty(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var tO={all:{label:(0,es.jsx)(y.cC,{id:"N40H+G"}),ariaLabel:W.ag._({id:"N40H+G"}),icon:U.s2},recent:{label:(0,es.jsx)(y.cC,{id:"AOvC3b"}),ariaLabel:W.ag._({id:"AOvC3b"}),icon:tC.SZ},private:{label:(0,es.jsx)(y.cC,{id:"zwBp5t"}),ariaLabel:W.ag._({id:"zwBp5t"}),icon:tb.by},createdByYou:{label:(0,es.jsx)(y.cC,{id:"WZTg05"}),ariaLabel:W.ag._({id:"WZTg05"}),icon:tv.m0},favorites:{label:(0,es.jsx)(y.cC,{id:"X9kySA"}),ariaLabel:W.ag._({id:"X9kySA"}),icon:tg.T}},tk=["all","recent","createdByYou","favorites"].map(function(e){return tw({key:e},tO[e])}),tS=["all","recent","createdByYou","favorites"].map(function(e){return tw({key:e},tO[e])}),tI=function(e){var n,i=e.currentChannelId,r=e.filterBy,t=e.setFilterBy,s=(0,eQ.i)({base:!0,xl:!1}),o=i?tS:tk,l=null==tO?void 0:null===(n=tO[r])||void 0===n?void 0:n.label;return(0,es.jsx)(r2.E,{id:"filter-by-dropdown",zIndex:"3",width:["100%","auto"],mt:[4,0],children:s?(0,es.jsxs)(V.v,{closeOnSelect:!0,children:[(0,es.jsx)(K.j,{as:A.z,variant:"ghost",size:"sm",rightIcon:(0,es.jsx)(_.G,{icon:iP.pt}),fontWeight:"600",color:"gray.700",leftIcon:(0,es.jsx)(_.G,{icon:tm.G_}),children:l}),(0,es.jsx)(Y.q,{minWidth:"240px",children:(0,es.jsx)(eq._,{defaultValue:r,title:W.ag._({id:"MwX53Z"}),type:"radio",onChange:t,value:r,children:o.map(function(e){return(0,es.jsx)(eX.i,{value:e.key,children:e.label},e.key)})})})]}):o.map(function(e){var n=e.key===r;return(0,es.jsx)(r2.U,{children:(0,es.jsx)(A.z,{fontWeight:"600",color:n?"trueblue.500":"gray.600",bg:n?"trueblue.50":"transparent",size:"sm",leftIcon:(0,es.jsx)(_.G,{icon:e.icon,"aria-label":e.ariaLabel}),variant:"ghost",onClick:function(){return t(e.key)},children:e.label})},e.key)})})},tD=function(e){var n,i=e.filterBy,r=e.sortBy,t=e.sortDirection,s=e.setSortBy,o=e.setSortDirection,l=e.size,a=void 0===l?"sm":l,c=r$(i),d=c?rX:rq.concat({key:F.IX5.Title,label:"Title"});return(0,es.jsxs)(ne.h,{variant:"ghost",size:a,zIndex:"2",children:[!(0,iH.s2)()&&!c&&(0,es.jsxs)(V.v,{closeOnSelect:!0,children:[(0,es.jsx)(K.j,{as:A.z,variant:"ghost",size:a,rightIcon:(0,es.jsx)(_.G,{icon:iP.pt,"aria-label":"Open menu"}),fontWeight:"600",color:"gray.700",children:(null==d?void 0:null===(n=d.find(function(e){return e.key===r}))||void 0===n?void 0:n.label)||(0,es.jsx)(y.cC,{id:"acZeX2"})}),(0,es.jsx)(X.h,{children:(0,es.jsx)(Y.q,{minWidth:"240px",zIndex:"overlay",children:(0,es.jsx)(eq._,{defaultValue:"alpha",title:W.ag._({id:"/HgF9q"}),type:"radio",children:d.map(function(e){var n=r===e.key;return(0,es.jsx)(Q.s,{icon:n?(0,es.jsx)(rV.n,{}):(0,es.jsx)(P.xu,{w:3}),value:e.key,onClick:function(){return s(e.key)},children:e.label},e.key)})})})})]}),(c||d.find(function(e){return e.key===r}))&&(0,es.jsx)(ew.kH,{label:(0,es.jsx)(y.cC,{id:"TZml21"}),children:(0,es.jsx)(q.h,{color:"gray.700","aria-label":"sort",onClick:function(){return o(t===F.SrV.Asc?F.SrV.Desc:F.SrV.Asc)},icon:(0,es.jsx)(_.G,{icon:rH.RX})})})]})},tT=function(e){var n=e.currentChannelId,i=e.filterBy,r=e.sortBy,t=e.sortDirection,s=e.viewPreference,o=e.setFilterBy,l=e.setSortBy,a=e.setSortDirection,c=e.setViewPreference,d=e.shouldShowCategoryFilters,u=e.shouldShowSortOptions,h=e.shouldShowViewToggle;return d||u||h?(0,es.jsxs)(k.K,{direction:"row",alignItems:"center",children:[d&&(0,es.jsx)(tI,{filterBy:i,setFilterBy:o,currentChannelId:n}),(0,es.jsx)(H.L,{}),(0,es.jsxs)(O.U,{alignItems:"center",children:[u&&(0,es.jsx)(tD,{filterBy:i,sortBy:r,sortDirection:t,setSortBy:l,setSortDirection:a}),h&&(0,es.jsx)(tP,{viewPreference:s,setViewPreference:c})]})]}):(0,es.jsx)(es.Fragment,{})},tA=i(61309),tP=function(e){var n=e.viewPreference,i=e.setViewPreference,r="list"===n;return(0,es.jsxs)(O.U,{spacing:0,bg:"gray.200",p:.5,borderRadius:"md",children:[(0,es.jsx)(A.z,{size:"sm","data-testid":"view-toggle-grid",variant:r?"ghost":"plain",color:r?"gray.600":"trueblue.500",onClick:function(){return i("grid")},children:(0,es.jsxs)(O.U,{children:[(0,es.jsx)(_.G,{icon:tA.em}),(0,es.jsx)(T.x,{display:["none","none","none","none","block"],children:(0,es.jsx)(y.cC,{id:"CXDHcv"})})]})}),(0,es.jsx)(A.z,{size:"sm","data-testid":"view-toggle-list",variant:r?"plain":"ghost",color:r?"trueblue.500":"gray.600",onClick:function(){return i("list")},children:(0,es.jsxs)(O.U,{children:[(0,es.jsx)(_.G,{icon:rz.xi}),(0,es.jsx)(T.x,{display:["none","none","none","none","block"],children:(0,es.jsx)(y.cC,{id:"2BBAbc"})})]})})]})},tE=i(55562),t_=i(95498),tF=i(83727),tN=i(34831),tz=i(10464),tL=i(75695),tR=i(5766),tM=i(25237),tU=i.n(tM),tW=i(8661),tB=i(30118),tG=["isDisabled","handleNewWithAIClick"],tZ=tU()(function(){return Promise.all([i.e(2274),i.e(1204),i.e(417),i.e(7017),i.e(2724)]).then(i.bind(i,60684)).then(function(e){return e.AdvancedModeDrawer})},{ssr:!1,loadableGenerated:{webpack:function(){return[60684]}}}),tH={guided:{title:(0,es.jsx)(y.cC,{id:"ziAjHi"}),description:(0,es.jsx)(y.cC,{id:"Gss0U9",components:{0:(0,es.jsx)("strong",{}),1:(0,es.jsx)("strong",{}),2:(0,es.jsx)("strong",{})}}),icon:"/_next/static/media/guided-thumb.a7ac0faa.png"},advanced:{title:(0,es.jsx)(y.cC,{id:"Fw72lu"}),description:(0,es.jsx)(y.cC,{id:"NuYgvQ",components:{0:(0,es.jsx)("strong",{}),1:(0,es.jsx)("strong",{})}}),icon:"/_next/static/media/text-to-deck-thumb.2c69fa96.png"}},tV=function(e){var n=e.title,i=e.description,r=e.beta,t=e.icon,s=e.onClick;return(0,es.jsx)(G.P,{position:"relative",padding:"6",border:"2px solid",borderColor:"gray.100",cursor:"pointer",boxSizing:"border-box",background:"white",shadow:"sm",transitionProperty:"common",transitionDuration:"normal",_hover:{bg:"trueblue.50",borderColor:"trueblue.400",boxShadow:"xl",textDecoration:"none"},role:"group",onClick:s,as:A.z,variant:"unstyled",borderRadius:8,height:"revert",fontWeight:"unset",whiteSpace:"normal",textAlign:"left",alignItems:"start",display:"flex",children:(0,es.jsxs)(k.K,{children:[(0,es.jsx)(c.k,{height:"40",mb:"2",justify:"top",alignItems:"top",borderRadius:"md",top:0,left:0,bottom:0,right:0,fontSize:"3rem",transitionProperty:"all",transitionDuration:"normal",bgImage:t,bgSize:"cover"}),(0,es.jsxs)(O.U,{align:"center",pt:2,children:[(0,es.jsx)(T.x,{mt:0,fontSize:"xl",fontWeight:"bold",lineHeight:"short",children:n}),(0,es.jsx)(H.L,{}),r&&(0,es.jsx)(S.C,{fontSize:"0.75em",colorScheme:"green",mt:"-6px !important",children:(0,es.jsx)(y.cC,{id:"YBt9YP"})})]}),(0,es.jsxs)(T.x,{fontSize:"sm",children:[" ",i]})]})})},tK=function(e){var n=e.isDisabled,i=e.handleNewWithAIClick,r=(0,iw.Z)(e,tG),t=(0,eD.ye)("aiWizardAdvanced"),o=(0,x.useRouter)().push,l=(0,tB.M)({id:"aiWizardAdvancedDrawer"}),a=l.isOpen,c=l.onClose,d=l.onOpen,u=(0,tB.M)({id:"newWithAiModal"}),h=u.isOpen,p=u.onClose,j=u.onOpen,f=(0,s.useCallback)(function(){i?i():(p(),o(tW.ET))},[i,p,o]),m=(0,s.useCallback)(function(){i?i():(p(),d())},[i,p,d]);return(r.variant,!(0,iH.s2)()&&t)?(0,es.jsxs)(es.Fragment,{children:[(0,es.jsxs)(e2.u_,{isOpen:h,onClose:p,size:"xl",blockScrollOnMount:!1,children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsxs)(e4.x,{children:[(0,es.jsx)(_.G,{icon:tL.KC})," ",(0,es.jsx)(y.cC,{id:"6L5VYJ"})]}),(0,es.jsx)(e6.o,{}),(0,es.jsx)(e8.f,{children:(0,es.jsx)(tR.M,{columns:[1,2],spacing:5,mb:6,children:Object.entries(tH).map(function(e){var n=(0,eJ.Z)(e,2),i=n[0],r=n[1],t=r.description,s=r.title,o=r.beta,l=r.icon,a="guided"===i?f:m;return(0,es.jsx)(tV,{description:t,title:s,beta:o,icon:l,onClick:a},i)})})})]})]}),(0,es.jsx)(A.z,{leftIcon:(0,es.jsx)(_.G,{icon:C.r8}),rightIcon:(0,es.jsx)(S.C,{colorScheme:"trueblue",textShadow:"none",children:(0,es.jsx)(y.cC,{id:"jsQZMk"})}),variant:"solid",onClick:j,children:(0,es.jsx)(y.cC,{id:"BOqY23"})}),(0,es.jsx)(tZ,{isOpen:a,onClose:c})]}):(0,es.jsx)(A.z,{"data-testid":"create-from-aipartner-button",isDisabled:n,variant:"solid",onClick:f,leftIcon:(0,es.jsx)(_.G,{icon:C.r8}),rightIcon:(0,es.jsx)(S.C,{colorScheme:"trueblue",textShadow:"none",children:"AI"}),children:(0,es.jsx)(y.cC,{id:"BOqY23"})})},tq=function(e){var n=e.currentWorkspace,i=e.description,r=e.ariaLabel,t=e.displayName,o=e.icon,l=e.showCreateButton,a=e.channel,d=e.isChannelPreview,u=(0,w.q)({id:"template-browser-modal"}),h=u.isOpen,x=(u.onOpen,u.onClose),p=(0,w.q)({id:"ai-credits-modal"}),j=p.isOpen,f=p.onOpen,m=p.onClose,g=(0,eD.ye)("aiWizard"),v=(0,b.z$)(),S=(0,t_.q)(),D=S.credits,E=S.hasEnoughCreditsToGenerateDeck,F=(0,tE.c)(),N=(0,eJ.Z)(F,2),z=N[0],L=N[1],R=L.data,M=L.loading||!!((null==R?void 0:R.createDoc)||!n),U=(0,s.useCallback)(function(e){var n=e.html,i=e.filename,r=e.source;if(n){var t="GoogleDocs"===r||"DocxUpload"===r,s=(0,tz.x)(n,{splitOnHeadings:t,splitOnDividers:!0,nested:t});null==v||v.track(b.AA.DOC_IMPORTED,{source:r}),z({document:s,channelId:null==a?void 0:a.id,title:i,source:"import"})}},[null==a?void 0:a.id,z,v]),W=(0,s.useCallback)(function(){z({channelId:null==a?void 0:a.id,source:"blank"})},[null==a?void 0:a.id,z]);return(0,es.jsxs)(c.k,{flex:"1",mb:(0,iH.s2)()?0:4,direction:"column",children:[(0,es.jsxs)(P.xu,{w:["100%","auto"],children:[(0,es.jsxs)(O.U,{h:"1.5em",children:[(0,es.jsxs)(I.X,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[o&&(0,es.jsx)(_.G,{icon:o,"aria-label":r})," ",(0,es.jsx)(T.x,{as:"span",ml:2,children:t})]}),(0,es.jsx)(H.L,{}),!d&&a&&(0,es.jsx)(rg,{channel:a,workspaceId:null==n?void 0:n.id})]}),i&&(0,es.jsx)(T.x,{color:"gray.600",fontSize:"sm",children:i}),a&&(0,es.jsxs)(k.K,{direction:"row",alignItems:"center",mt:4,children:[(0,es.jsx)(ew.NL,{overflowTooltipLabel:"See everyone",size:"xs",avatars:(null==a?void 0:a.members)||[],max:6}),(0,es.jsx)(T.x,{fontSize:"sm",color:"gray.400",ml:2,children:(0,es.jsx)(y.cC,{id:"pkIIls",values:{0:a.memberCount||0}})})]})]}),l&&(0,es.jsxs)(k.K,{direction:{base:"column",lg:"row"},spacing:2,mt:4,children:[g&&(0,es.jsx)(tK,{isDisabled:M,handleNewWithAIClick:E?void 0:f}),!(0,iH.s2)()&&(0,es.jsx)(A.z,{"data-testid":"create-doc-button",isDisabled:M,variant:"plain",onClick:W,leftIcon:(0,es.jsx)(_.G,{icon:C.r8}),children:(0,es.jsx)(y.cC,{id:"exOjhh"})}),l&&!(0,iH.s2)()&&(0,es.jsx)(tN.g,{handleImport:U,isDisabled:M,helpTip:(0,es.jsx)(T.x,{fontSize:"sm",color:"gray.500",children:(0,es.jsx)(y.cC,{id:"GjtYid",components:{0:(0,es.jsx)(A.z,{variant:"link",onClick:W,size:"sm"})}})})})]}),(0,es.jsx)(eS.H,{credits:D,isOpen:j,onClose:m,onOpen:f}),(0,es.jsx)(tF.UB,{isOpen:h,onClose:x,forceChannelId:null==a?void 0:a.id})]})},tX=function(){var e=(0,s.useState)(null),n=e[0],i=e[1],r=(0,F.t1J)({variables:{docId:n,maxDepth:1,archived:!1},returnPartialData:!0,fetchPolicy:"cache-first",nextFetchPolicy:"cache-only"}),t=(0,eJ.Z)(r,2),o=t[0],l=t[1].data;(0,s.useEffect)(function(){!n||(0,iH.s2)()||o({variables:{docId:n,maxDepth:1}})},[n,o]);var a=(0,s.useMemo)(function(){return[]},[]),c=(0,s.useMemo)(function(){var e,i;return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;if(e.length<=n)return e;for(var i=Math.floor(e.length/n),r=[],t=0;t<e.length&&(r.push(e[t]),r.length!==n);t+=i);return r}((null==l?void 0:l.docCards)!==void 0&&(null==l?void 0:null===(e=l.docCards[0])||void 0===e?void 0:e.docId)===n?null==l?void 0:null===(i=l.docCards)||void 0===i?void 0:i.filter(function(e){return!!e.previewUrl}):a)},[null==l?void 0:l.docCards,n,a]);return{fetchThumbnails:(0,s.useCallback)(function(e){i(e)},[]),getThumbnails:(0,s.useCallback)(function(e){return n===e?c:a},[c,n,a])}},tY=function(e){var n=e.editors,i=e.user,r=(0,i6.Yc)(n,null==i?void 0:i.id);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(ew.NL,{size:"xs",overflowTooltipLabel:W.ag._({id:"25VyZX"}),shouldAnimate:!1,max:3,avatars:r.map(function(e){var n=e.displayName,i=e.profileImageUrl;return{name:n||"",id:e.id,profileImageUrl:i,color:"white"}})}),(0,es.jsx)(k.K,{spacing:0,children:(0,es.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:(0,es.jsx)(y.cC,{id:"27Yldc",values:{0:r.length}})})})]})},tQ=function(e){var n=e.presenters,i=e.user,r=(0,i6.Yc)(n,null==i?void 0:i.id);return(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(ew.NL,{overflowTooltipLabel:W.ag._({id:"25VyZX"}),shouldAnimate:!1,size:"xs",max:3,avatars:r.map(function(e){var n=e.displayName,i=e.profileImageUrl;return{name:n||"",id:e.id,profileImageUrl:i,color:"white"}})}),(0,es.jsx)(k.K,{spacing:0,children:(0,es.jsx)(T.x,{fontSize:"xs",color:"gray.500",children:(0,es.jsx)(y.cC,{id:"u2htxq",values:{0:r.length}})})})]})},tJ=function(e){var n=e.activeDocs;e.filterBy;var i=tX(),r=i.fetchThumbnails,t=i.getThumbnails,s=(0,eD.ye)("screenshotsEnabled"),o=(0,a.SE)().user,l=ti({refetchQueries:["GetDocs","GetChannelDocActivity"]}).favoriteDoc;return(0,es.jsxs)(P.xu,{bg:"blackAlpha.100",my:4,pt:2,borderRadius:"md",border:"1px solid #000",borderColor:"blackAlpha.100",children:[(0,es.jsxs)(T.x,{px:6,fontSize:"sm",fontWeight:"600",color:"gray.600",mt:2,children:[(0,es.jsx)(_.G,{icon:iY.V1})," ",(0,es.jsx)(y.cC,{id:"/sL1z7"})]}),(0,es.jsx)(E.r,{templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)","2xl":"repeat(5, 1fr)"},gap:6,p:6,pt:3,children:null==n?void 0:n.map(function(e){var n,i=e.doc,a=e.editors,c=e.presenters,d=i.title,u=i.id,h=i.titleCard,x=i.createdTime,p={src:s?null==h?void 0:h.previewUrl:ei.Z,fallbackSrc:ei.Z.src},j=c&&c.length>0,f=!j&&a&&a.length>0,m=(0,ij.Gn)({docId:u}),g=(0,es.jsxs)(O.U,{px:2,py:1,bg:"green.100",borderRadius:"md",w:"100%",children:[f&&(0,es.jsx)(tY,{editors:a,user:o}),j&&(0,es.jsx)(tQ,{presenters:c,user:o})]}),v=t(i.id);return(0,es.jsx)(rU.F7,{createdTime:x,title:d,NextLink:ee(),href:m,id:u,thumbnailImageUrl:p,isFavorited:null===(n=i.docUser)||void 0===n?void 0:n.favorited,onFavorite:l(new Date,i),onUnfavorite:l(null,i),menuEnabled:!1,activity:g,cardThumbnails:s?v:[],onMouseEnter:function(){s&&r(i.id)}},u)})})]})},t$=(0,s.memo)(function(e){var n=e.activeTab,i=e.channel,r=e.isChannelPreview,t=e.activeDocs,s=e.sortDirection,o=e.sortBy,l=e.filterBy,c=e.viewPreference,d=e.setSortBy,u=e.setSortDirection,h=e.setViewPreference,x=e.setFilterBy,p=!(0,iH.s2)()&&n!==rP.TEMPLATES,j=!!(n===rP.ALL||i),f=(0,a.SE)().currentWorkspace,m=r_[n],g=m.displayName,v=m.description,b=m.ariaLabel,C=m.icon,y=m.showCreateButton,w=(null==i?void 0:i.name)||g;return(0,es.jsxs)(P.xu,{w:"100%",mb:6,children:[(0,es.jsx)(tq,{displayName:w,ariaLabel:b,description:v,icon:C,showCreateButton:y&&!r,currentWorkspace:f,channel:i,isChannelPreview:r}),t&&t.length>0&&(0,es.jsx)(tJ,{activeDocs:t,filterBy:l}),(0,es.jsx)(tT,{filterBy:l,sortBy:o,sortDirection:s,setViewPreference:h,setFilterBy:x,setSortBy:d,setSortDirection:u,viewPreference:c,shouldShowCategoryFilters:j,currentChannelId:(null==i?void 0:i.id)||null,shouldShowSortOptions:p&&"grid"===c,shouldShowViewToggle:p})]})});t$.displayName="DocsViewTopbar";var t0=i(65742),t1=function(e){var n=e.onClose,i=e.doc,r=(0,F.D1_)(),t=(0,eJ.Z)(r,2),o=t[0],l=t[1].loading,a=(0,e1.p)(),d=(0,s.useState)(function(){return i.title}),u=d[0],h=d[1],x=(0,s.useState)("Untitled"),p=x[0],j=x[1],f=(0,s.useState)(null),m=f[0],v=f[1],b=(0,s.useCallback)(function(e){h(e.target.value)},[]),C=(0,s.useRef)(null),w=(0,F.EDv)({variables:{docId:i.id,snapshotId:i.currentSnapshotId},skip:!(null!=i&&i.currentSnapshotId)||!(null!=i&&i.id)}).data,O=!!m;(0,s.useEffect)(function(){null!=w&&w.snapshot&&j((null==w?void 0:w.snapshot)&&(0,t0.getCardTitle)(w.snapshot.content.default.content[0].content[0])||W.ag._({id:"wja8aL"}))},[null==w?void 0:w.snapshot]);var k=(0,s.useCallback)(function(){var e=!!(u&&u.length);o({variables:{id:i.id,titleEdited:e,title:e?u:p}}).then(function(){a({title:(0,es.jsx)(y.cC,{id:"ZYAPMn",values:{0:u.length>0?u:p,GAMMA_ARTIFACT_PROPER_NOUN:g.Yc}}),position:"top",status:"success",duration:5e3}),v(null),n()}).catch(function(e){console.error(e),v(e.message)})},[i.id,n,u,a,o,p]);return(0,es.jsxs)(e2.u_,{closeOnOverlayClick:!1,isOpen:!0,initialFocusRef:C,onClose:n,children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"2wxgft"})}),(0,es.jsx)(e6.o,{}),(0,es.jsx)(e8.f,{children:(0,es.jsx)(c.k,{mt:4,w:"100%",direction:"column",children:(0,es.jsxs)(nd.NI,{isInvalid:O,children:[(0,es.jsx)(nh.I,{value:u,placeholder:p,ref:C,_placeholder:{opacity:1,color:"gray.300"},onKeyDown:function(e){"Enter"===e.key&&k()},onChange:b}),O&&(0,es.jsx)(nc.J1,{children:m})]})})}),(0,es.jsx)(e9.m,{children:(0,es.jsxs)(ne.h,{children:[(0,es.jsx)(A.z,{variant:"ghost",onClick:n,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{isLoading:l,variant:"solid",onClick:k,children:(0,es.jsx)(y.cC,{id:"2wxgft"})})]})})]})]})},t2=function(e){var n,i=e.sortBy,r=e.filterBy,t=e.docUser,s=e.doc;if("favorites"===r)return(0,es.jsx)(y.cC,{id:"8a9FIL",values:{0:(0,er.Dw)(null==t?void 0:t.favorited)}});if("recent"===r)return(0,es.jsx)(y.cC,{id:"yJynx8",values:{0:(0,er.Dw)(null==t?void 0:t.lastViewed)}});var o=(n={},(0,el.Z)(n,F.IX5.LastViewed,(0,es.jsx)(y.cC,{id:"yJynx8",values:{0:(0,er.Dw)(null==t?void 0:t.lastViewed)}})),(0,el.Z)(n,F.IX5.CreatedTime,(0,es.jsx)(y.cC,{id:"oJFw5Q",values:{0:(0,er.Dw)(null==s?void 0:s.createdTime)}})),(0,el.Z)(n,F.IX5.EditedTime,(0,es.jsx)(y.cC,{id:"yxz5Og",values:{0:(0,er.Dw)(null==s?void 0:s.editedTime)}})),n);return(null==o?void 0:o[i])||(0,es.jsx)(y.cC,{id:"yxz5Og",values:{0:(0,er.Dw)(null==s?void 0:s.editedTime)}})},t5=function(e){var n=e.userHasNoWorkspaces,i=e.isSidebarVisible,r=e.setIsSidebarVisible,t=e.currentChannelId,o=e.activeChannel,l=e.channelPreview,c=e.activeTab,d=(0,a.SE)(),u=d.user,h=d.currentWorkspace,x=(0,s.useState)(!1),p=x[0],j=x[1],f=(0,s.useState)(null),m=f[0],g=f[1],v=(0,s.useState)(null),b=v[0],C=v[1],O=(0,w.q)({id:"ConfirmPermanentlyDeleteModal"}),k=O.isOpen,S=O.onOpen,I=O.onClose,D=(0,s.useState)(null),T=D[0],E=D[1],_=(0,F.WMx)({variables:{id:m},returnPartialData:!0,nextFetchPolicy:"cache-first"}),N=(0,eJ.Z)(_,2),z=N[0],L=N[1].data,R=ti({refetchQueries:["GetDocs","GetChannelDocActivity"]}),M=R.favoriteDoc,U=R.trashDoc,W=R.restoreDoc,B=(0,ts.e)(),G=(0,i0.Z)().removeDocChannel,Z=(0,a.we)(),H=(0,tt.y)(),V=H.isSharePanelOpen,K=H.onSharePanelOpen,q=H.onSharePanelClose,X=H.view,Y=H.setView,Q=(0,w.q)({id:"RenameDocModalDisclosure"}),J=Q.isOpen,$=Q.onOpen,ee=Q.onClose,en=(0,eD.ye)("permanentlyDeleteDoc"),ei=th({currentChannelId:t,activeTab:c}),er=ei.viewPreference,et=ei.setViewPreference,eo=ei.sortBy,el=ei.setSortBy,ea=ei.sortDirection,ec=ei.filterBy,ed=ei.setFilterBy,eu=ei.setSortDirection,eh=ei.dateDisplayOption,ex=ei.setDateDisplayOption,ep=tc({filterBy:ec,activeTab:c,currentChannelId:t,channelPreview:l,user:u,currentWorkspace:h,sortBy:eo,sortDirection:ea}),ej=ep.docs,ef=ep.loading,em=ep.showPaginationControls,eg=ep.fetchMore,ev=ep.activeDocs;(0,s.useEffect)(function(){m&&z({variables:{id:m}})},[m,z]);var eb=(0,s.useCallback)(function(e){C(e),S()},[S]),eC=en?eb:void 0,ey=(0,s.useCallback)(function(e){g(e),K()},[K]),ew=(0,s.useCallback)(function(e,n){G(e,n)},[G]),eO=(0,s.useCallback)(function(e){B({docId:e.id,source:"dashboard_docs_view_duplicate"})},[B]),ek=(0,s.useCallback)(function(e){E(e),$()},[$]),eS=!ef&&ej&&(null==ej?void 0:ej.length)>0,eI=tX(),eT=eI.fetchThumbnails,eA=eI.getThumbnails;return(0,es.jsxs)(P.xu,{width:"100%",children:[!n&&(0,es.jsx)(rL,{isSidebarVisible:i,setIsSidebarVisible:r,children:(0,es.jsx)(t$,{activeTab:c,channel:l||o,activeDocs:ev,isChannelPreview:!!l,sortDirection:ea,sortBy:eo,filterBy:ec,viewPreference:er,setSortBy:el,setSortDirection:eu,setViewPreference:et,setFilterBy:ed})}),(0,es.jsxs)(P.xu,{width:"100%","data-testid":"docs-view-container",children:[(0,es.jsx)(rW,{user:u,currentWorkspace:h,currentChannelId:t,viewPreference:er}),ef&&(0,es.jsx)(tf,{viewPreference:er}),!ef&&(null==ej?void 0:ej.length)===0&&(0,es.jsx)(tx,{}),"list"===er&&eS&&(0,es.jsx)(r7,{dateDisplayOption:eh,setDateDisplayOption:ex,user:u,currentWorkspace:h,userHasNoWorkspaces:n,filterBy:ec,docs:ej,currentChannelId:t,sortBy:eo,sortDirection:ea,setSortBy:el,setSortDirection:eu,handleDuplicateDoc:eO,handleFavoriteDoc:M,handleTrash:U,handlePermanentDelete:eC,handleRestoreDoc:W,handleShareClick:ey,handleRenameClick:ek,handleRemoveFromChannel:ew}),"grid"===er&&eS&&(0,es.jsx)(r9.G,{"data-testid":"docs-view-doc-grid",children:ej.map(function(e){var i,r=Z.can("view",e)&&!n,s=Z.can("edit",e)&&!n,o=Z.can("manage",e)&&!n,l=eA(e.id);return(0,es.jsx)(rZ,{user:u,currentWorkspace:h,doc:e,currentChannelId:t,sortBy:eo,filterBy:ec,canDuplicate:r,createdByYou:(null==e?void 0:null===(i=e.createdBy)||void 0===i?void 0:i.id)===(null==u?void 0:u.id),handleDuplicateDoc:eO,handleFavoriteDoc:M,handleTrash:U,handlePermanentDelete:eC,handleRenameClick:ek,handleRemoveFromChannel:ew,handleRestoreDoc:W,handleShareClick:ey,fetchThumbnails:eT,cardThumbnails:l,canEditDoc:s,canManageDoc:o},e.id)})}),V&&(0,es.jsx)(iJ.WQ,{doc:null==L?void 0:L.doc,isSharePanelOpen:V,onSharePanelClose:function(){g(null),q()},onSharePanelOpen:K,view:X,setView:Y}),J&&(0,es.jsx)(t1,{doc:T,onClose:ee}),em&&(0,es.jsx)(i9.M,{p:6,children:(0,es.jsx)(A.z,{isLoading:p,onClick:function(){j(!0),eg().finally(function(){j(!1)})},size:"sm",children:(0,es.jsx)(y.cC,{id:"yQ2kGp"})})}),en&&k&&b&&(0,es.jsx)(tr,{doc:b,onClose:I})]})]})},t3=i(91128),t4=function(e){var n=(0,F.r$k)(),i=(0,eJ.Z)(n,1)[0],r=(0,F.NuY)(),t=(0,eJ.Z)(r,1)[0];return(0,s.useCallback)(function(n){var r=n.uploadFontFiles.filter(function(e){return("existing"===e.status||"created"===e.status)&&e.fontFile.sourceUrl}).map(function(e){var n=e.fontFile,i={name:n.name,weight:n.weight,isItalic:n.isItalic,fileType:n.fileType,sourceUrl:n.sourceUrl};return"existing"===e.status&&e.fontFile.id&&(i.id=e.fontFile.id),i});if("edit"!==n.mode)return i({variables:{input:{name:n.fontName,fontFiles:r,workspaceId:e}},refetchQueries:["GetWorkspaceFonts"]});var s=[{op:F.bPF.Add,path:"/name",value:n.fontName},{op:F.bPF.Replace,path:"/fontFiles",value:r}];return t({variables:{input:{id:n.fontId,workspaceId:e,data:s}},refetchQueries:["GetWorkspaceFonts"]})},[i,e,t])},t6=function(e){var n,i=(0,e1.p)(),r=(0,F.xUs)(),t=(0,eJ.Z)(r,2),o=t[0],l=t[1].loading;return{archiveFontFn:(0,s.useCallback)((n=(0,nK.Z)(nQ().mark(function n(r,t){return nQ().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",o({variables:{id:r,workspaceId:e},refetchQueries:["GetWorkspaceFonts"]}).then(function(e){return i({title:(0,es.jsx)(y.cC,{id:"w+hpl4",values:{name:t}}),status:"success",duration:2e3,isClosable:!0,position:"top"}),e}));case 1:case"end":return n.stop()}},n)})),function(e,i){return n.apply(this,arguments)}),[o,e,i]),isArchiving:l}},t8=function(e){var n=e.onClose,i=e.font,r=t6(e.orgId),t=r.archiveFontFn,o=r.isArchiving,l=(0,s.useCallback)(function(){t(i.id,i.name).then(n).catch(function(e){console.error("[FontDeleteModal] Error deleting font",e)})},[t,i.id,i.name,n]);return(0,es.jsxs)(e2.u_,{onClose:n,isOpen:!0,children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"Tf88pC",values:{0:i.name}})}),(0,es.jsx)(e6.o,{isDisabled:o}),(0,es.jsx)(e8.f,{children:(0,es.jsxs)(k.K,{spacing:4,children:[(0,es.jsx)(T.x,{fontWeight:"bold",children:(0,es.jsx)(y.cC,{id:"GG34Oa"})}),(0,es.jsx)(T.x,{children:(0,es.jsx)(y.cC,{id:"AYXLSv"})}),(0,es.jsx)(T.x,{color:"red.600",children:(0,es.jsx)(y.cC,{id:"U99rVM"})})]})}),(0,es.jsx)(e9.m,{children:(0,es.jsxs)(ne.h,{children:[(0,es.jsx)(A.z,{variant:"ghost",onClick:n,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{variant:"ghost",color:"red.600",onClick:l,isLoading:o,children:(0,es.jsx)(y.cC,{id:"04FTaq"})})]})})]})]})},t7=["children"];function t9(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function se(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t9(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t9(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var sn=function(e){var n=e.children,i=(0,iw.Z)(e,t7);return(0,es.jsx)(c.k,se(se({border:"1px solid",borderColor:"gray.200",minH:36,maxH:36,minW:"100%",borderRadius:"lg",alignItems:"center",justifyContent:"center",transition:"all",transitionDuration:"normal",_hover:{background:"white",color:"trueblue.600",cursor:"pointer"}},i),{},{children:n}))},si=i(25344),sr=i(58499),st=function(){return(0,es.jsxs)(e0.b,{status:"warning",children:[(0,es.jsx)(ih.z,{}),(0,es.jsxs)(T.x,{children:[(0,es.jsxs)("strong",{children:[(0,es.jsx)(y.cC,{id:"S89SGJ"})," ",(0,es.jsx)("span",{role:"img","aria-label":"Crying emoji",children:"\uD83D\uDE22"}),"."]})," ",(0,es.jsx)(y.cC,{id:"5FjY+D",components:{0:(0,es.jsx)(sr.E,{colorScheme:"purple"}),1:(0,es.jsx)(sr.E,{colorScheme:"pink"})}})]})]})},ss=i(13061),so=function(e){var n=e.fileExtension;return(0,es.jsx)(ss.Vp,{size:"sm",justifyContent:"center",background:n===F.sA6.Ttf?"trueblue.100":"shocking.100",children:n.toUpperCase()})},sl=function(e){var n=e.fontFamily,i=e.fontWeight,r=e.isItalic,t=e.headingText;return(0,es.jsx)(I.X,{fontFamily:'"'.concat(n,'"'),noOfLines:1,lineHeight:"base",fontWeight:i,fontStyle:r?"italic":"normal",children:t||n})};function sa(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function sc(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?sa(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sa(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var sd=function(e){var n=e.reduce(function(e,n){var i=e.findIndex(function(e){return e.isItalic===n.isItalic&&e.weight===n.weight});if(-1===i)return[].concat((0,nV.Z)(e),[n]);if(e[i].fileType===n.fileType)return e;var r=sc(sc({},n),{},{fileTypes:[n.fileType,e[i].fileType]});return[].concat((0,nV.Z)(e.slice(0,i)),[r],(0,nV.Z)(e.slice(i+1)))},[]),i=(0,nV.Z)(n);return i.sort(function(e,n){return e.weight!==n.weight?e.weight-n.weight:e.isItalic!==n.isItalic?!1===e.isItalic?-1:1:0}),i},su=function(e){var n,i=e.font,r=e.onClose,t=e.onEditClick,o=e.onDeleteClick,l=(0,s.useMemo)(function(){return sd(i.fontFiles||[])},[i.fontFiles]);return(0,es.jsxs)(e2.u_,{isOpen:!0,onClose:r,size:"3xl",blockScrollOnMount:!1,children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:i.name}),(0,es.jsx)(e6.o,{}),(0,es.jsx)(eb.i,{mb:"4"}),(0,es.jsx)(e8.f,{children:(0,es.jsxs)(ey.g,{mb:4,spacing:6,align:"stretch",children:[(null===(n=i.fontFiles)||void 0===n?void 0:n.length)===0&&(0,es.jsx)(st,{}),l.map(function(e){var n,r,t=!!(e.fileType===F.sA6.Otf||(null===(n=e.fileTypes)||void 0===n?void 0:n.includes(F.sA6.Otf))),s=!!(e.fileType===F.sA6.Ttf||(null===(r=e.fileTypes)||void 0===r?void 0:r.includes(F.sA6.Ttf)));return(0,es.jsx)(sh,{fontName:i.name,weight:e.weight,isItalic:e.isItalic,hasOTF:t,hasTTF:s},e.id)})]})}),(0,es.jsxs)(e9.m,{justifyContent:"space-between",children:[(0,es.jsx)(A.z,{variant:"ghost",colorScheme:"red",onClick:o,children:(0,es.jsx)(y.cC,{id:"cnGeoo"})}),(0,es.jsxs)(ne.h,{children:[(0,es.jsx)(A.z,{variant:"plain",onClick:t,children:(0,es.jsx)(y.cC,{id:"ePK91l"})}),(0,es.jsx)(A.z,{variant:"solid",onClick:r,children:(0,es.jsx)(y.cC,{id:"DPfwMq"})})]})]})]})]})},sh=function(e){var n=e.fontName,i=e.weight,r=e.isItalic,t=e.hasOTF,s=e.hasTTF,o=(0,es.jsxs)(es.Fragment,{children:[(0,si.d)()[i]," ",r?(0,es.jsx)(y.cC,{id:"pzutoc"}):""]}),l=(0,es.jsxs)(es.Fragment,{children:[n," ",o]}),a=(0,es.jsxs)(es.Fragment,{children:[i," - ",o]});return(0,es.jsxs)(c.k,{justify:"space-between",gap:"10px",children:[(0,es.jsxs)(k.K,{spacing:2,children:[(0,es.jsx)(T.x,{color:"gray.600",children:a}),(0,es.jsx)(sl,{fontFamily:n,fontWeight:i.toString(),isItalic:r,headingText:l})]}),(0,es.jsxs)(O.U,{align:"center",children:[s&&(0,es.jsx)(so,{fileExtension:F.sA6.Ttf}),t&&(0,es.jsx)(so,{fileExtension:F.sA6.Otf})]})]})},sx=i(47457),sp=i(65897),sj=i(92686),sf=function(e){var n=e.font,i=e.onClick,r=e.onEditClick,t=e.onDeleteClick,s=(0,sj.x_)((null==n?void 0:n.fontFiles)||[]),o=(0,sj.B_)(n.fontFiles||[]),l=(0,sj.QP)(o,700)||700,a=(0,sj.Sd)(null==n?void 0:n.fontFiles);return(0,es.jsxs)(k.K,{children:[(0,es.jsx)(sn,{bg:"white",justifyContent:"flex-start",p:6,onClick:i,children:(0,es.jsxs)(k.K,{maxW:"100%",children:[(0,es.jsx)(sl,{fontWeight:l.toString(),isItalic:a,fontFamily:n.name,headingText:n.name}),(0,es.jsx)(y.cC,{id:"B2DVf/",values:{styleCount:s},components:{0:(0,es.jsx)(T.x,{color:"orange.600"}),1:(0,es.jsx)(P.xu,{as:"span",mr:1}),2:(0,es.jsx)(_.G,{icon:sx.e7})}})]})}),(0,es.jsxs)(c.k,{children:[(0,es.jsx)(T.x,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:n.name}),(0,es.jsx)(H.L,{}),(0,es.jsxs)(V.v,{children:[(0,es.jsx)(K.j,{as:q.h,isRound:!0,size:"sm",variant:"ghost",icon:(0,es.jsx)(_.G,{icon:M.cN}),"aria-label":W.ag._({id:"eqqNgX"})}),(0,es.jsxs)(Y.q,{children:[(0,es.jsx)(Q.s,{icon:(0,es.jsx)(_.G,{icon:sp.Xc,fixedWidth:!0}),onClick:r,children:(0,es.jsx)(y.cC,{id:"ePK91l"})}),(0,es.jsx)(J.R,{}),(0,es.jsx)(Q.s,{color:"red.500",icon:(0,es.jsx)(_.G,{icon:ef.$,fixedWidth:!0}),onClick:t,children:(0,es.jsx)(y.cC,{id:"cnGeoo"})})]})]})]})]})},sm=i(37164),sg=i(4038);function sv(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function sb(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?sv(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sv(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}var sC={existingFont:null,mode:"create",fontId:void 0,hasUploadedFonts:!1,fontName:"",uploadFontFiles:[]};function sy(e,n){switch(n.type){case"NEW_FONT_UPLOAD":case"RESET_FONT_UPLOAD":return sC;case"EDIT_EXISTING_FONT":var i=n.data.font;return{existingFont:i,mode:"edit",fontId:i.id,fontName:i.name,hasUploadedFonts:!0,uploadFontFiles:i.fontFiles.map(function(e){return{fontFile:e,uploadId:e.id,status:"existing",errorMessage:null}})};case"EDIT_FONT_NAME":var r=n.data.fontName;return sb(sb({},e),{},{fontName:r});case"UPLOAD_FONT_FILE_UPLOAD_STARTED":var t=n.data,s={fontFile:{id:t.uploadId,name:t.name,weight:t.weight,isItalic:t.isItalic,fileType:t.fileType},uploadId:t.uploadId,status:"uploading",errorMessage:null},o=e.fontName?e.fontName:t.familyName;return sb(sb({},e),{},{fontName:o,hasUploadedFonts:!0,uploadFontFiles:[].concat((0,nV.Z)(e.uploadFontFiles),[s])});case"UPLOAD_FONT_FILE_UPLOAD_ERROR":var l=n.data,a=l.uploadId,c=l.errorMessage;return sb(sb({},e),{},{uploadFontFiles:e.uploadFontFiles.map(function(e){return a===e.uploadId?sb(sb({},e),{},{status:"error",errorMessage:c}):e})});case"UPLOAD_FONT_FILE_UPLOAD_SUCCESS":var d=n.data,u=d.uploadId,h=d.sourceUrl;return sb(sb({},e),{},{uploadFontFiles:e.uploadFontFiles.map(function(e){if(u===e.uploadId){var n=sb(sb({},e.fontFile),{},{sourceUrl:h});return sb(sb({},e),{},{status:"created",errorMessage:null,fontFile:n})}return e})});case"EDIT_UPLOAD_FONT_FILE_WEIGHT":var x=n.data,p=x.uploadId,j=x.weight;return sb(sb({},e),{},{uploadFontFiles:e.uploadFontFiles.map(function(e){return e.uploadId===p?sb(sb({},e),{},{fontFile:sb(sb({},e.fontFile),{},{weight:j})}):e})});case"EDIT_UPLOAD_FONT_FILE_STYLE":var f=n.data,m=f.uploadId,g=f.isItalic;return sb(sb({},e),{},{uploadFontFiles:e.uploadFontFiles.map(function(e){return e.uploadId===m?sb(sb({},e),{},{fontFile:sb(sb({},e.fontFile),{},{isItalic:g})}):e})});case"DELETE_UPLOAD_FONT_FILE":var v=n.data.uploadId;return sb(sb({},e),{},{uploadFontFiles:e.uploadFontFiles.filter(function(e){return e.uploadId!==v})});default:throw Error("Unhandled action type: ".concat(n))}}var sw=i(31975),sO=i(31186),sk=function(e){var n=e.fontFiles,i=e.fontWeight,r=e.dispatch,t=(0,s.useState)(!1),o=t[0],l=t[1];if(!n)return null;var a=(0,es.jsxs)(es.Fragment,{children:[i," - ",(0,si.d)()[i]]}),c=(0,sj.cC)(n),d=!!Object.keys(c).length;return(0,es.jsx)(iC.x,{mt:8,children:(0,es.jsxs)(n8.i,{colorScheme:"blackAlpha",mb:8,borderRadius:"md",children:[(0,es.jsx)(n7.h,{children:(0,es.jsx)(ew.kH,{placement:"top",isDisabled:!d,label:(0,es.jsx)(y.cC,{id:"KXcsLu"}),shouldWrapChildren:!0,children:(0,es.jsxs)(ew.NZ,{mb:"2",cursor:d?"help":void 0,color:d?"yellow.600":void 0,children:[d&&(0,es.jsx)(_.G,{icon:sx.e7})," ",a]})})}),(0,es.jsx)(ii.p,{children:n.map(function(e){return(0,es.jsx)(sS,{uploadFontFile:e,dispatch:r,duplicates:c,isHoveringOnADuplicate:o,setIsHoveringOnADuplicate:l},e.uploadId)})})]})})},sS=function(e){var n=e.uploadFontFile,i=e.duplicates,r=e.isHoveringOnADuplicate,t=e.setIsHoveringOnADuplicate,o=e.dispatch,l=(0,e1.p)(),a=n.fontFile,c=n.errorMessage,d=n.uploadId,u=void 0===a.sourceUrl&&!c,h=i[d],x=(0,sj.ZN)(Object.keys((0,si.d)())),p=r&&h?"yellow.100":h?"yellow.50":"blackAlpha.50",j=(0,s.useCallback)(function(){o({type:"DELETE_UPLOAD_FONT_FILE",data:{uploadId:d}}),l({title:(0,es.jsx)(y.cC,{id:"NHHKzo",values:{0:a.name}}),status:"info",duration:1e3,isClosable:!0,position:"top"})},[o,a.name,l,d]),f=h?a.isItalic?(0,es.jsx)(y.cC,{id:"yvnLC0",values:{0:a.weight}}):(0,es.jsx)(y.cC,{id:"QiSKej",values:{0:a.weight}}):"";return(0,es.jsxs)(n9.Tr,{minH:12,width:"100%",background:p,children:[(0,es.jsx)(ir.Td,{py:1,fontSize:"sm",textOverflow:"ellipsis",width:80,pl:0,children:(0,es.jsxs)(O.U,{ml:4,spacing:3,children:[(0,es.jsx)(so,{fileExtension:a.fileType||F.sA6.Ttf}),(0,es.jsx)(ew.kH,{placement:"right",label:f,children:(0,es.jsxs)(k.K,{width:"100%",pl:1,spacing:0,cursor:h?"help":"auto",onMouseOver:function(){t(h)},onMouseOut:function(){t(!1)},children:[(0,es.jsx)(ew.kH,{label:(0,es.jsx)(y.cC,{id:"e3mFaa"}),placement:"top",isDisabled:!c,children:(0,es.jsxs)(T.x,{color:c?"red.600":void 0,children:[a.name," ",u?(0,es.jsx)(eC.$,{ml:1,size:"xs",color:"gray"}):c&&(0,es.jsx)(P.xu,{as:"span",color:"red.600",children:(0,es.jsx)(_.G,{icon:sx.e7})})]})}),h&&(0,es.jsx)(T.x,{fontSize:"xs",color:"yellow.700",children:(0,es.jsx)(y.cC,{id:"mAsucF"})})]})})]})}),(0,es.jsx)(ir.Td,{py:1,minW:12,children:(0,es.jsx)(ew.kH,{"aria-label":W.ag._({id:"+7pOZT"}),label:(0,es.jsx)(y.cC,{id:"+7pOZT"}),placement:"top",children:(0,es.jsx)(P.xu,{children:(0,es.jsx)(e7.X,{size:"sm",isChecked:a.isItalic,onChange:function(e){o({type:"EDIT_UPLOAD_FONT_FILE_STYLE",data:{uploadId:d,isItalic:e.target.checked}})},children:(0,es.jsx)(T.x,{fontSize:"sm",children:(0,es.jsx)(y.cC,{id:"pzutoc"})})})})})}),(0,es.jsx)(ir.Td,{minW:"16",py:"1",pr:"2",children:(0,es.jsx)(sO.P,{bg:"revert",value:a.weight,size:"sm",onChange:function(e){o({type:"EDIT_UPLOAD_FONT_FILE_WEIGHT",data:{uploadId:d,weight:parseInt(e.target.value,10)}})},children:(0,es.jsx)("optgroup",{label:W.ag._({id:"rgzUkd"}),children:x.map(function(e){return(0,es.jsxs)("option",{value:e,children:[e," - ",(0,si.d)()[e]]},e)})})})}),(0,es.jsx)(ir.Td,{py:"1",px:"0",children:(0,es.jsx)(ew.kH,{placement:"top",label:(0,es.jsx)(y.cC,{id:"9cmpNe"}),children:(0,es.jsx)(q.h,{"aria-label":W.ag._({id:"9cmpNe"}),colorScheme:"red",icon:(0,es.jsx)(_.G,{icon:ef.$}),variant:"ghost",onClick:j})})})]})},sI=function(e){var n=e.fontFiles,i=e.dispatch,r=(0,s.useMemo)(function(){return Object.fromEntries(Object.entries((0,sj.Av)(n)).map(function(e){var n=(0,eJ.Z)(e,2),i=n[0],r=n[1],t=(0,nV.Z)(r);return t.sort(function(e,n){return e.fontFile.fileType!==n.fontFile.fileType?e.fontFile.fileType===F.sA6.Ttf?-1:1:e.fontFile.isItalic!==n.fontFile.isItalic?!1===e.fontFile.isItalic?-1:1:0}),[i,t]}))},[n]);if(!n)return null;var t=(0,sj.ZN)(Object.keys((0,si.d)()));return(0,es.jsxs)(es.Fragment,{children:[0===n.length&&(0,es.jsx)(st,{}),t.map(function(e){var n=r[e];return n?(0,es.jsx)(sk,{fontFiles:n,dispatch:i,fontWeight:e},e):null})]})},sD=function(e){var n=e.fontName,i=e.fontFiles,r=e.dispatch,t=e.onFontFileUploadClick,o=(0,s.useCallback)(function(e){r({type:"EDIT_FONT_NAME",data:{fontName:e.target.value}})},[r]),l=0===n.length;return(0,es.jsx)(e8.f,{children:(0,es.jsxs)(ey.g,{align:"stretch",mb:"4",children:[(0,es.jsxs)(c.k,{justifyContent:"space-between",gap:6,children:[(0,es.jsxs)(nd.NI,{isInvalid:l,flex:2,children:[(0,es.jsx)(nu.l,{children:(0,es.jsx)(y.cC,{id:"5qk/OL"})}),(0,es.jsx)(nh.I,{type:"text",placeholder:W.ag._({id:"NFz66a"}),value:n,onChange:o}),l&&(0,es.jsx)(nc.J1,{alignSelf:"flex-start",children:(0,es.jsx)(y.cC,{id:"YtAPjw"})})]}),(0,es.jsxs)(k.K,{mt:8,flex:1,children:[(0,es.jsx)(A.z,{leftIcon:(0,es.jsx)(_.G,{icon:t3.A$}),onClick:t,children:(0,es.jsx)(y.cC,{id:"BLNAld"})}),(0,es.jsx)(T.x,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,es.jsx)(y.cC,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:g.N6}})})]})]}),(0,es.jsx)(sI,{fontFiles:i,dispatch:r})]})})},sT=i(89596),sA=i(23418),sP=function(e){var n=e.uploadTip,i=e.children;return(0,es.jsxs)(ey.g,{align:"stretch",children:[(0,es.jsx)(c.k,{width:"100%",alignItems:"center",justifyContent:"center",minH:32,userSelect:"none",background:"gray.50",borderRadius:"md",p:4,mb:1,children:(0,es.jsx)(k.K,{spacing:0,children:i})}),(0,es.jsx)(T.x,{color:"gray.700",fontSize:"sm",children:n})]})},sE=function(){return(0,es.jsx)(e0.b,{status:"warning",margin:"0 auto",maxW:412,lineHeight:"var(--chakra-lineHeights-base)",children:(0,es.jsx)(T.x,{fontSize:"xs",color:"yellow.800",children:(0,es.jsx)(y.cC,{id:"ULVfg0",components:{0:(0,es.jsx)("strong",{})}})})})},s_=function(e){var n=e.onFontFileUploadClick;return(0,es.jsx)(e8.f,{children:(0,es.jsxs)(ey.g,{mb:"4",spacing:"8",borderRadius:"md",children:[(0,es.jsxs)(I.X,{textAlign:"center",size:"md",fontWeight:"600",children:[(0,es.jsx)("span",{role:"img","aria-label":"idea",children:"\uD83D\uDCA1"})," ",(0,es.jsx)(y.cC,{id:"O70dt2"})]}),(0,es.jsxs)(tR.M,{columns:{base:1,md:3},spacing:4,width:"100%",children:[(0,es.jsx)(sP,{uploadTip:(0,es.jsx)(es.Fragment,{children:(0,es.jsx)(y.cC,{id:"F/H43B",components:{0:(0,es.jsx)("strong",{})}})}),children:(0,es.jsx)(I.X,{fontSize:"3xl",fontWeight:"bold",children:"Inter"})}),(0,es.jsxs)(sP,{uploadTip:(0,es.jsx)(es.Fragment,{children:(0,es.jsx)(y.cC,{id:"b2oYEF",components:{0:(0,es.jsx)("strong",{})}})}),children:[(0,es.jsxs)(T.x,{children:["inter-",(0,es.jsx)("strong",{children:"regular"}),".ttf"," ",(0,es.jsx)(P.xu,{color:"green.400",as:"span",children:(0,es.jsx)(_.G,{icon:sA.LE})})]}),(0,es.jsxs)(T.x,{children:["inter-",(0,es.jsx)("strong",{children:"italic"}),".ttf"," ",(0,es.jsx)(P.xu,{color:"green.400",as:"span",children:(0,es.jsx)(_.G,{icon:sA.LE})})]}),(0,es.jsxs)(T.x,{children:["inter-",(0,es.jsx)("strong",{children:"bold"}),".ttf"," ",(0,es.jsx)(P.xu,{color:"green.400",as:"span",children:(0,es.jsx)(_.G,{icon:sA.LE})})]})]}),(0,es.jsxs)(sP,{uploadTip:(0,es.jsx)(es.Fragment,{children:(0,es.jsx)(y.cC,{id:"xjFrIG",components:{0:(0,es.jsx)("strong",{}),1:(0,es.jsx)("strong",{})}})}),children:[(0,es.jsxs)(T.x,{children:[(0,es.jsx)(T.x,{color:"gray.600",as:"span",children:(0,es.jsx)(_.G,{icon:sT.faFileLines})})," ","...-regular",(0,es.jsx)(sr.E,{colorScheme:"purple",children:".ttf"})]}),(0,es.jsxs)(T.x,{children:[(0,es.jsx)(T.x,{color:"gray.600",as:"span",children:(0,es.jsx)(_.G,{icon:sT.faFileLines})})," ","...-regular",(0,es.jsx)(sr.E,{colorScheme:"pink",children:".otf"})]})]})]}),(0,es.jsxs)(ey.g,{spacing:4,children:[(0,es.jsx)(A.z,{leftIcon:(0,es.jsx)(_.G,{icon:t3.A$}),variant:"solid",onClick:n,children:(0,es.jsx)(y.cC,{id:"NQrqa1"})}),(0,es.jsx)(T.x,{textAlign:"center",fontSize:"xs",color:"gray.600",children:(0,es.jsx)(y.cC,{id:"GYK/1H",values:{GAMMA_PROPER_NOUN:g.N6}})}),(0,es.jsx)(sE,{})]})]})})},sF=i(8980),sN=i(35541);function sz(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}var sL=function(e){var n=e.uploadFontFiles.every(function(e){return("created"===e.status||"existing"===e.status)&&e.fontFile.sourceUrl});return e.fontName&&n},sR=function(e){var n=e.onClose,i=e.orgId,r=e.font,t=s.useReducer(sy,sC),o=(0,eJ.Z)(t,2),l=o[0],a=o[1],d=(0,e1.p)();(0,s.useEffect)(function(){r?a({type:"EDIT_EXISTING_FONT",data:{font:r}}):a({type:"NEW_FONT_UPLOAD"})},[a,r]);var u=(0,s.useState)(!1),h=u[0],x=u[1],p=sL(l),j=t4(i),f=(0,sj.UK)(l),m=(0,s.useCallback)(function(){a({type:"RESET_FONT_UPLOAD"}),n()},[a,n]),g=(0,s.useCallback)(function(e){var n;Promise.all(e.map((n=(0,nK.Z)(nQ().mark(function e(n){var r,t,s,o;return nQ().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,sm.x0)(),e.prev=1,e.next=4,(0,sj.zn)(n);case 4:t=e.sent,a({type:"UPLOAD_FONT_FILE_UPLOAD_STARTED",data:function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?sz(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):sz(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}({uploadId:r,fileType:(0,sj.CZ)(n.name),name:n.name},t)}),e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(1),console.error("[FontUploadModal] There was an error parsing ".concat(n.name),n,e.t0),d({title:(0,es.jsx)(y.cC,{id:"zr0u7y",values:{0:n.name}}),description:(0,es.jsx)(y.cC,{id:"SuKrYu"}),status:"error",isClosable:!0,position:"top",duration:null}),e.abrupt("return");case 13:return e.prev=13,e.next=16,(0,sw.uO)(function(){return(0,sF.m)(i,n)},{maxRetries:3,timeout:2e4});case 16:s=e.sent,a({type:"UPLOAD_FONT_FILE_UPLOAD_SUCCESS",data:{uploadId:r,sourceUrl:s}}),e.next=24;break;case 20:e.prev=20,e.t1=e.catch(13),o=e.t1 instanceof Error?e.t1.message:"There was an error uploading ".concat(n.name),a({type:"UPLOAD_FONT_FILE_UPLOAD_ERROR",data:{uploadId:r,errorMessage:o}});case 24:case"end":return e.stop()}},e,null,[[1,8],[13,20]])})),function(e){return n.apply(this,arguments)}))).catch(function(e){console.error("[FontUploadModal] error while uploading font files",e)})},[a,i,d]),v=(0,sN.E)({handleFilesCallback:g,multiple:!0,accept:sg.Ge.join(",")}),b=v.onClick,C=v.inputElement,w=(0,s.useCallback)(function(){x(!0),j(l).then(function(){"create"===l.mode?d({title:(0,es.jsx)(y.cC,{id:"MXSt4t",values:{0:l.fontName}}),status:"success",duration:1e3,isClosable:!0,position:"top"}):"edit"===l.mode&&d({title:(0,es.jsx)(y.cC,{id:"P2ieni",values:{0:l.fontName}}),status:"success",duration:2e3,isClosable:!0,position:"top"})}).catch(function(e){d({title:"edit"===l.mode?(0,es.jsx)(y.cC,{id:"K45zvU"}):(0,es.jsx)(y.cC,{id:"FL7N1y",values:{0:l.fontName}}),status:"error",duration:5e3,isClosable:!0,position:"top"}),console.error("[FontUploadModal] error ".concat("edit"===l.mode?"editing":"creating"," font"),e)}).finally(function(){x(!1),n()})},[n,j,l,d]),O=(0,sj.x_)(l.uploadFontFiles.map(function(e){return e.fontFile}));return(0,es.jsxs)(e2.u_,{isOpen:!0,closeOnOverlayClick:!1,onClose:m,size:"3xl",children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:l.hasUploadedFonts?l.fontName?l.fontName:(0,es.jsx)(y.cC,{id:"yT14LZ"}):(0,es.jsx)(y.cC,{id:"O7HGjV"})}),(0,es.jsx)(e6.o,{isDisabled:h}),(0,es.jsx)(eb.i,{mb:"4"}),C,l.hasUploadedFonts?(0,es.jsx)(sD,{fontFiles:l.uploadFontFiles,fontName:l.fontName,dispatch:a,onFontFileUploadClick:b}):(0,es.jsx)(s_,{onFontFileUploadClick:b}),(0,es.jsx)(eb.i,{mb:1}),(0,es.jsx)(e9.m,{children:l.hasUploadedFonts?(0,es.jsxs)(c.k,{flex:1,mb:"2",alignItems:"center",justifyContent:"space-between",children:[(0,es.jsx)(T.x,{children:(0,es.jsx)(y.cC,{id:"yDnXlV",values:{numOfStyles:O}})}),(0,es.jsxs)(ne.h,{children:[(0,es.jsx)(A.z,{variant:"ghost",onClick:n,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})}),(0,es.jsx)(A.z,{isDisabled:!p||!f,variant:"solid",onClick:w,isLoading:h,children:"edit"===l.mode?(0,es.jsx)(y.cC,{id:"tfDRzk"}):(0,es.jsx)(y.cC,{id:"N/mjN3"})})]})]}):(0,es.jsx)(A.z,{variant:"ghost",onClick:n,children:(0,es.jsx)(y.cC,{id:"dEgA5A"})})})]})]})},sM=i(63248),sU=function(e){var n=e.label,i=e.icon,r=e.onClick;return(0,es.jsx)(sn,{bg:"gray.50",onClick:r,children:(0,es.jsxs)(k.K,{align:"center",children:[(0,es.jsx)(T.x,{fontSize:"x-large",children:i}),(0,es.jsx)(T.x,{children:n}),(0,es.jsx)(eF.U,{productFeature:"custom_fonts"})]})})},sW=function(e){var n=e.isSidebarVisible,i=e.setIsSidebarVisible;(0,N.G)("customFonts");var r=(0,a.SE)().currentWorkspace,t=(0,e_.zc)().openUpsellModal,o=(0,ez.lo)(),l=(0,s.useState)(null),c=l[0],d=l[1],u=(0,F.LkU)({variables:{workspaceId:null==r?void 0:r.id,archived:!1},skip:!r}),h=u.data,x=u.error,p=u.loading,j=(0,w.q)(),f=j.isOpen,m=j.onOpen,g=j.onClose,v=(0,w.q)(),C=v.isOpen,O=v.onOpen,S=v.onClose,D=(0,w.q)(),A=D.isOpen,E=D.onOpen,z=D.onClose,L=(0,s.useCallback)(function(e,n){return function(){if(!o){t({segmentEvent:b.AA.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});return}d(e),"edit"===n?m():(O(),g()),z()}},[o,t,O,z,m,g]),R=(0,s.useCallback)(function(){if(!o){t({segmentEvent:b.AA.GAMMA_PRO_UPSELL_CALLOUT_CUSTOM_FONTS});return}d(null),m()},[o,t,m]),M=(0,s.useCallback)(function(e){return function(){d(e),E()}},[E]),U=r_[rE.FONTS],W=U.displayName,B=U.description,G=U.ariaLabel,Z=U.icon,H=((null==h?void 0:h.fonts)||[]).filter(function(e){return!e.archived}),V=H.map(function(e){return{id:e.id,name:e.name,url:e.cssUrl}}),K=H.length;return(0,es.jsxs)(P.xu,{w:"100%","data-testid":"fonts-view-container",children:[(0,es.jsx)(sM.J,{fonts:V}),(0,es.jsxs)(rL,{isSidebarVisible:n,setIsSidebarVisible:i,children:[(0,es.jsxs)(I.X,{fontSize:"lg",fontWeight:"600","data-testid":"fonts-view-header",children:[Z&&(0,es.jsx)(_.G,{icon:Z,"aria-label":G})," ",(0,es.jsx)(T.x,{as:"span",ml:2,children:W})]}),(0,es.jsx)(T.x,{fontSize:"md",mt:"2",mb:"6",color:"gray.600",children:B})]}),(0,es.jsxs)(k.K,{children:[(0,es.jsx)(T.x,{color:"gray.600",children:(0,es.jsx)(y.cC,{id:"GOR0mG",values:{numOfFonts:K}})}),(0,es.jsxs)(tR.M,{columns:{base:1,md:2,xl:3,"2xl":4},spacing:6,children:[(0,es.jsx)(sU,{label:(0,es.jsx)(y.cC,{id:"O7HGjV"}),icon:(0,es.jsx)(_.G,{icon:t3.A$}),onClick:R}),!p&&!x&&H.map(function(e){return(0,es.jsx)(sf,{font:e,onEditClick:L(e,"edit"),onDeleteClick:L(e,"delete"),onClick:M(e)},e.id)})]})]}),f&&r&&(0,es.jsx)(sR,{onClose:g,orgId:r.id,font:c}),C&&r&&c&&(0,es.jsx)(t8,{onClose:S,orgId:r.id,font:c}),A&&c&&(0,es.jsx)(su,{onClose:z,onEditClick:L(c,"edit"),onDeleteClick:L(c,"delete"),font:c})]})},sB=i(26384),sG=i(1368),sZ=function(e){var n=e.title,i=e.body,r=e.accentColor,t=e.href,s=e.icon,o=e.isNew,l=e.onClick;return(0,es.jsx)(ee(),{href:t,passHref:!0,legacyBehavior:!0,children:(0,es.jsx)(G.P,{as:eE.r,position:"relative",padding:"6",border:"2px solid",borderColor:"gray.100",borderRadius:"8",cursor:"pointer",boxSizing:"border-box",background:"white",shadow:"sm",transitionProperty:"common",transitionDuration:"normal",_hover:{borderColor:"".concat(r,".400"),boxShadow:"xl",textDecoration:"none"},role:"group",onClick:l,children:(0,es.jsxs)(k.K,{children:[(0,es.jsx)(c.k,{height:"40",mb:"2",justify:"center",alignItems:"center",borderRadius:"md",top:0,left:0,bottom:0,right:0,background:"".concat(r,".100"),fontSize:"3rem",color:"".concat(r,".300"),transitionProperty:"all",transitionDuration:"normal",_groupHover:{color:"".concat(r,".400"),fontSize:"3.125rem"},children:(0,es.jsx)(P.xu,{children:(0,es.jsx)(_.G,{icon:s,className:"fa-xl"})})}),(0,es.jsxs)(T.x,{mt:2,fontSize:"xl",fontWeight:"bold",lineHeight:"short",children:[n,o&&(0,es.jsxs)(es.Fragment,{children:[" ",(0,es.jsx)(S.C,{fontSize:"0.75em",colorScheme:"green",children:(0,es.jsx)(y.cC,{id:"YBt9YP"})})]})]}),(0,es.jsx)(T.x,{fontSize:"sm",children:i})]})})})},sH=i(9809),sV=i(32993),sK=i(50679),sq=i(45338),sX=i(55849),sY={createFromAI:{title:(0,es.jsx)(y.cC,{id:"ks31i0"}),body:(0,es.jsx)(y.cC,{id:"y3x+dr"}),colorScheme:"pink",icon:sX.KC,action:"createFromAI",isNew:!0},createDeck:{title:(0,es.jsx)(y.cC,{id:"17dkjV"}),body:(0,es.jsx)(y.cC,{id:"EHsEUm"}),colorScheme:"purple",icon:sq.RL,action:"blankDeck",isNew:!1},viewTemplates:{title:(0,es.jsx)(y.cC,{id:"M4C2N9"}),body:(0,es.jsx)(y.cC,{id:"hO9+rY"}),colorScheme:"salmon",icon:sK.BD,action:"templates",isNew:!1},tipsAndTricks:{title:(0,es.jsx)(y.cC,{id:"ZOGX27"}),body:(0,es.jsx)(y.cC,{id:"mgn8Bj"}),colorScheme:"teal",icon:sV.s2,action:"welcomeDoc",isNew:!1},inspiration:{title:(0,es.jsx)(y.cC,{id:"IR0bRg"}),body:(0,es.jsx)(y.cC,{id:"QbmT2X"}),colorScheme:"orchid",icon:sH.cn,action:"inspiration",isNew:!1}},sQ="getStarted",sJ=function(){var e=(0,x.useRouter)(),n=e.push,i=e.query,r=e.pathname,t=(0,tE.c)(),o=(0,eJ.Z)(t,1)[0],l=!!i[sQ],a=(0,s.useCallback)(function(e){var i=new URL(window.location.href).searchParams;i.delete(sQ),e?e.startsWith("/#")?p().replace(e):((0,sG.lO)({query:Object.fromEntries(i.entries())}),n(e)):p().replace({pathname:r,query:i.toString()},void 0,{shallow:!0})},[r,n]),c=(0,s.useCallback)(function(){var e=new URL(window.location.href).searchParams;e.delete(sQ),(0,sG.lO)({query:Object.fromEntries(e.entries())}),o({source:"get_started_modal"})},[o]);return l?(0,es.jsx)(s1,{onClose:a,onCreateDoc:c}):null},s$=function(e){var n=e.isMobile,i=e.aiWizardEnabled,r="DOWN"==e.openAiStatus;return n?[].concat((0,nV.Z)(i&&!r?[sY.createFromAI]:[]),[sY.tipsAndTricks,sY.inspiration]):[].concat((0,nV.Z)(i&&!r?[sY.createFromAI]:[]),[sY.createDeck,sY.viewTemplates,sY.tipsAndTricks]).slice(0,3)},s0={createFromAI:"create_from_ai",welcomeDoc:"welcome_doc",templates:"templates",inspiration:"inspiration",blankDeck:"create_doc"},s1=function(e){var n,i,r=e.onClose,t=e.onCreateDoc,o=(0,b.z$)(),l=(0,td._)(tu.H.welcomeDocId,null),c=(0,eJ.Z)(l,1)[0],d=(0,eD.ye)("aiWizard"),u=(0,eD.ye)("openAiStatus"),h=(0,eQ.i)(["full","full","3xl","4xl"]),x=(0,a.SE)(),p=x.user,j=x.currentWorkspace,f=x.setSettings,m=null==p?void 0:p.id,g=s$({isMobile:(0,iH.s2)(),aiWizardEnabled:d,openAiStatus:u});(0,s.useEffect)(function(){null==f||f({remove:["showGetStarted"]})},[f]);var v=(0,F.HHH)({variables:{workspaceId:null==j?void 0:j.id,first:1,createdBy:m,sortBy:{field:F.IX5.CreatedTime,direction:F.SrV.Asc}},skip:!!(!m||c)}),C=v.data,w=v.loading,k=v.called,S=c||(null==p?void 0:null===(n=p.settings)||void 0===n?void 0:n.welcomeDocId)||(null==C?void 0:null===(i=C.docs.edges[0])||void 0===i?void 0:i.node.id),I=(0,s.useCallback)(function(e){switch(e){case"welcomeDoc":S?r("/docs/".concat(S)):console.warn("[StartingModal] No welcomeDoc");break;case"templates":r("/#templates");break;case"inspiration":r("/#inspiration");break;case"blankDeck":t();break;case"createFromAI":r(tW.ET);break;default:console.warn("[StartingModal] Unknown action",e)}},[r,t,S]);return(0,es.jsxs)(e2.u_,{isOpen:!0,size:h,trapFocus:!1,onClose:function(){null==o||o.track(b.AA.GET_STARTED_CLICKED,{target:"dismiss",variation:"new"}),r()},children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"h0sjMM"})}),(0,es.jsx)(e6.o,{}),(0,iH.s2)()?(0,es.jsx)(P.xu,{padding:"4",background:"salmon.100",mb:"4",children:(0,es.jsxs)(O.U,{spacing:"5",paddingLeft:"2",children:[(0,es.jsx)(P.xu,{color:"salmon.600",children:(0,es.jsx)(_.G,{icon:sB.tc,className:"fa-xl"})}),(0,es.jsxs)(ey.g,{align:"flex-start",spacing:"0",children:[(0,es.jsx)(T.x,{fontWeight:"600",fontSize:"lg",children:(0,es.jsx)(y.cC,{id:"2aP3e7"})}),(0,es.jsx)(T.x,{fontSize:"sm",children:(0,es.jsx)(y.cC,{id:"WsGA8K"})})]})]})}):(0,es.jsx)(eb.i,{mb:"4"}),(0,es.jsx)(e8.f,{children:(0,es.jsx)(tR.M,{columns:[1,1,3],spacing:5,children:g.map(function(e,n){var i=e.icon,r=e.colorScheme,t=e.title,s=e.body,l=e.action,a=e.isNew;if("welcomeDoc"===l&&!c&&k&&!w&&!C)return console.error("[GetStartedModalContent] Unexpectedly cant find a welcomeDocId"),null;var d="blankDeck"===l?"/new":"templates"===l?"/#templates":"inspiration"===l?"/#inspiration":"welcomeDoc"===l?"/docs/".concat(S):"createFromAI"===l?tW.ET:"/";return(0,es.jsx)(sZ,{accentColor:r||"trueblue",title:t,body:s,href:d,icon:i,isNew:a,onClick:function(e){null==o||o.track(b.AA.GET_STARTED_CLICKED,{target:s0[l],variation:"new"}),e.metaKey||(e.preventDefault(),I(l))}},n)})})}),(0,es.jsx)(e9.m,{})]})]})},s2=i(2920),s5=i(65189),s3=function(e){var n=e.deck,i=(0,s2.Lq)(n),r=(0,ij.Gn)({docId:i,path:"example"});return(0,es.jsx)(rU.F7,{title:n.title||"",menuEnabled:!0,href:r,id:i,createdTime:new Date().toISOString(),thumbnailImageUrl:{src:null==n?void 0:n.previewImageUrl,fallbackSrc:ei.Z.src},NextLink:ee(),onFavorite:void 0,isTrashAndRestoreEnabled:!1,createdByName:(null==n?void 0:n.authorDisplayName)||"Gamma",createdByProfileImageUrl:(null==n?void 0:n.authorImageUrl)||s5.Z.src,isDuplicateEnabled:!1},i)},s4=function(e){var n=e.category;if(!n)return(0,es.jsx)(es.Fragment,{});var i=n.decks;return(0,es.jsxs)(P.xu,{mb:8,children:[(0,es.jsx)(tF.Im,{category:n}),(0,es.jsx)(rU.Gd,{children:null==i?void 0:i.map(function(e){return(0,es.jsx)(s3,{deck:e},e.docId)})})]},n.id)},s6=function(e){var n=e.isSidebarVisible,i=e.setIsSidebarVisible,r=(0,tF.jn)(),t=r.categories,s=r.loading,o=r_[rE.INSPIRATION],l=o.displayName,a=o.ariaLabel,c=(o.description,o.icon);return(0,es.jsxs)(P.xu,{w:"100%","data-testid":"inspiration-view-container",children:[(0,es.jsx)(rL,{isSidebarVisible:n,setIsSidebarVisible:i,children:(0,es.jsxs)(I.X,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[c&&(0,es.jsx)(_.G,{icon:c,"aria-label":a})," ",(0,es.jsx)(T.x,{as:"span",ml:2,children:l})]})}),s&&(0,es.jsx)(P.xu,{width:"100%","data-testid":"inspiration-skeleton",children:(0,es.jsxs)(rU.Gd,{children:[(0,es.jsx)(G.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:eV.O},1),(0,es.jsx)(G.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:eV.O},2),(0,es.jsx)(G.P,{bg:"linen.50",borderRadius:"5px",height:"240px",as:eV.O},3)]})}),!s&&t&&(null==t?void 0:t.length)>0&&(null==t?void 0:t.map(function(e){return(0,es.jsx)(s4,{category:e},e.id)}))]})},s8=function(){return(0,es.jsxs)(c.k,{flex:1,w:"100%",direction:"column",children:[(0,es.jsx)(eV.O,{w:"50%",h:"48px",mb:4}),(0,es.jsx)(P.xu,{w:"100%",children:(0,es.jsxs)(E.r,{templateColumns:["repeat(2, 1fr)","repeat(3, 1fr)"],gap:6,children:[(0,es.jsx)(G.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:eV.O}),(0,es.jsx)(G.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:eV.O}),(0,es.jsx)(G.P,{bg:"linen.50",borderRadius:"5px",height:"200px",as:eV.O})]})})]})},s7=function(e){var n=e.category;if(!n)return(0,es.jsx)(es.Fragment,{});var i=n.decks;return(0,es.jsxs)(P.xu,{mb:8,children:[(0,es.jsx)(tF.Im,{category:n}),(0,es.jsx)(rU.Gd,{children:null==i?void 0:i.map(function(e){return(0,es.jsx)(tF.nL,{deck:e},e.docId)})})]},n.id)},s9=function(e){var n=e.isSidebarVisible,i=e.setIsSidebarVisible,r=(0,tF.tk)(),t=r.categories,s=r.loading,o=(0,w.q)({id:"template-browser-modal"}),l=o.isOpen,a=(o.onOpen,o.onClose);if((0,iH.s2)())return p().replace("/"),null;var c=r_[rE.TEMPLATES],d=c.displayName,u=c.ariaLabel,h=c.icon;return(0,es.jsxs)(P.xu,{w:"100%","data-testid":"templates-view-container",children:[(0,es.jsx)(rL,{isSidebarVisible:n,setIsSidebarVisible:i,children:(0,es.jsxs)(I.X,{fontSize:"lg",fontWeight:"600","data-testid":"docs-view-header",children:[h&&(0,es.jsx)(_.G,{icon:h,"aria-label":u})," ",(0,es.jsx)(T.x,{as:"span",ml:2,children:d})]})}),s&&(0,es.jsx)(s8,{}),!s&&t&&(null==t?void 0:t.length)>0&&(null==t?void 0:t.map(function(e){return(0,es.jsx)(s7,{category:e},e.id)})),l&&(0,es.jsx)(tF.UB,{isOpen:!0,onClose:a})]})},oe=i(26006),on=i(53865),oi=i(60271),or=i(76817),ot=i(4685),os=i(1153),oo=function(e){var n=e.label,i=e.icon,r=e.onClick;return(0,es.jsx)(c.k,{alignItems:"center",justifyContent:"center",border:"1px solid",borderColor:"gray.200",borderRadius:"lg",background:"gray.50",minH:36,minW:"100%",_hover:{background:"white",color:"trueblue.600",cursor:"pointer"},onClick:r,children:(0,es.jsxs)(k.K,{textAlign:"center",children:[(0,es.jsx)(T.x,{fontSize:"xl",children:i}),(0,es.jsx)(T.x,{children:n})]})})},ol=function(e){var n=e.isSidebarVisible,i=e.setIsSidebarVisible,r=(0,ot.g)(),t=(0,eJ.Z)(r,2),o=t[0],l=t[1],c=(0,a.SE)().currentWorkspace,d=(0,tB.M)({id:"themeEditor"}),u=d.isOpen,h=d.onOpen,x=d.onClose,p=(0,s.useCallback)(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?n?l({type:"SET_NEW_THEME_FOR_SELECTING",data:{theme:e}}):l({type:"SET_THEME_EDITING",data:{theme:e}}):l({type:"NEW_BLANK_THEME"}),h()},[l,h]),j=(0,s.useCallback)(function(){l({type:"THEME_RESET"}),x()},[l,x]),f=(0,F.BCl)({variables:{workspaceId:null==c?void 0:c.id,archived:!1},skip:!c}),m=f.data,g=f.loading,v=f.called,b=(0,F.BCl)({variables:{workspaceId:null,archived:!1}}).data,C=(null==m?void 0:m.themes)||[],w=(null==b?void 0:b.themes)||[],O=(0,s.useMemo)(function(){return(0,on.QB)(null==b?void 0:b.themes)},[b]),k=r_[rE.THEMES],S=k.displayName,D=k.description,A=k.ariaLabel,E=k.icon;return(0,es.jsxs)(P.xu,{w:"100%","data-testid":"themes-view-container",children:[(0,es.jsx)(os.Y,{}),(0,es.jsxs)(rL,{isSidebarVisible:n,setIsSidebarVisible:i,children:[(0,es.jsxs)(I.X,{fontSize:"lg",fontWeight:"600","data-testid":"themes-view-header",children:[E&&(0,es.jsx)(_.G,{icon:E,"aria-label":A})," ",(0,es.jsx)(T.x,{as:"span",ml:2,children:S})]}),(0,es.jsx)(T.x,{fontSize:"md",mt:"2",mb:"6",color:"gray.600",children:D})]}),!v||g?(0,es.jsx)(P.xu,{width:"100%","data-testid":"themes-skeleton",children:(0,es.jsx)(tR.M,{columns:[1,2,2,3,5],spacing:6,children:[1,2,3,4,5,6,7,8].map(function(e){return(0,es.jsx)(G.P,{bg:"linen.50",borderRadius:"5px",height:"144px",as:eV.O},e)})})}):(0,es.jsxs)(es.Fragment,{children:[(0,es.jsx)(oa,{themes:C,heading:(0,es.jsx)(y.cC,{id:"B+0JwP"}),description:(0,es.jsx)(y.cC,{id:"V8L7Rw"}),openThemeEditor:p,type:"custom",defaultNewTheme:O}),(0,es.jsx)(oa,{themes:w,heading:(0,es.jsx)(y.cC,{id:"VjG5AF"}),description:(0,es.jsx)(y.cC,{id:"CfkRlx"}),openThemeEditor:p,type:"standard"})]}),(0,es.jsx)(oi.z,{isOpen:u,onClose:j,state:o,dispatch:l,disableDrawerTransition:!0})]})},oa=function(e){var n=e.themes,i=e.type,r=e.heading,t=e.description,o=e.defaultNewTheme,l=e.openThemeEditor,a="custom"===i,c=(0,s.useCallback)(function(){l&&o&&l(o,!0)},[l,o]),d=(0,s.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n){e?null==l||l((0,on.mg)(n,!0)):null==l||l(n)}},[l]);return(0,es.jsxs)(k.K,{my:12,children:[(0,es.jsxs)(k.K,{mb:6,fontSize:"md",children:[(0,es.jsx)(I.X,{fontSize:"2xl",mb:-1,children:r}),(0,es.jsx)(T.x,{color:"gray.600",children:t})]}),(0,es.jsxs)(tR.M,{columns:[1,2,2,3,5],spacing:6,children:[a&&(0,es.jsx)(oo,{label:(0,es.jsx)(y.cC,{id:"FiwgR9"}),icon:(0,es.jsx)(_.G,{icon:oe.EQ}),onClick:c}),n.map(function(e){return(0,es.jsx)(or.o,{type:i,theme:e,isChecked:!1,onEditClick:d(!a),onThemeClicked:a?d(!a):void 0},e.id)})]})]})},oc=i(55114),od=i(10498),ou=function(){var e=(0,w.q)(),n=e.onClose,i=e.onOpen,r=e.isOpen,t=(0,a.SE)(),o=t.user,l=t.isUserLoading,d=!!(o&&!l&&!o.jobFunction);return((0,s.useEffect)(function(){d&&setTimeout(i,1e3)},[d,i]),r)?(0,es.jsxs)(e2.u_,{isOpen:r,onClose:n,closeOnEsc:!1,closeOnOverlayClick:!1,size:"lg",children:[(0,es.jsx)(e5.Z,{}),(0,es.jsxs)(e3.h,{children:[(0,es.jsx)(e4.x,{children:(0,es.jsx)(y.cC,{id:"H8aFPr"})}),(0,es.jsx)(e8.f,{children:(0,es.jsxs)(k.K,{children:[(0,es.jsx)(c.k,{height:32,justifyContent:"center",background:"radial-gradient(circle at center, var(--chakra-colors-pink-200) 0, var(--chakra-colors-salmon-200) 110%)",borderRadius:"md",pt:4,px:4,children:(0,es.jsx)(D.E,{src:od.Z.src,alt:"Sal floating on a pink gradient"})}),(0,es.jsx)(T.x,{fontSize:"lg",pb:0,pt:4,children:(0,es.jsx)(y.cC,{id:"arCM97"})}),(0,es.jsxs)(T.x,{fontSize:"sm",color:"gray.500",textAlign:"center",children:["(",(0,es.jsx)(y.cC,{id:"H50C1I"})," ",(0,es.jsx)("span",{role:"img","aria-label":"stopwatch",children:"⏱"}),")"]}),(0,es.jsx)(oc.a,{context:"modal",onSuccess:n})]})})]})]}):(0,es.jsx)(es.Fragment,{})};function oh(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}var ox=function(e){var n=e.currentChannelId,i=e.channelPreview,r=e.workspaceId,t=e.joinChannel,s=e.toastId,o=(0,e1.p)();return s?(0,es.jsxs)(c.k,{bg:"white",p:3,px:6,m:4,justify:"center",align:"center",borderRadius:"md",shadow:"md",children:[(0,es.jsx)(T.x,{fontSize:"sm",mr:4,children:(0,es.jsx)(y.cC,{id:"HPr8I3",values:{0:i.name},components:{0:(0,es.jsx)("strong",{})}})}),(0,es.jsxs)(ne.h,{size:"sm",alignItems:"center",children:[(0,es.jsx)(A.z,{maxW:"xs",display:"block",noOfLines:1,onClick:function(){if(!n||!i){console.error("No active channel id");return}t({channel:function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?oh(Object(i),!0).forEach(function(n){(0,el.Z)(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):oh(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}({},i),workspaceId:r}).then(function(){o.close(s)})},variant:"solid",children:(0,es.jsx)(y.cC,{id:"0wdd7X"})}),(0,es.jsx)(q.h,{isRound:!0,variant:"ghost",size:"xs","aria-label":W.ag._({id:"1QfxQT"}),icon:(0,es.jsx)(ev.T,{}),onClick:function(){o.close(s),p().replace("/#".concat(rY))}})]})]}):null},op=function(e){var n=e.currentChannelId,i=e.activeChannel,r=e.workspaceId,t=(0,s.useRef)(),o=(0,e1.p)(),l=rr().joinChannel,a=(0,F.aw6)({variables:{id:n,workspaceId:r},skip:i||!n||!r}),c=a.data,d=a.called,u=a.error,h=a.loading,x=n&&!i&&null!=c&&c.channel?c.channel:null;return(0,s.useEffect)(function(){u&&console.error("[useChannelsData] Error fetching channelPreview",u),(u||d&&x&&x.archived)&&p().replace("/#".concat(rY))},[u,x,d,h]),(0,s.useEffect)(function(){var e=n&&x;return!e&&t.current&&(o.close(t.current),t.current=void 0),e&&(t.current?t.current&&o.update(t.current,{duration:null,render:function(){return(0,es.jsx)(ox,{workspaceId:r,currentChannelId:n,channelPreview:x,joinChannel:l,toastId:t.current})}}):t.current=o({duration:null,render:function(){return(0,es.jsx)(ox,{workspaceId:r,currentChannelId:n,channelPreview:x,joinChannel:l,toastId:t.current})}})),function(){t.current&&o.close(null==t?void 0:t.current)}},[n,x,l,o,r]),{channelPreview:x}},oj=function(e){var n=e.workspaceId,i=e.user,r=(0,x.useRouter)().query,t=Array.isArray(r.channelSlug)?r.channelSlug[0]:r.channelSlug,o=t?t.slice(-15):null,l=(0,F.uCJ)({variables:{workspaceId:n},skip:!i||!i.workspaceMemberships||!n,returnPartialData:!0}),a=l.data,c=l.loading,d=l.subscribeToMore;(0,s.useEffect)(function(){if(d)return d({document:F.olB,variables:{workspaceId:n}})},[d,n]);var u=((null==a?void 0:a.channels)||[]).filter(function(e){return e.isMember&&!e.archived}).sort(function(e,n){return e.slug.localeCompare(n.slug,"en")}),h=u.find(function(e){return e.id===o});return{channelPreview:op({currentChannelId:o,activeChannel:h,workspaceId:n}).channelPreview,currentChannelId:o,channels:u,isChannelsLoading:c,activeChannel:h}},of=function(e){var n=e.currentChannel,i=e.currentWorkspaceId,r=(0,x.useRouter)().replace;(0,s.useEffect)(function(){i&&n&&n.workspaceId!==i&&r("/")},[n,i,r])},om={fontWeight:"bold",backgroundImage:"linear-gradient(50deg, #F658A8, #ff5b8a 49%, #ff5b8a 53%, #ff5b8a 55%, #fba64b 77%, #f99b52)",backgroundClip:"text",color:"transparent"},og=function(){return(0,es.jsx)(c.k,{bg:"#1A013F",direction:"column",mb:4,children:(0,es.jsxs)(c.k,{py:4,px:8,direction:["column","row"],children:[(0,es.jsxs)(k.K,{mr:[0,4],children:[(0,es.jsx)(T.x,{fontSize:"xl",sx:om,children:"Meet Gamma, the fast alternative to slides"}),(0,es.jsx)(T.x,{color:"gray.200",children:"Write like a doc, present like a deck."})]}),(0,es.jsx)(H.L,{}),(0,es.jsxs)(O.U,{mt:[2,0],children:[(0,es.jsx)(A.z,{as:"a",href:"/signup",children:"Make your own"}),(0,es.jsx)(A.z,{as:"a",cursor:"pointer",variant:"ghost",colorScheme:"whiteAlpha",onClick:function(){window.location.href="".concat(eY.v.API_HOST,"/logout")},children:"Sign out"})]})]})})},ov=function(){var e,n=(0,s.useState)(!1),i=n[0],r=n[1],t=(0,a.SE)(),o=t.user,l=t.currentWorkspace,u=(0,x.useRouter)().isReady,C=!!(o&&0===o.workspaceMemberships.length),y=(e=(0,ij.AE)(),Object.values(rE).find(function(n){return n===e})),w=oj({workspaceId:null==l?void 0:l.id,user:o}),O=w.channelPreview,k=w.channels,S=w.activeChannel,I=w.currentChannelId,D=w.isChannelsLoading;of({currentChannel:O||S,currentWorkspaceId:null==l?void 0:l.id});var T=I?rE.CHANNEL:y||rY;return(0,s.useEffect)(function(){u&&(C?p().replace("/#".concat(rE.SHARED_WITH_ME)):setTimeout(function(){return r(!1)},150))},[y,I,C,u]),(0,b.If)(function(e){e.track(b.AA.HOME_TAB_VIEWED,{tab:T})},[T]),(0,es.jsxs)(j.W,{backend:f.PD,children:[(0,es.jsxs)(c.k,{"data-testid":"home",width:"100%",height:"100%",position:"relative",children:[(0,es.jsx)(h(),{children:(0,es.jsx)("title",{children:y?"".concat(r_[y].ariaLabel," - ").concat(g.N6):"".concat(g.N6)})}),(0,es.jsx)(v.H9,{}),(0,es.jsx)(sJ,{}),C?null:(0,es.jsx)(rF,{channelPreview:O,isSidebarVisible:i,setIsSidebarVisible:r,user:o,isReady:!!o,activeTab:T,currentChannelId:I,channels:k,isChannelsLoading:D}),(0,es.jsxs)(c.k,{"data-testid":"doc-root-main",flex:"1",px:C?0:(0,iH.s2)()?2:6,py:C?0:(0,iH.s2)()?2:6,w:"calc(100vw - 300px - var(--chakra-sizes-4))",bg:"gray.100",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",direction:"column",marginLeft:{base:"0"},minH:"var(--100vh)",pb:"10em",transition:"margin .2s ease",children:[C&&(0,es.jsx)(og,{}),(0,es.jsx)(d.W,{maxW:"80em",p:(0,iH.s2)()?2:void 0,h:"100%",children:T===rP.TEMPLATES?(0,es.jsx)(s9,{isSidebarVisible:i,setIsSidebarVisible:r}):T===rP.INSPIRATION?(0,es.jsx)(s6,{isSidebarVisible:i,setIsSidebarVisible:r}):T===rP.THEMES?(0,es.jsx)(ol,{isSidebarVisible:i,setIsSidebarVisible:r}):T===rP.FONTS?(0,es.jsx)(sW,{isSidebarVisible:i,setIsSidebarVisible:r}):T===rP.SITES?(0,es.jsx)(rR,{isSidebarVisible:i,setIsSidebarVisible:r}):(0,es.jsx)(t5,{activeTab:T,userHasNoWorkspaces:C,isSidebarVisible:i,setIsSidebarVisible:r,currentChannelId:I,activeChannel:S,channelPreview:O})})]})]}),(0,es.jsx)(m.C,{showShortcuts:!1}),(0,es.jsx)(ou,{})]})},ob=function(){var e=(0,s.useState)(!1),n=e[0],i=e[1];return(0,es.jsxs)(c.k,{"data-testid":"home",width:"100%",height:"100%",children:[(0,es.jsx)(h(),{children:(0,es.jsx)("title",{children:"Gamma"})}),(0,es.jsx)(c.k,{direction:"column",zIndex:"overlay",h:"100%",position:{base:"fixed",md:"sticky"},top:0,w:"300px",minW:"300px",bg:"white",shadow:{sm:"lg",md:"none"},transform:n?{base:"translate(0,0px)",md:"translate(0,0)"}:{base:"translate(-100%,0px)",md:"translate(0,0)"},transition:"transform .2s ease",children:(0,es.jsx)(c.k,{overflowY:"auto",h:"100vh",p:6,py:2,direction:"column",alignContent:"space-between",children:(0,es.jsx)(rT,{setIsSidebarVisible:i})})}),(0,es.jsx)(c.k,{"data-testid":"doc-root-main",flex:"1",px:2,py:6,w:"100vw",bg:"gray.100",borderTopLeftRadius:"15px",borderBottomLeftRadius:"15px",direction:"column",marginLeft:{base:"0"},minH:"var(--100vh)",transition:"margin .2s ease",children:(0,es.jsxs)(d.W,{maxW:"80em",children:[(0,es.jsx)(eV.O,{height:"42px",w:"30%",mb:2}),(0,es.jsx)(eV.O,{height:"24px",w:"100%",mb:2}),(0,es.jsx)(eV.O,{height:"24px",w:"100%",mb:10}),(0,es.jsx)(c.k,{width:"100%",children:(0,es.jsx)(tf,{})})]})})]})},oC=i(34860),oy=function(){var e=(0,t.useRouter)().push,n=(0,a.SE)().userStatus,i=(0,oC.gF)();return((0,l.X)(!0),(0,s.useEffect)(function(){"loggedOut"===n&&e("/signin?redirect_to=".concat(encodeURIComponent(window.location.href)))},[n,e]),i)?(0,es.jsx)(ov,{},"home-v2"):(0,es.jsx)(ob,{},"home-skeleton")},ow=(0,o.wI)(oy)},87314:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(49348)}])},10498:function(e,n){"use strict";n.Z={src:"/_next/static/media/Sal-Tether.5de34fdf.svg",height:1352,width:3061,blurWidth:0,blurHeight:0}},27144:function(e,n){"use strict";n.Z={src:"/_next/static/media/google-docs.fc1fc7af.svg",height:65,width:47,blurWidth:0,blurHeight:0}},60945:function(e,n){"use strict";n.Z={src:"/_next/static/media/google-slides.41c2bc5b.svg",height:66,width:48,blurWidth:0,blurHeight:0}},65261:function(e,n){"use strict";n.Z={src:"/_next/static/media/ms-word.93689aae.svg",height:1750,width:1881,blurWidth:0,blurHeight:0}},28170:function(e,n){"use strict";n.Z={src:"/_next/static/media/powerpoint.0a9e1c20.svg",height:1786,width:1920,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[5333,9025,4424,3016,8707,146,3661,116,507,9497,7036,9751,9097,8022,3167,6364,6972,1077,9849,2310,318,9962,1153,4400,9836,7581,4188,4999,9774,2888,179],function(){return e(e.s=87314)}),_N_E=e.O()}]);
//# sourceMappingURL=index-b67177a389800222.js.map